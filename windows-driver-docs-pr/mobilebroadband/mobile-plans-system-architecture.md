---
title: モバイルプランのシステムアーキテクチャ
description: モバイルプランのシステムアーキテクチャ
ms.assetid: 76ea00c3-87b2-48ac-9a6a-ac794c0d7b88
keywords:
- Windows Mobile プランのモバイルオペレーター
ms.author: windowsdriverdev
ms.date: 07/31/2019
ms.topic: article
ms.prod: windows-hardware
ms.technology: windows-devices
ms.openlocfilehash: 8f5e3fbfcc51b2c287ca92fe43a2c1aa4f50932a
ms.sourcegitcommit: f89a978ee23b9d2f925b13ea56b2c6cd48b4603a
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/10/2019
ms.locfileid: "68948125"
---
# <a name="mobile-plans-system-architecture"></a>モバイルプランのシステムアーキテクチャ

このページでは、モバイルプランのシステムアーキテクチャの主要なコンポーネントの概要を示します。 これらの組み合わせによって、モバイルプランプログラムが構成されます。 すべてのモバイルオペレーター展開で、ここに示されているすべてのコンポーネントが必要になるわけではありません。

モバイルプランのシステムアーキテクチャは、次の5つの主要なコンポーネントで構成されています。

### <a name="mobile-plans-app"></a>モバイルプランアプリ

これは、携帯電話が有効なすべての Windows 10 デバイスに Microsoft によってプレインストールされたユニバーサル Windows プラットフォーム (UWP) アプリです。 モバイルプランアプリは、エンドユーザーエクスペリエンスをホストするためにユーザーのデバイスで実行されるプライマリクライアント環境です。 また、モバイルプランアプリをバックグラウンドで実行して、特定のイベント (トースト通知を表示するなど) をトリガーすることもできます。

### <a name="mobile-plans-service"></a>モバイルプランサービス

Mobile plan サービスは、モバイルプランアプリにデータを提供するクラウドベースのサービス層です。 また、モバイルオペレーター API への認証されたインターフェイスも提供します。

### <a name="mobile-operator-web-portal"></a>携帯電話会社の Web ポータル

これは、携帯電話会社によってホストされる web ベースのランタイム環境です。 携帯電話会社の web ポータルは、ユーザーが web ナビゲーションを使用して経験し、mobile plan アプリ内の本来でレンダリングされます。

### <a name="mobile-operator-api"></a>携帯電話会社 API

これは、ユーザーデータをモバイルプランに公開するために携帯電話事業者によってホストされるプログラムインターフェイスであり、ユーザーに提示されたコンテンツを更新するために実行時にフェッチできます。 実行時にフェッチされるユーザーデータの例としては、ユーザーの前払い残高があります。

### <a name="mobile-operator-sm-dp"></a>携帯電話事業者-DP +

これは、Windows 10 デバイスへの携帯電話会社の eSIM プロファイルの作成と配信を担当するサービスです。

## <a name="functional-overview"></a>機能の概要

次の図は、サブスクリプションを正常にアクティブ化して eSIM プロファイルをインストールするために、上記のコンポーネントが一般的なフローでどのように使用されるかについての概要を示しています。 他のフローも可能であることに注意してください。

![モバイルプランのシステムアーキテクチャ](images/mobile_plans_system_architecture.png)

1. モバイルプランアプリは Windows 10 デバイスで起動され、モバイルプランサービスから基本的な機能データを取得します。
2. Mobile plan アプリは、モバイルオペレーター web ポータルを呼び出し、関連するパラメーターを渡します。ポータルで使用して、どのユーザーエクスペリエンスを提示するかを決定できます。
3. 携帯電話会社の web ポータル内でアクティブ化フローが完了すると、携帯電話事業者は、SM DP + サーバーからの eSIM プロファイルを要求します。 対応する eSIM ライセンス認証コードがモバイルオペレーター web ポータルに返されます。
4. 携帯電話会社の web ポータルは、eSIM プロファイルのアクティブ化コードをモバイルプランアプリに返します。
5. モバイルプランアプリは、ライセンス認証コードを Windows LPA に渡します。これは、SM DP + server に接続して、eSIM プロファイルを取得します。
6. ESIM プロファイルがダウンロードされ、Windows 10 デバイスの eSIM にインストールされて、ライセンス認証がされます。 ライセンス認証が行われると、Windows 10 デバイスがモバイルオペレーターネットワークに登録されます。
7. ユーザーは、Windows ネットワークフライアウトを開きます。これにより、Mobile plan サービスに要求が呼び出され、利用可能な残高がフェッチされます。
8. Mobile plan サービスは、ユーザーに表示される使用可能な残高を返す、携帯電話会社の API に対して、バランスを取る要求を行います。
