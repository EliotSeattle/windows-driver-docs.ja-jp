---
title: スマート カード ミニドライバー
description: スマート カード ミニドライバー
ms.assetid: BE24E8C3-663A-47A3-B30C-CBB0AEF89E45
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: fb20231b804bdb47e4228c078562c730e7220aaa
ms.sourcegitcommit: 0cc5051945559a242d941a6f2799d161d8eba2a7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/23/2019
ms.locfileid: "63382564"
---
# <a name="smart-card-minidrivers"></a>スマート カード ミニドライバー


スマート カード ミニドライバーは、カードのミニドライバーの開発者から複雑な暗号化操作の大部分をカプセル化して、従来の暗号化サービス プロバイダー (CSP) を開発する代わりに単純なを提供します。

スマート カード ミニドライバーの仕様については、次を参照してください。[スマート カード ミニドライバーの仕様](https://msdn.microsoft.com/library/windows/hardware/dn631754)します。

Windows Vista 以降、アプリケーションは、Microsoft Cryptography API を使用できます。[次へ] Generation (CNG) のスマート カード ベースの暗号化サービス。 Windows Vista で導入された楕円曲線暗号 (ECC) の取り組みの一環として、ECC スマート カードは、新しい暗号化フレームワークでサポートされます。 アプリケーションとレガシ CAPI サブシステムを既存の Rivest-Shamir-Adleman (RSA) カードのミニドライバーと対話するインターフェイスを加えなくても動作し続けます。

RSA スマート カード ミニドライバーは、CNG インターフェイスを通じて呼び出すことができるように、スマート カード キー記憶域プロバイダー (KSP) で登録することもします。 デュアル モードの RSA ECC/+ ECC 専用の要求では、KSP およびを適切なカードのミニドライバーにルーティングされます。 Windows Vista ベースのクライアントでは、ECC 専用と ECC/RSA デュアル モードのカードは、Windows のスマート カード フレームワークを使用してサポートされます。 デュアル モードのカードは、RSA 専用の機能を公開するには、主に CAPI からもアクセスできます。

アプリケーションでは、スマート カード ベースの暗号化サービスの CAPI を使用します。 CAPI では、暗号化の要件を処理するために適切な CSP にさらに、これらの要求をルーティングします。

Microsoft Smart Card Base CSP および KSP、一般的に分離するアーキテクチャの洗練化必要 CAPI ベースの CSP および KSP の CNG ベースの機能それぞれのすべてのカード ベンダーを変更する必要があります実装の詳細からです。

Base CSP では、のみ、ミニドライバーを使用して、スマート カードの RSA の機能を使用できますが、CNG ベースの KSP は、Windows Vista および Windows の以降のバージョンで ECC 専用だけでなく ECC/RSA デュアル モードのスマート カードをサポートします。

すべての新しいスマート カードをサポートする新しいアーキテクチャの目的は、最終的には、-RSA、ECC、およびどのような次のとおりです。 2 つの部分に CSP の実装がによって分割されます。

-   Base CSP/KSP (共通部分)、対称ハッシュの機能が含まれたと個人識別番号 (PIN) エントリおよびキャッシュだけでなく公開キー暗号化の操作。
-   プラグインは、「カードのミニドライバー、」特定のスマート カードの特性をすべてのスマート カードに同じである統一インターフェイスに変換すると呼ばれる一連の。 カードのミニドライバーは、同様に、さまざまなスマート カード リーダーの特性を抽象化するスマート カード リソース マネージャー (SCRM) のサービスを使用して、カードと通信します。

スマート カード ベンダーの残りの部分では、カードのミニドライバー、Base CSP または KSP に、カードの抽象化を提供し、ファイル システム、および一連のプリミティブの機能として編成されるはかなり限られたインターフェイス レイヤーを実装します。 (カードの別のファイルは、一貫性のあるコンテンツであることを確認) をキャッシュや、名前付けの競合の処理などの順序の高い機能は、カードのミニドライバーの外部のより高いレベルで処理されます。

次の図は、カードのミニドライバーと CAPI ベースのアプリケーション間のインターフェイスを示します。

![カードのミニドライバーと capi ベースのアプリケーション間のインターフェイス](images/capiinterface.png)

次の図は、カードのミニドライバーと CAPI2 ベースのアプリケーション間のインターフェイスを示します。

![カードのミニドライバーと capi2 ベースのアプリケーション間のインターフェイス](images/capi2interface.png)

開発者の利用ライブラリの豊富な Microsoft をお勧めしますが、ミニドライバーを実行する暗号操作を提供します。 これにより、開発者が Microsoft Windows 更新プログラムのインフラストラクチャの重要なセキュリティ更新プログラムの配布を享受できます。

 

 





