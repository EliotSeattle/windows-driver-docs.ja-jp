---
title: Windows Vista では、ベンダー提供の INF ファイルの例
description: この付録には、ベンダー提供の INF ファイルで、Bth.inf の参照を実装する方法の例が含まれています。
ms.assetid: 37865571-D632-4A69-A2AB-D0B2570A6F9D
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: e27e66ef8c3ba8ef6d16dc4b9993e18cd090014a
ms.sourcegitcommit: fb8b1d2e18dd727e8a479b04c9e6051e7e9fa484
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/18/2019
ms.locfileid: "58761827"
---
# <a name="appendix-b-an-example-of-a-vendor-provided-inf-file-for-use-in-windows-vista"></a>付録 B:Windows Vista で使用するためのベンダー提供の INF ファイルの例

この付録には、ベンダー提供の INF ファイルで、Bth.inf の参照を実装する方法の例が含まれています。 この例は、バージョン 2.0 と Windows XP または Windows Vista で Bluetooth の仕様の EDR と互換性があるオプションのインストールに実装されます。 その他の種類の Bluetooth デバイスの INF ファイルは似ています。

次のバージョンの Windows デバイスをインストールするこの INF ファイルを使用できます。

- Windows XP SP2 および以降の service pack の 32 ビット バージョンのすべての Sku。
- Windows XP の 64 ビット バージョンのすべての Sku
- Windows Vista のすべての Sku

> [!NOTE]
> Windows 2000、Windows Server 2003、または少なくともにアップグレードされていない Windows XP の任意のバージョンでは、この INF ファイルを使用できません SP2。 また、ベンダー提供の INF ファイルは Windows 7 の必要はありませんのでを USB を持つ任意の USB デバイス\\クラス\_E0 & サブクラスです\_01 & 保護\_01 のハードウェア ID としてインストールされます、**ジェネリックBluetooth アダプター** Windows 7 でします。

強調表示されたセクションとディレクティブの詳細については、次の例の後に、番号付きのノートを参照してください。

```cpp
; XYZ Vendor INF File for Bluetooth Radio
;
; A sample INF for a stand-alone Bluetooth radio that does not
; have native Windows Vista support

; [1]
 [Version]
Signature            = "$Windows NT$"
Provider             = %ProviderName%
Class                = Bluetooth
CLASSGUID            = {e0cbf06c-cd8b-4647-bb8a-263b43f0f974};
DriverVer            = 10/28/2006,6.0.0.0                    ;
CatalogFile.NT     = BTHXYZ1.CAB

 [ControlFlags]
ExcludeFromSelect=*

[SourceDisksNames]
1=%SourceDisk%,,1

[Manufacturer]
%ManufacturerName% = XYZBth,NT.5.1,NTx86,NTamd64

; Match on a hardware ID generated by the device, for x86 and x64.

; [2]
[ZYXBth.NT.5.1]
%BthRadio1%        = Bt1.NT.5.1, USB\VID_xxxx&PID_yyyy
[ZYXBth.NTx86]
% BthRadio1%       = Bt1.NT.5.1, USB\VID_xxxx&PID_yyyy
[ZYXBth.NTamd64]
% BthRadio1%       = Bt1.NT.5.1, USB\VID_xxxx&PID_yyyy

; Windows XP specific sections -------------------------

; [3]
[Bt1.NT.5.1]
include         = bth.inf
needs           = BthUsb.NT

[Bt1.NT.5.1.HW]
include     = bth.inf
needs       = BthUsb.NT.HW
DelReg      = DeleteRegKeys

[Bt1.NT.5.1.Services]
include     = bth.inf
needs       = BthUsb.NT.Services

; [4]
[DeleteRegKeys]
; Delete support for the Microsoft FaxService
HKLM,"SYSTEM\CurrentControlSet\Services\Bthport\Parameters\UnsupportedServices","{00001111-0000-1000-8000-00805f9b34fb}"

[Strings]
; While strings are localizable, in this sample INF, we have
; not created any localized strings.
ProviderName     = "Vendor XYZ (c)"
ManufacturerName = "Vendor XYZ (c)"
BthRadio1        = "Bluetooth 2.0+EDR Model 3.2 from XYZ (c)"
SourceDisk       = "Windows Vista CD"
```

**注:**

1. **バージョン**セクションがあります、 **CLASSGUID**と**DriverVer**ディレクティブは次のように設定します。
    - **CLASSGUID**:Microsoft クラス GUID を使用して、Bluetooth デバイス ({e0cbf06c cd8b-4647-bb8a-263b43f0f974})、サード パーティ製の GUID ではありません。
    - **DriverVer**:既定のインボックス ドライバーを置き換える場合は、Bth.inf であるものより高い順位付け一致を提供するドライバーのバージョンを設定する必要があります。 ボックスのドライバーの既定の設定を優先するためのドライバーを構成する方法の詳細については、次を参照してください。[インボックス ドライバーのプライベート ビルドをインストールする](https://docs.microsoft.com/windows-hardware/drivers/install/installing-private-builds-of-in-box-drivers--windows-vista-and-later-)します。

2. ハードウェアの Id。 VID と PID の組み合わせは、製造元およびデバイスに一意である必要があります。 これにより、同じハードウェアの ID が複数のデバイスに対応していません。
3. **含める**と**必要がある**ディレクティブ。 **Include**これら 3 つのセクションにあるディレクティブが Bth.inf を参照します。 **必要がある**ディレクティブを示す Bth.inf からセクションは、デバイスのインストール中に処理する必要があります。
4. **して**ディレクティブで、参照、 **DeleteRegKeys**セクションで、レジストリ キーの削除または PDO または devnode デバイスの作成から Windows を防ぐための値。 たとえば、fax サービスのプロファイルは現在サポートされていないサービスは、一連の Windows Vista であるための値は、 **UnsupportedServices**レジストリ キー。 次の例から fax サービスのプロファイルの削除、 **UnsupportedServices**キーは、Windows デバイスの devnode を作成することができます。

デバイスと INF ファイルで最新の WHQL テストを実行し、Windows Update で INF ファイルのパッケージを発行ことを強くお勧めします。 これにより、自動的にからダウンロードできます INF ファイル、インターネット、Bluetooth 無線が新しいコンピューターに接続するときにします。
