---
title: ウォール クロックとリンク位置のレジスタ
description: ウォール クロックとリンク位置のレジスタ
ms.assetid: 6764affc-a4f0-4568-aa27-7f12e86b818b
keywords:
- ウォール クロックは、WDK のオーディオを登録します。
- リンクの位置は、WDK のオーディオを登録します。
- HD オーディオでは、実時間を登録します。
- 高解像度オーディオ (HD オーディオ)、実時間の登録します。
- HD オーディオ、リンクの位置を登録します
- Hd オーディオ (HD オーディオ) リンク位置レジスタ
- WDK のオーディオ、HD オーディオをクロックします。
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: af329930b41058ec8ca10abae347fdf5c27ba5e8
ms.sourcegitcommit: 0cc5051945559a242d941a6f2799d161d8eba2a7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/23/2019
ms.locfileid: "63335068"
---
# <a name="wall-clock-and-link-position-registers"></a>ウォール クロックとリンク位置のレジスタ


HD オーディオ コント ローラーには、89 秒間に約 HD オーディオ リンクとロールのクロックのビット レートで値が増加する 32 ビットのウォール クロック カウンター レジスタが含まれています。 ソフトウェアでは、このカウンターを使用して、デバイスのハードウェア クロックの間の相対的な誤差を測定することで、2 つまたは複数のコント ローラー デバイス間で同期します。

また、HD オーディオ コント ローラーには、リンクの位置のレジスタのセットが含まれています。 各 DMA エンジンでは、現在の読み取りを示すレジスタを配置または書き込み位置、エンジンは、HD オーディオ リンク経由で送信されるデータのリンクがあります。 位置、レジスタは循環バッファーの先頭からのバイト オフセットとして、現在の位置を表します。

-   レンダリングのストリームでは、リンクの位置のレジスタは、DMA エンジンは、コーデックをリンク経由で送信する次のバイトの循環バッファー オフセットを示します。

-   キャプチャ ストリームでは、リンク位置のレジスタは、次の DMA エンジンは、コーデックからリンク経由で受信するバイトの循環バッファー オフセットを示します。

循環バッファーのオフセットは、バイトの現在の読み取りまたは循環バッファーの先頭から書き込み位置オフセットだけです。 バッファーの末尾に達して、位置は、バッファーとゼロに循環バッファーのオフセットのリセットの先頭にラップします。 循環バッファーは、システム メモリに存在します。 詳細については、次を参照してください。、 *Intel 高度な定義オーディオ仕様*で、 [Intel HD オーディオ](https://go.microsoft.com/fwlink/p/?linkid=42508)web サイト。

関数のカーネル モード ドライバーでは、ウォール クロックを読み取るでき、位置のレジスタを直接リンクすることができます。 直接アクセスを有効にするのには、HD オーディオ バス ドライバーは、システムの仮想メモリにレジスタを含む物理メモリをマップします。 ドライバーの関数呼び出し、 [ **GetWallClockRegister** ](https://msdn.microsoft.com/library/windows/hardware/ff536401)または[ **GetLinkPositionRegister** ](https://msdn.microsoft.com/library/windows/hardware/ff536398)仮想システムを取得するルーチンウォール クロックの登録またはリンク位置レジスタへのアドレス ポインター。 これら 2 つのルーチン、HD オーディオ DDI の両方のバージョンで利用できます。

HD オーディオ コント ローラーのハードウェアには、メモリ ページを含まない、コント ローラーで別のレジスタのいずれかにウォール クロックとリンク位置のレジスタがミラー化します。 したがって、位置へのアクセス、コント ローラーのいずれかのレジスタをユーザー モードでないユーザー モードのプログラムは、ミラー化されたウォール クロック機能ドライバーがマップされている場合は、その他のレジスタの。 ドライバーは、その他のレジスタとプログラム、ハードウェアは、これらをタッチするユーザー モードのプログラムを許可しません。

登録のミラーリングと、ホスト プロセッサのページ サイズに対応する必要があります。 ホストのプロセッサ アーキテクチャによっては、4,096 ~ 8,192 バイトが通常のページ サイズにあります。

 

 




