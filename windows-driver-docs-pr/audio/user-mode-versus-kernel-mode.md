---
title: ユーザー モードとカーネル モードの比較
description: ユーザー モードとカーネル モードの比較
ms.assetid: ee506167-6b64-4e50-9988-102416bcb056
keywords:
- ソフトウェアのシンセサイザーの WDK オーディオ
- カスタムのシンセサイザー WDK オーディオ
- オーディオのユーザー モードとカーネル モード DirectMusic WDK
- カーネル モードと、ユーザー モード シンセサイザーの WDK オーディオ
- カーネル モード シンセサイザー WDK オーディオ、ユーザー モードと
- 待機時間の WDK オーディオ、DirectMusic
- ハードウェアのシンセサイザーの WDK オーディオ
- タイム スタンプ WDK オーディオ
- ユーザー モードと、DirectMusic カーネル モードの WDK オーディオ
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 1a94943d2ec07fe783963e6b1c4e3595da0e5419
ms.sourcegitcommit: 0cc5051945559a242d941a6f2799d161d8eba2a7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/23/2019
ms.locfileid: "63335337"
---
# <a name="user-mode-versus-kernel-mode"></a>ユーザー モードとカーネル モードの比較


## <span id="user_mode_versus_kernel_mode"></span><span id="USER_MODE_VERSUS_KERNEL_MODE"></span>


ユーザー モードまたはカーネル モードのいずれかで実行するカスタム シンセサイザーを記述できます。 一般に、ソフトウェア シンセサイザーがユーザー モードで実装するために簡単になりますが、頻繁にカーネル モードで待機時間の短縮を達成できます。 ハードウェア コンポーネントは、カーネル モードでのみサポートされていることができます。 適切な理由がない、ただし、最終的な実装がカーネル モードで実行する場合でも、ユーザー モードでの開発を開始するためです。

ソフトウェアのシンセサイザー (および wave シンク) を構築することは、ユーザー モードで非常に簡単です。 ユーザー モード インターフェイスは簡単に使用し、デバッグが簡略化します。 別のメリットは、結果として得られるコンポーネントが、Microsoft Windows 実行可能ファイルでことです。 この実行可能ファイルは、COM オブジェクトであるためには、単に regsvr32.exe を使用してコマンドラインからの自己登録のインストールです。 (RegSvr32 システム アプリケーションの呼び出し、DLL の[ **DllRegisterServer** ](https://msdn.microsoft.com/library/windows/desktop/ms682162)関数。 詳細については、ドキュメントを参照して、Microsoft Windows SDK。)

ユーザー モードの実装が必要な場合は、製品、ドライバーではなく、アプリケーション プログラムを配信できます。 ユーザーは、複雑なドライバーのインストール プロセスを回避し、インストールした後に再起動は必要ありません。 ユーザー モード コンポーネントは、他のアプリケーションで使用できるかどうかに応じて、使用可能なポートの 1 つとして列挙できます。 詳細については、次を参照してください。[登録 Your シンセサイザー](registering-your-synthesizer.md)します。

カーネル モードのソフトウェアの導入の利点は、待機時間の短縮です。 メッセージのタイムスタンプ付きの登場によって、ただし、この利点はありませんがほどです。 しましたを再生するキューに入れられたときに正確にメモを再生するときに、レガシ MIDI Api では、タイムスタンプはありませんでした。 タイムスタンプ、再生は、キューのノートを将来の時刻を指定できます。 時刻のタイムスタンプを使用して、事前に警告がシステムに固有の待機時間よりも少ない限り、適切な時にメモが再生されるを意味します。

待機時間は、ほとんどまたはまったくない事前に警告を再生するサウンドがキューに置かれたときに、問題のみです。 そのため、カーネル モードの実装は、ハードウェア アクセラレーションをサポートする場合またはユーザー モード ソフトウェア実装への望ましくない制限がある場合にのみ推奨します。

カーネル モードの実装を行う場合は、最適なアプローチはユーザー モードでの開発を開始する、します。 新しいシンセサイザーをゼロから作成する必要はありませんので、Microsoft のユーザー モードのシンセサイザーのソース コードは Microsoft Windows Driver Kit (WDK) で提供されています。 既存のコードを使用すると、ダウンロード可能なサウンド (DL) のダウンロードを解析する方法を理解します。 次に、(その他のチャンクを解析) などの任意の新しい機能を追加し、ユーザー モードでは、このロジックを最初に、デバッグ、ハードウェアにアクセスするルーチンをスタブすることができます。 (スタブ ルーチンでは、いずれかのことができます何かのソフトウェアのハードウェアの機能をエミュレートします)。DL の詳細については、Windows SDK のドキュメントを参照してください。

ユーザー モードで動作して、実装がある場合は、カーネル モードに移動し、ある連携できるようにできます。 カーネル モードで動作して、ソフトウェアのバージョンがある場合は後、次の手順では、ハードウェアに、機能の移動を開始します。 ユーザー モードとカーネル モード ソフトウェア シンセサイザーは、ハードウェアのシンセサイザーを起動して実行しているプロセスの便利なの中間手順として機能します。

前の推奨事項をまとめています。

-   ソフトウェア専用のコンポーネント (デザインの問題をデバッグすると、インストール、および削除の簡単なインターフェイスを使用して作業) するために、ユーザー モードでコンポーネントを最初に実装し、変換カーネル モードに応じて待機時間やその他の考慮事項のため。

-   ハードウェア コンポーネントの場合 (デザインの問題をデバッグすると、インストール、および削除の簡単なインターフェイスを使用して作業) するためにユーザー モードで、ソフトウェアのバージョンを実装し、カーネル モードのソフトウェアのバージョンに変換します。 最後に、ハードウェア、必要に応じて、すべてが動作するまで、一度に 1 つの機能に、カーネル モード コンポーネントを接続します。

 

 




