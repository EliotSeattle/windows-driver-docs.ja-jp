---
title: アダプター ドライバーの構築
description: アダプター ドライバーの構築
ms.assetid: e4a151b9-57aa-402f-8a0d-70547eb67917
keywords:
- オーディオのミニポート ドライバー WDK、アダプターのドライバー
- ミニポート ドライバー WDK オーディオ、アダプターのドライバー
- アダプターのドライバー WDK オーディオ、ミニポート ドライバー
- カーネル モード ドライバー サービス WDK オーディオ
- ポート クラス ドライバー WDK オーディオ
- PortCls WDK オーディオ、アダプターのドライバー
- オーディオ アダプター WDK
- オーディオ アダプター、WDK を構築します。
- アダプターのドライバー WDK オーディオを構築します。
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 43eb438e1a8ca2854e3b2dc6d316a9b2075de14d
ms.sourcegitcommit: fb7d95c7a5d47860918cd3602efdd33b69dcf2da
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/25/2019
ms.locfileid: "67355775"
---
# <a name="adapter-driver-construction"></a>アダプター ドライバーの構築


## <span id="adapter_driver_construction"></span><span id="ADAPTER_DRIVER_CONSTRUCTION"></span>


オーディオの特定のアダプター カードのドライバー サポートは、アダプタのドライバの形式をとります。 アダプターのドライバーは、以下の構成します。

-   ドライバーの起動と初期化を実行して、アダプター カードのオーディオ機能をすべてに共通するすべての操作を実装するコードを一般的なアダプターです。

-   アダプター カードの特定のオーディオ機能を管理するミニポート ドライバーのセット。

ハードウェア ベンダーには、アダプターの一般的なコードとすべてのミニポート ドライバーには、システムによって提供されないコードの両方が用意されています。

一般的なアダプター コードの例は、の実装を参照してください、 **CAdapterCommon** Sb16、Msvad、および Ac97 サンプル オーディオ ドライバー Microsoft Windows Driver Kit (WDK) でのインターフェイス。

階層型アプローチを使用して仕入先は、アダプターのハードウェア機能に応じて、さまざまなレベルのいずれかで動作するアダプターのドライバーを記述できます。 仕入先を決定する必要がありますまず特定のハードウェア関数に必要なサポートのレベルを決定するときにかどうか、システム提供のミニポート ドライバーが既に存在する関数がサポート (を参照してください、 [ **PcNewMiniport**](https://docs.microsoft.com/windows-hardware/drivers/ddi/content/portcls/nf-portcls-pcnewminiport)システム提供のミニポート ドライバーの関数の一覧)。 場合は、仕入先は独自のミニポート ドライバーを実装する必要がありますが、システム提供のポートのドライバーのいずれかを使用することがある可能性があります (を参照してください、 [ **PcNewPort** ](https://docs.microsoft.com/windows-hardware/drivers/ddi/content/portcls/nf-portcls-pcnewport)システム提供のポートの関数の一覧ドライバーの場合)。

WDM、デバイスのサポートを実装するには、次の手順を実行します。

1.  システム提供のミニポート ドライバーは既にハードウェアの機能をサポートする場合は、既存のミニポート ドライバーを使用して関数を管理します。

2.  ハードウェアの機能にシステム提供のミニポート ドライバーと互換性がない場合、関数は少なくとも 1 つのシステムが指定したポート ドライバーと互換性があるかどうかを決定します。 システム指定のポート ドライバーでは、ハードウェアの機能をサポートする場合は、関数を管理するミニポート ドライバーの部分を記述します。 ミニポート ドライバーは、所有しているポート ドライバーが必要とするミニポート インターフェイスの仕様に準拠する必要があります。

3.  システム指定のポート ドライバーいないハードウェアの機能をサポートする場合は、関数をサポートするために、ミニドライバーを記述します。 ミニドライバーは、ストリーミングのクラス ドライバーのインターフェイスの仕様に準拠する必要があります。

このセクションでは、次のトピックについて説明します。

[起動処理](startup-sequence.md)

[サブデバイスの作成](subdevice-creation.md)

 

 




