---
Description: Windows ハードウェア認定プログラムを送信するための USB デバイスとホストコントローラーを準備するハードウェアベンダーおよびデバイス製造元向けのガイドライン。
title: USB-IF 認定テスト
ms.date: 10/22/2019
ms.localizationpriority: medium
ms.openlocfilehash: 5cc2ac3be6ea1d3dbf0b74e15590091e73e17387
ms.sourcegitcommit: 0660c8d6d374298f3246fdb91661360610f8c846
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/24/2019
ms.locfileid: "72889649"
---
# <a name="usb-if-certification"></a>USB-認定の場合

Windows ハードウェア認定プログラムを送信するための USB デバイスとホストコントローラーを準備するハードウェアベンダーおよびデバイス製造元向けのガイドライン。

## <a name="usb-if-certification-tests"></a>USB-IF 認定テスト

Usb ハードウェア (具体的には USB デバイスまたはホストコントローラー) は、Windows 認定を受けるために USB の電気的要件と機械的要件を満たしている必要があります。 USB-証明書では、USB デバイスとホストコントローラーの詳細なテストについて説明し、高品質の実装を保証します。

以前のバージョンの Windows ハードウェア認定キットでは、デバイスを USB に送信するために製造元が必要でした-(テストの場合)。 HLK の新しいバージョンである USB IF のテスト要件により、製造元は、USB IF web サイトからテストをダウンロードして実行し、これらのテストが HLK に渡されたことをアサートすることができます。 デバイスが USB によって既に認定されている場合は、デバイスの USB IF テスト ID (TID) を HLK に提供する必要があります。

USB デバイスが現在の Microsoft Windows 認定プログラムの要件を満たしている場合でも、それらのデバイスの多くは、USB 仕様に完全に準拠していません。 最も一般的な例を次に示します。

- **ハブ**: 実際にはバスパワーしかない場合、外部電源があることが報告されるため、通常は失敗します。 False レポートは、バス上の無効な電圧条件につながります。
- **ハードディスクドライブ**: USB バスからの電力描画が過剰になっているために正しく列挙されないため、一般的に失敗します。 多くの場合、これらのハードディスクドライブでは、非標準ケーブルを正しく動作させる必要があります。
- **フラッシュドライブ**: 通常は、記述子要求を正しく処理しないため、失敗します。これにより、デバイスがハングし、Microsoft オペレーティングシステム記述子が失敗します。
- **カードリーダー**: は、選択的中断状態に入ることがないため、通常は失敗します。
- **プリンター**: スタンバイから再開されないため、通常は失敗します。
- **オーディオ**: 通常、スタンバイから再開されないため、失敗します。

準拠していない USB デバイスは、ユーザーエクスペリエンスの低下、パブリックな関係、製品返品、製品サポートコールの高コスト、および出荷された製品のバグのサービスに関連するコストの増加につながる可能性があります。

## <a name="windows-hlk-requirements-for-usb-if-tests"></a>USB IF テストの Windows HLK の要件

- デバイス (**デバイス. 接続. usbdevices. UsbifCertification)** :

    USB を利用する場合は、ただし、Windows HLK**の要件で**ある、usb デバイスの場合、usb が必要であることを前提としています。 要件は、デバイスが USB 対応であるかどうか、または USB IF の認定テストのサブセットをデバイスで実行できることを示します。

- ホストコントローラー (**デバイス... UsbController. UsbifCertification**)

    USB ホストコントローラーの製造元は、それぞれの Windows HLK の要件を満たすために、完全な USB を取得する必要があります。

- ハブ (**デバイス. 接続. UsbDevices. UsbifCertification**)

    USB ハブの製造元は、それぞれの Windows HLK の要件を満たすために、完全な USB を取得する必要があります。

システムの製造元は、USB ホストコントローラーを選択してシステムに統合するときに、これらの要件に注意する必要があります。 これらの要件により、USB デバイスのカスタマーエクスペリエンスを大幅に向上させることができます。 クラッシュとハングの主な理由を回避し、非対応の問題のトラブルシューティングとデバッグにかかる時間を短縮することができます。

## <a name="windows-hardware-certification-submission-options"></a>Windows ハードウェア認定の送信オプション

このイメージは、Windows 認定を取得する方法のプロセスフローを示しています。

![usb-テストの場合](images/usbif-testing.png)

次のいずれかの方法を使用して、新しい USB IF テスト要件を満たすように Windows 認定資格の USB デバイスを送信できます。

- **USB-認定の場合**

  Usb (承認された独立した[テストラボ)](https://www.usb.org/labs)からの usb を取得し、Windows 認定資格のデバイスを送信します。 次のオプションのいずれかを選択して、USB を使用してデバイスまたはホストコントローラーの証明書を取得できます。

  - テスト用にデバイスを USB で許可された独立したテストラボに送信します。 ラボを検索する方法の詳細については、「USB-承認された独立したテストラボ」を参照してください。
      **メモ** 通常、USB 仕様に準拠するために単一の USB デバイスをテストするには、承認された独立したテストラボが 1 ~ 2 週間必要です。

  - Usb 用の承認された独立したテストラボに USB デバイスを送信するには-証明書がある場合、製造元はラボに登録し、有効なベンダー ID (VID) を持っている必要があります。

  デバイスが USB IF 認定テストに成功すると、デバイスに対して次の特権が付与されます。

  - USB ロゴは、デバイスのパンフレット、パッケージング、製品情報に使用できます。
  - USB IF インテグレーターの一覧に表示されます。
  - デバイスを[USB 準拠のコンプライアンスワークショップ](https://www.usb.org/upcoming-events)に持ち込む。 毎年、4つのワークショップが米国で開催され、1つのワークショップがアジアに保持されます。

  デバイスが USB の場合、認定テストに合格すると、テストラボまたはワークショップからテスト ID 番号 (TID) を受け取ります。 この TID 番号は、デバイスの Windows HLK テストの残りの部分を実行するときに Windows HLK に提供されます。

  承認された独立したテストラボでの USB デバイスのテストと認定にかかるコストは、ラボによって異なる場合があります。 一部の承認された独立したテストラボでは、一部の関連企業のボリューム割引または割引が提供されます。 Usb 準拠のコンプライアンスワークショップでは、USB デバイスのテストと認定を行う費用はかかりません。 Usb に準拠している場合は、usb のメンバーである必要があります。

- **USB-自己テストの場合**

  USB コマンド検証ツールと USB 相互運用性テストドキュメントをダウンロードし、 [usb](https://usb.org/usb32tools)から必要なテストを実行します。 次に、Windows 認定資格のデバイスを送信します。

 >**注**: usb ホストコントローラーとハブは、usb if 自己テストオプションの対象ではなく、完全な usb を使用する場合は、認定を受ける必要があります。

  USB-IF 自己テストオプションを使用して Windows 認定を取得する場合は、少なくとも次の USB IF テストを実行する必要があります。

  - USB コマンド検証ツールのテスト: USB コマンド検証ツールは、デバイスが共通の USB コマンドを認識して受け入れることができるかどうかを確認します。
  - USB 相互運用性テスト: USB 相互運用性テストは、デバイスが他の USB 周辺機器と共存できる機能と機能を対象としています。

  これらのテストは、Windows HLK の外部でダウンロードされ、実行されます。 これらのテストは、windows の複数のバージョンに対応する Windows 認定資格を持つ USB デバイスを送信する場合でも、最新バージョンの Windows でのみ実行する必要があることに注意してください。 テスト結果は、すべてのバージョンの Windows のすべての Windows 証明書の送信に適用されます。

  次の手順では、必要な USB IF テストを実行して、Windows 認定のデバイスを修飾する方法について説明します。

  1. Usb コマンド検証ツール (USB3CV) と、 [Usb ソフトウェアおよびハードウェアツール](https://usb.org/usb32tools)からの相互運用性テストドキュメントをダウンロードします。

  2. 次の表で指定されている USB ハードウェアに対して、USB IF テストを実行します。

  | USB バージョン | USB-IF テスト |
  | --- | --- |
  | USB 2.0 | XHCI ホストコントローラーの背後にデバイスを接続し、USB 3.0 コマンド検証ツール (USB3CV) で9つのテスト [USB 2.0 デバイス] を実行します。 <br><br> 「 [Ehci テストプロシージャ](http://compliance.usb.org/resources/GoldSuite%20Test%20Procedure.pdf)」の「相互運用性」の「ehci」で説明されているように、相互運用性テストを実行します。 これらのテストを2回実行します。1つは EHCI ホストコントローラーの背後に接続されたデバイスで、もう1つは xHCI ホストコントローラーの背後に接続されているデバイスです。 |
  | USB 3.0 | XHCI ホストコントローラーの背後にデバイスを接続し、USB 3.0 コマンド検証ツール (USB3CV) で9つのテスト [USB 3.0 デバイス] を実行します。 <br><br> 「 [XHCI 相互運用性テスト手順](https://www.usb.org/document-library/xhci-interoperability-test-procedures-peripherals-hubs-and-hosts-version-096)」のドキュメントで説明されているように、相互運用性テストを実行します。 これらのテストを2回実行します。1回は、EHCI ホストコントローラーの背後に接続されているデバイスで、もう1回は xHCI ホストコントローラーの背後に接続されているデバイスです。 |
  
  3. テストが成功している場合は、HLK で "SELFTEST" という文字列を入力して、USB IF 証明書検証テストに入力します。

## <a name="related-topics"></a>関連トピック

[USB 用 Windows ハードウェアラボキットテスト](windows-hardware-certification-kit-tests-for-usb.md)
