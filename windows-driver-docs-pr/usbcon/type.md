---
Description: このトピックでは、有効になっている C USB の型システムと Windows の相互運用性をテストする方法について説明します。
title: USB Type-C 手動相互運用性テスト手順
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: d67c271a1983222ebbe8aa529b6c216cac979eea
ms.sourcegitcommit: 0cc5051945559a242d941a6f2799d161d8eba2a7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/23/2019
ms.locfileid: "63324388"
---
# <a name="usb-type-c-manual-interoperability-test-procedures"></a>USB Type-C 手動相互運用性テスト手順


**要約**

-   Windows 10 で USB 型-C# 相互運用性の手動テストの手順: (FT) の機能テストとストレス テスト (ST)。
-   さまざまなテストの計画、割り当てられた時間の特定の目的を解決するためのものです。
-   診断手順とデバイスの追加と削除などのシナリオを確認するためのヒント。

* * に適用されます * *

-   Windows 10

**正式な仕様と手順**

-   [USB 3.1 と USB 型-C# の仕様]( https://go.microsoft.com/fwlink/p/?LinkId=620208)
-   [xHCI の相互運用性のテスト手順](https://go.microsoft.com/fwlink/p/?LinkId=623257)

**最終更新日**

-   2015 年 8 月

このトピックでは、有効になっている C USB の型システムと Windows の相互運用性をテストする方法について説明します。 さまざまな機能を実行するデバイスとシステムの製造元とストレス テスト システムと USB 型-C# のコネクタを公開しているデバイスでのガイドラインを示します。 リーダーが公式 USB 仕様と xHCI の相互運用性テスト手順、USB.ORG からダウンロードできます。 これに精通するいると想定しています。

USB タイプ C ConnEx ボードを使用してこれらのテストを実行する、次を参照してください。 [USB 型 C ConnEx でシステムをテスト USB 型-C#](test-usb-type-c-systems-with-mutt-connex-c.md)します。

テスト製品は、次のカテゴリの 1 つ以上に属することができます。

-   **System**:デスクトップ、ラップトップ、タブレット、サーバー、または公開されている種類 C の USB ポートに電話します。 システムには Windows 10 デスクトップ エディション (Home、Pro、Enterprise、および Education) などの Windows 10 のバージョンを実行する必要があります Windows 10 Mobile の場合、またはその他のバージョン。
-   **ドッキング**:1 つ以上のポートを公開する型-C# の USB デバイス。
-   **デバイス**:システムまたはドッキング ステーションに接続できる種類 C ポートでのすべての USB デバイス このカテゴリには、従来の USB デバイス、USB 型-C# 仕様で定義されている付属品または代替のモードをサポートするデバイスが含まれています。

USB 型-C# の相互運用性のテスト手順は 2 つのセクションに分けられます。 (FT) の機能テストとストレス テスト (ST)。 各テスト セクションでは、テスト ケースを説明し、テストに適用されるカテゴリを識別します。 製品は、該当するカテゴリ全体に対してテストする必要があります。 特定のテスト_ケースには、関連するヒントと詳細のヒントへのリンクが含まれます。 このドキュメントは、USB 型-C# の機能と経験に重点を置いています。 USB 型-C# ソリューションの可能性がありますには、USB ハブまたは USB コント ローラーなどの他の USB コンポーネントが含まれています。 USB の両方については USB ハブおよびコント ローラーの詳細なテストの場合の[xHCI の相互運用性のテスト手順](https://go.microsoft.com/fwlink/p/?LinkId=623257)と、Windows ハードウェア認定キット。

<a href="" id="device-enumeration"></a>[デバイスの列挙](#ft1)  
デバイスの列挙の主要な要素が機能していることを確認します。

<a href="" id="system-boot"></a>[システムのブート](#ft2)  
製品が通常のシステム ブートを抑制していないことを確認します。

<a href="" id="system-power-transitions"></a>[システム電源の遷移](#ft3)  
システムの電源の切り替え効果および低電力状態からウェイク アップ機能の影響を受けない製品かどうかをテストします。

<a href="" id="selective-suspend"></a>[選択的な中断](#ft4)  
セレクティブ サスペンドの遷移を確認します。

<a href="" id="dock-identification"></a>[ドッキング ステーションの識別](#ft5)  
ドッキング ステーションにデバイスの記述子が正しく実装を確認します。

<a href="" id="alternate-mode-negotiation"></a>[別のモードのネゴシエーション](#ft6)  
サポートされている別のモードを確認します。

<a href="" id="charging-and-power-delivery--pd-"></a>[課金と電力の配信 (PD)](#ft7)  
USB タイプ C での課金を確認します。

<a href="" id="role-swap"></a>[役割の交代](#ft8)  
役割の交代を確認します。

ストレスのテスト セクションでは、ストレスとエッジ ケースのシナリオ、期間のデバイスの安定性をテストする手順について説明します。 ストレス テストには、カスタムのデバイスが必要です、 [Microsoft USB Test Tool (MUTT) デバイス](microsoft-usb-test-tool--mutt--devices.md)、レガシ USB 検証 (C 型の非の USB)。 今後型-C# の USB テスト デバイスでは、追加のテストと自動化を実現できます。

<a href="" id="system-power-transitions"></a>[システム電源の遷移](#st1)  
反復的なシステム電源イベントの後に、製品の信頼性をテストします。

<a href="" id="transfer-events"></a>[イベントを転送します。](#st2)  
複数の転送と接続イベントを生成します

<a href="" id="plug-and-play--pnp-"></a>[プラグ アンド プレイ (PnP)](#st3)  
さまざまな PnP シーケンスを生成します。

<a href="" id="device-topology"></a>[デバイスのトポロジ](#st4)  
さまざまなデバイスを製品のトポロジをテストします。

## <a href="" id="ft1"></a>FT ケース 1:デバイスの列挙


適用対象:システム、ドック、デバイス

**列挙型の機能はそのデバイスを確認するには**

1.  テスト システムと Windows のログオンを再起動します。
2.  開いている**デバイス マネージャー**テスト システムにします。 **開始**、型**devmgmt.msc**で、**検索**テキスト ボックス。
3.  デバイスを有効になっている C USB の型システムに接続します。 必要に応じて、デバイスが電源オンまたは外部電源に接続されていることを確認します。
    -   システム:システムには、任意の型から C の USB デバイスを接続します。
    -   デバイス:デバイスを有効になっている C USB の型システムに接続します。
    -   ドッキングします。USB タイプの C デバイス別のモードをサポートしているか、ドッキング ステーションに USB 型-c アクセサリ、および任意の USB 3.0 デバイスを接続します。 ドッキング ステーションをシステムに接続します。

4.  [デバイス] ノードが追加されたことを確認します。**デバイス マネージャー**します。 詳細については、次を参照してください。[デバイスの追加の確認方法](#add)します。
5.  エラーなしで接続されているデバイスが機能することを確認します。
6.  デバイス (とドッキングの該当する場合) を切断し、変更を監視**デバイス マネージャー**します。 ドッキング ステーションとデバイスに表示されない**デバイス マネージャー**します。 詳細については、次を参照してください。[デバイスの削除の確認方法](#remove)します。
7.  [反転、または反転](#flip)種類 C の USB ケーブルと手順 3 ~ 6 を繰り返しますの方向。

## <a href="" id="ft2"></a>FT ケース 2:システムのブート


適用対象:システム、ハブ、デバイス

**テスト対象の製品が通常のシステムのブート プロセスを抑制していないことを確認するには**

1.  テスト システムと Windows のログオンを再起動します。
2.  公開されている型から C の USB ポートと、システムには、次の USB デバイスを接続します。
    -   システム:この図のように、USB タイプ A のアダプターに、USB 型 C を使用して、システムの公開されている型から C の USB ポートにこれらのデバイスを接続します。

        ![usb タイプ c の構成](images/typec4.png)

        -   USB ハブ
        -   USB キーボード
        -   USB 3.0 フラッシュ ドライブ
    -   ドッキングします。テスト対象のドッキング ステーションで公開されているポートには、これらのデバイスを接続します。
        -   USB ハブ
        -   USB キーボード
        -   USB 3.0 フラッシュ ドライブ
    -   デバイス:システムの公開されている型から C の USB ポートには、デバイスを接続します。

3.  開いている**デバイス マネージャー**テスト システムにします。 **開始**、型**devmgmt.msc**で、**検索**テキスト ボックス。
4.  [デバイス] ノードが追加されたことを確認します。**デバイス マネージャー**します。 詳細については、次を参照してください。[デバイスの追加の確認方法](#add)します。
5.  システムを再起動します。システムがシャット ダウンしが正しく起動してください。 存在する場合は、システムの障害を調査します。
6.  システムまたはドッキング ステーションのテスト、次を確認します。
    -   USB フラッシュ ドライブが UEFI で認識される]、[起動可能なメディアとして BIOS とシステムはそこから起動できます。
    -   USB キーボードでは、UEFI と BIOS によって認識され、UEFI と BIOS の入力に使用できます。

7.  システムの起動後にデバイスが表示されることを確認**デバイス マネージャー**、列挙された正しくことを示します。
8.  接続されているすべてのデバイスのデバイスの機能を検証します。
9.  システムの場合に、ドッキング ステーションに接続されているこれらのデバイスで USB 型-C# のドッキングをシステムに接続して手順 3. ~ 8. を繰り返します。
    -   USB ハブ
    -   USB キーボード
    -   USB 3.0 フラッシュ ドライブ

## <a href="" id="ft3"></a>FT ケース 3:システム電源の遷移


適用対象:システム、ドック、デバイス

**システムの電源の遷移と低電力状態からウェイク アップ機能を製品に影響がないことを確認するには**

1.  テスト システムと Windows のログオンを再起動します。
2.  システムに公開されている型から C の USB ポートに USB 3.0 ハブをアタッチします。 詳細については、次を参照してください。[システムにデバイスを接続する方法](#connect)します。
3.  USB デバイスをハブに接続します。
4.  開いている**デバイス マネージャー**テスト システムにします。
5.  デバイスが追加されていることを確認します。**デバイス マネージャー**します。 詳細については、次を参照してください。[デバイスの追加の確認方法](#add)します。
6.  低電力状態、スリープまたは休止状態など、[スタート] メニューまたはオートメーション以下で説明するシステムを送信します。
7.  低電力状態からシステムを起動します。 デバイスは、リモート ウェイク アップをサポートする場合は、システムをスリープ解除するデバイスを使用します。 詳細については、次を参照してください。 [Troubleshooting system ウェイク](#wake)します。 それ以外の場合、システムをスリープ解除通常 (を使用して、電源ボタンまたはキーボード)。
8.  デバイスがまだ機能していることを確認します。 詳細については、次を参照してください。[デバイスの機能の確認方法](#function)します。

その他の使用可能なシステム電源の状態については、このテストを繰り返します。(S3) をスリープ、休止状態 (S4) とハイブリッド スリープします。

**注**  pwrtest.exe、Windows Driver Kit (WDK) で含まれているを使用して、電源の状態への移行を簡略化します。 詳細については、次を参照してください。 [PwrTest](https://msdn.microsoft.com/library/windows/hardware/ff550682)します。

 

## <a href="" id="ft4"></a>FT ケース 4:選択的な中断


適用対象:ドッキング ステーション、デバイス

**選択的にデバイスの移行が中断することを確認するには**

1.  テスト デバイスと、システム間での USB バス アナライザーを接続します。 詳細についてを参照してください、[セレクティブ サスペンドを確認するアナライザーを使用して](#analyzer)します。
2.  キャプチャ セッションを開始します。
3.  入力デバイスを選択的に許可する中断します。 転送が、デバイス上でアクティブにしないことを確認しながら、15 秒間待機します。 たとえば、テスト デバイスが、フラッシュ ドライブの場合は、ことを確認します。 開いているファイルがないです。キーボードまたはマウスの場合は、アイドル状態で、デバイスのままにします。
4.  ウェイク アップから、選択的なデバイスでは、アクションを実行することで状態を中断します。 たとえば、フラッシュ ドライブにファイルを開くキーボードの場合、キーを押すか、マウスを移動します。
5.  アナライザーで、デバイスが、選択的に入力したことを確認の状態を中断します。

選択的の追加情報を中断、次のソースから確認できます。

-   [HID の中断選択を有効にします。](https://go.microsoft.com/fwlink/p/?LinkId=623307)
-   [HID を USB デバイスをセレクティブ中断します。](https://msdn.microsoft.com/library/windows/hardware/jj131716)
-   [選択的分かりやすい解説を中断]( https://go.microsoft.com/fwlink/p/?LinkId=623308)

## <a href="" id="ft5"></a>FT ケース 5:ドッキング ステーションの識別


適用対象:Dock

1.  テスト システムと Windows のログオンを再起動します。
2.  USB タイプ-c ドッキング ステーションをシステムに接続します。
3.  ドッキングを確認します。 状態が正しく識別します。

**注**  ドッキング ステーション id の追加情報が記載されて、 [2015 WinHEC スライド プレゼンテーション](https://go.microsoft.com/fwlink/p/?LinkId=623309)(約 26 というタイトルのセクションでをスライドします。Dock としてデバイスを識別します)。

 

## <a href="" id="ft6"></a>FT ケース 6:別のモードのネゴシエーション


適用対象:システム、ドック、デバイス

**代替のモードのネゴシエーションのサポートされているモードを確認します。**

1.  テスト システムと Windows のログオンを再起動します。
2.  開いている**デバイス マネージャー**テスト システムにします。 **開始**、型**devmgmt.msc**で、**検索**テキスト ボックス。
3.  システムの代替モードが有効な型から C の USB ポートに別のモードが有効な型から C の USB デバイスを接続します。必要に応じて、デバイスと、システムを少なくとも 1 つの代替モードを共通の共有と、デバイスが電源または外部電源に接続されていることを確認します。
    **注**  型-C# のドングル/アダプタは、適切な周辺機器が入っていて、ドングル/アダプターの種類 C 以外の最後に接続されていることを確認します。

     

4.  別のモードのデバイスが追加されたことを確認します。**デバイス マネージャー**します。 場合によっては、代替モード デバイス モニターのデバイスまたは別のバス デバイスとして表示可能性があります。 詳細については、次を参照してください。[デバイスの追加の確認方法](#add)します。
5.  デバイスを切断して、変更を監視**デバイス マネージャー**します。 ハブとデバイスは必要がありますには表示されなく**デバイス マネージャー**します。 詳細については、次を参照してください。[デバイスの削除の確認方法](#remove)します。
6.  [反転、または反転](#flip)型-C# の USB ケーブルと手順 2 ~ 5 の方向。

## <a href="" id="ft7"></a>FT ケース 7:課金と電力の配信 (PD)


適用対象:システム、ドック、USB 電力配信プロトコルをサポートするデバイス

**USB タイプ-C での課金を確認します。**

1.  実行[USB 電力配信テスト]( https://go.microsoft.com/fwlink/p/?LinkId=623310)USB.org で定義されています。
2.  テスト システムと Windows のログオンを再起動します。
3.  システムは、次の手順に従います。
    1.  2 つのシステム型-C# の USB ケーブルを接続します。 1 つだけのシステムを現在受信していることを確認します。
    2.  システムに 1 つ以上の型-C# の USB ポートが含まれている場合は、同じシステム上の 2 つの型-C# の USB ポートを型-C# の USB ケーブルで接続します。 システムは充電していません (自体) を確認します。
    3.  バンドルされている USB 型-c 充電器を (バンドルされている) 場合、システムの種類 C の USB ポートに接続します。 システムの課金を確認します。
    4.  USB タイプ-c 充電器を他のソースから 3 c 上の手順を繰り返します。
    5.  型-C# の USB デバイスをシステムに公開されている型-C# の USB ポートに接続します。 デバイスが現在受信して確認します。

4.  Dock、するには、これらの手順を実行します。
    1.  型から C の USB ケーブルで有効になっている C USB の型システムには、ドッキング ステーションを接続します。
    2.  ドッキング ステーションに接続されているシステムが充電中を確認します。

5.  デバイスは、次の手順に従います。
    1.  デバイス、デバイスを有効になっている C USB の型システムに接続します。 デバイスが電源をシステムから受信を確認します。
    2.  (省略可能)デバイス、デバイスを有効になっている C USB の型システムに接続します。 デバイスは、システムを請求を確認します。

## <a href="" id="ft8"></a>FT ケース 8:役割の交代


適用対象:System

**役割の交代のことを確認します。**

1.  テスト システムと Windows のログオンを再起動します。
2.  2 つのシステム型-C# の USB ケーブルを接続します。
3.  各システムの現在のロールを確認します。
4.  スワップの役割に必要な手順を実行します。
5.  各システムの現在のロールが変更されたことを確認します。

## <a href="" id="st1"></a>ST ケース 1:システム電源の遷移


適用対象:システム、ドック、デバイス

1.  テスト システムを再起動します。
2.  公開されている型から C の USB ポートに USB SuperMUTT デバイスを接続します。
3.  実行、 [DF - スリープ (認定) 中に IO を]( https://go.microsoft.com/fwlink/p/?LinkId=623311)テストします。
4.  型-C# の USB テスト デバイスでは、手順 3. を繰り返します。

## <a href="" id="st2"></a>ST ケース 2:イベントの転送


適用対象:システム、ドック、デバイス

1.  テスト システムを再起動します。
2.  公開されている型から C の USB ポートに USB SuperMUTT デバイスを接続します。
3.  実行、 [DF - IO 前と後に再起動再起動](https://go.microsoft.com/fwlink/p/?LinkId=623312)をテストします。
4.  型-C# の USB テスト デバイスでは、手順 3. を繰り返します。

## <a href="" id="st3"></a>ST ケース 3:プラグ アンド プレイ


適用対象:システム、ドック、デバイス

1.  テスト システムを再起動します。
2.  公開されている型から C の USB ポートに USB SuperMUTT デバイスを接続します。
3.  実行、 [DF - スリープ状態および PnP IO 前に、と後に、]( https://go.microsoft.com/fwlink/p/?LinkId=623313)をテストします。
4.  型-C# の USB テスト デバイスでは、手順 3. を繰り返します。

## <a href="" id="st4"></a>ST ケース 4:デバイスのトポロジ


適用対象:システム、ドック、デバイス

1.  テスト システムを再起動します。
2.  C-USB タイプ A を使用して/V アダプターでは、A のすべてのポートの接続/この図のように、すべての機能を使用できるように、V アダプター。

    ![usb タイプ-c、/v アダプターの構成](images/typec5.png)

3.  テスト対象のシステムに追加の型から C の USB ポートがある場合は、手順 2. を繰り返します。
4.  実行、 [DF - スリープ状態中に IO を]( https://go.microsoft.com/fwlink/p/?LinkId=623314)をテストします。

**注**  テスト中に検証 C-USB タイプ A 経由で接続されているデバイスからの故障ではありません]、[画像のゆがみやオーディオなどの V ドングルが低下します。

 

## <a href="" id="ft-plan"></a>機能するシステムの相互運用性のテスト計画


予想時間:20 分

この計画の目標では、さまざまな種類の周辺機器と充電器、システムが動作できるかどうかを決定します。 このテスト計画では、システムの OEM 以外のソースからのテストに重点を置いています。

-   システム:Windows 10Windows USB 型-C# の公開ポート 10 システム (PC、タブレット、または電話)。
-   周辺機器
    -   USB タイプ A USB 型-C# のアダプターに
        -   USB 3.0 ハブ
        -   USB マウス
        -   USB 3.0 フラッシュ ドライブ
    -   記憶域ドライブを USB 型-C#
    -   USB タイプ-c ビデオ (ドングルは許容される)
-   電源装置:USB タイプ-c 充電器

<!-- -->

-   実行[FT ケース 1。デバイスの列挙](#ft1)USB 型-c ドングルをします。 各デバイスが列挙し、期待どおりに機能を確認します。 このイメージは、USB タイプ A ドングルをテストするための推奨されるトポロジを示しています。

    ![usb タイプ ドングルをテストするためのトポロジ](images/typec1.png)

-   実行[FT ケース 6。別のモードのネゴシエーション](#ft6)リスト内の残りの周辺機器の。 各デバイスが列挙し、期待どおりに機能を確認します。
-   限定されたバージョンを実行[FT ケース 7。課金と配信 (PD) の電源を](#ft7)種類 C の USB 充電器をします。 2 つのマシンを必要とするセクションをスキップし、のみ、システムが料金を請求できませんがあることを検証 (電源を受け入れる) サード パーティ製の電源アダプターが。

## <a name="usability-system-interoperability-test-plan"></a>使いやすさのシステムの相互運用性のテスト計画


予想時間:60 分

この計画の目的は、このシステムが USB 型-C# の周辺機器の最も一般的なユーザー シナリオを実行できるかどうかを決定です。 このテスト計画があると仮定で説明されているテストが正常に完了、[機能するシステムの相互運用性のテスト計画](#ft-plan)します。 使いやすさのテスト計画は、ユーザー、システム、およびデバイスの一般的なシナリオについて説明します。

-   システム:Windows 10Windows USB 型-C# の公開ポート 10 システム (PC、タブレット、または電話)。
-   周辺機器
    -   USB タイプ A USB 型-C# のアダプターに
        -   USB 3.0 ハブ
        -   USB マウス
        -   USB 3.0 フラッシュ ドライブ
    -   記憶域ドライブを USB 型-C#
    -   USB タイプ-c ビデオ (ドングルは許容される)
    -   C-USB タイプ A/V ドングル (ビデオ、USB の両方が含まれますと 1 つのアダプターとしてオーディオ可能性があります)
-   電源装置:別のサプライヤーからの 2 つの USB 型-C# 充電器です。

<!-- -->

-   実行[FT ケース 3。システム電源の遷移](#ft3)種類 C ドングルを USB で、リスト内の各周辺機器の。 各デバイスが列挙し、システム電源の状態変更の前後に期待どおりに機能を確認します。
    -   この図のように、USB 型-C# のアダプターに、USB Type-A を構成します。

        ![usb タイプ ドングルをテストするためのトポロジ](images/typec1.png)

    -   構成 C-USB タイプ A/V ドングルこの図のようにします。

        ![usb タイプ-c、/v ドングルの構成](images/typec2.png)

<!-- -->

-   実行[FT ケース 2。システムのブート](#ft2)C-USB タイプ A だけで、前のように構成 V ドングル イメージ、およびこれらのシナリオを検証/。
    -   システムの起動時に接続されているすべてのデバイスと C-USB タイプ A 経由で接続してモニターでビデオが表示されます/V ドングルします。
    -   システムは C-USB タイプ A を介して接続されている USB ディスクからブート/V ドングルします。

## <a name="full-interoperability-test-plan"></a>完全な相互運用性のテスト計画


予想時間:180 以上分

完全な相互運用性のテスト計画では、さまざまなユーザー シナリオについて説明します。 Usb デバイスのシステムを準備する際に、これらのテストを実行-IF 証明します。

-   システム
    -   Windows 10Windows USB 型-C# の公開ポート 10 システム (PC、タブレット、または電話)。
    -   その他の Windows 10Windows USB 型-C# の公開ポート 10 システム (PC、タブレット、または電話)。 システム (PC、タブレット、または電話) USB 型-C# の公開ポート 別の製品ラインまたは OEM からシステムをお勧めします。
-   周辺機器
    -   USB タイプ A 型 C adapterUSB 種類 C の USB アダプターを入力
        -   USB 3.0 ハブ
        -   USB マウス
        -   USB 3.0 フラッシュ ドライブ
    -   記憶域ドライブを USB 型-C#
    -   USB タイプ-c ビデオ (ドングルは許容される)
    -   USB タイプ-C A/V ドングルを (ビデオ、オーディオ、および 1 つの単位として USB を含む)
-   電源装置:別のサプライヤーからの 2 つの USB 型-C# 充電器です。

<!-- -->

-   すべての関数のストレス テスト ケースを実行します。 C-USB タイプ A の推奨構成]、[V は、この図には。

    ![usb タイプ-c、/v アダプターの構成](images/typec3.png)

## <a href="" id="add"></a>デバイスの追加を確認する方法


-   デバイスが接続されている USB ホスト コント ローラーを識別します。
-   適切なノードの下に新しいデバイスが表示されることを確認**デバイス マネージャー**します。
-   USB 3.0 ポートに接続して、USB 3.0 ハブが 2 つのデバイスを表示します。 1 つのフル スピード ハブ、USB 3.0 と下流にある別のダウン ストリーム。

## <a href="" id="remove"></a>デバイスの削除を確認する方法


-   デバイスの識別**デバイス マネージャー**します。
-   システムから、デバイスを削除するテスト ステップを実行します。
-   デバイスが不要になったに存在することを確認します。**デバイス マネージャー**します。
-   USB 3.0 ハブでは、両方のデバイス (SuperSpeed とコンパニオン ハブ) を削除することを確認してください。 この場合、デバイスを削除する障害は、デバイスのエラーがあり、適切な根本原因をトリアージに関連するすべてのコンポーネントによって調査する必要があります。

## <a href="" id="function"></a>デバイスの機能を確認する方法


-   デバイスが USB ハブの場合は、ハブのダウン ストリーム デバイスが機能することを確認します。 デバイスをハブで使用できるポートに接続できることを確認します。
-   デバイスが、HID デバイスの場合は、その機能をテストします。 必ず USB キーボードの種類、USB マウス カーソルを移動してゲーム デバイスは、ゲーム コント ローラーのコントロール パネルで機能します。
-   USB オーディオ デバイスは、再生やサウンドを録音する必要があります。
-   記憶域デバイスでは、アクセスできる必要があり、ファイル 200 MB 以上のサイズをコピーできる必要があります。
-   デバイスがあるスキャン (&)、印刷などの複数の関数の場合は、スキャンと印刷機能の両方をテストすることを確認してください。
-   場合は、デバイスが USB 型-C#、適用可能な USB を確認し、別のモードが機能します。

## <a href="" id="connect"></a>システムにデバイスを接続する方法


-   3.x の USB デバイスがテスト デバイスに適切な USB 3.x ケーブルを使用することを確認します。
-   デバイスがシステムによって認識されない場合は、不適切なケーブルまたはコネクタをチェックする同じ型の別のケーブルでデバイスを接続してみます。

## <a href="" id="wake"></a>システム スリープ解除のトラブルシューティング


システムをスリープ解除するようになっているデバイスのトラブルシューティング。

-   デバイスがウェイク アップであることを確認できます。
-   デバイスが接続されているホスト コント ローラーがシステムをスリープ解除に設定されていることを確認します。

## <a name="troubleshooting-missing-power-states"></a>不足している電源状態のトラブルシューティング


テスト システムがスリープまたは休止状態にアクセスできない場合は、システム内のすべてのデバイスにインストールされている最新のデバイス ドライバーがあることを確認します。 最も一般的な原因の 1 つは、システムでサポートされていないビデオ カードです。 システム電源の状態に関する問題の解決方法の詳細については、次を参照してください。[スリープを使用できない理由ですか?]( https://go.microsoft.com/fwlink/p/?LinkId=623315)します。

## <a name="using-etw-to-log-issues"></a>ETW を使用して問題をログするには


ETW の USB 2.0 ポートを有効にするのを参照してください。 [Windows 7 の USB core スタック ETW](https://go.microsoft.com/fwlink/p/?LinkId=623316)します。

USB 3.0 のログ記録を有効にするには、次のコマンドを代わりに実行 (を参照してくださいまたは[Logman の USB イベント トレースをキャプチャする方法](how-to-capture-a-usb-event-trace.md))。

``` syntax
logman start usbtrace -ets -o usbtrace.etl -nb 128 640 -bs 128
logman update usbtrace -ets -p Microsoft-Windows-USB-UCX Default
logman update usbtrace -ets -p Microsoft-Windows-USB-USBHUB3 Default
```

ログがキャプチャされた後、これらは、テスト シナリオを実行します。

このコマンドを使用して、トレースを停止します。

``` syntax
logman stop usbtrace -ets
```

## <a href="" id="analyzer"></a>セレクティブ サスペンドを確認するアナライザーを使用します。


USB 2.0 と 3.0 のトラフィックを分析するには、USB アナライザーやなどのデバイス、LeCroy ボイジャー M3i、アドバイザー T3、TotalPhase Beagle の 5000 する必要があります。 これらのアナライザーをキャプチャして、選択的に確認するために必要な機能を中断するリンクの状態情報を表示できます。

たとえば、TotalPhase analyzer を使用したトラフィックをキャプチャした後、出力では、次のようなイベントを参照してくださいは。

![usb タイプ c アナライザー](images/typec-analyzer.png)

テストには、中断状態に進むには、デバイスが必要とする場合を関連付けるためにできる必要があります、 &lt;Suspend&gt;上の位置には、中断状態に進むには、デバイスが必要です。 時刻のイベント。

## <a name="using-an-analyzer-to-confirm-lpm-u1-and-u2-transitions"></a>アナライザーを使用して、LPM U1 と U2 の遷移を確認するには


アナライザーのトレースがすべてのリンクの状態遷移を明示的に指定される必要があります: ステートメントとして"Rx U0 -&gt; U2"イベント。 たとえばで LeCroy のソフトウェアを使用して、**レポート**] タブで、[、 **USB3 リンク状態タイミング ビュー**します。 このオプションは、時間軸で、リンクの状態を表示します。 アナライザー可能性があります U2 移行 U1 が正しく表示されないに注意してください。 U1 に U2 からの回復がリンク状態が表示されます。

## <a name="disabling-selective-suspend-in-device-manager"></a>デバイス マネージャーを中断する選択的に無効化


選択的に無効にするにはデバイス マネージャーで USB デバイス上の中断、まず、デバイス ツリーで [デバイス] ノードを検索します。 この例では、次に示すハブで無効にするオプションを選択を中断します。

![デバイス マネージャー](images/typec-device-mgr.png)

デバイスを右クリックして**プロパティ**します。 選択し、**電源管理**タブ。

![デバイス マネージャー](images/typec-device-mgr1.png)

選択的に無効にする中断をご確認ください、**このデバイスを無効にするコンピューターを許可する**に省電力 チェック ボックスがオフです。

## <a href="" id="flip"></a>回転、または反転型-C# の USB ケーブル


型から C の USB ケーブルの目的は、ケーブルの向きに関係なく、ユーザーの機能を維持します。 反転、またはケーブルの反転は、ケーブルを取り外しのケーブルを取り外し、180 度回転することによって実現されます。

## <a name="reporting-test-results"></a>テスト結果のレポート


これらの詳細を提供します。

-   失敗したテストの前に実行された順序でテストの一覧。
-   一覧には、テストが失敗したか成功するを指定する必要があります。
-   システム、デバイス、ドッキング、またはテストに使用されたハブ。 含めることをモデル、および Web サイト、追加の情報を取得できるように必要な場合。

 

 




