---
Description: このトピックでは、省電力に関する LPM 機構について説明し、USB 3.0 の現在のハードウェアのさまざまな一般的な問題を説明します。
title: U1 または U2 の実装を含む一般的なハードウェアの問題
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 764a3e326883e3c78ddc422d0c03e5eef608ba78
ms.sourcegitcommit: 0cc5051945559a242d941a6f2799d161d8eba2a7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/23/2019
ms.locfileid: "63352754"
---
# <a name="common-hardware-problems-with-u1-or-u2-implementation"></a>U1 または U2 の実装を含む一般的なハードウェアの問題


このトピックでは、省電力に関する LPM 機構について説明し、USB 3.0 の現在のハードウェアのさまざまな一般的な問題を説明します。 USB のあるデバイス、ハブ、およびコント ローラー U1 と U2 を正しく実装かどうか証明が必要です。 証明書の目的の準拠テストをその要件が適用されます。 (Windows 8 に含まれている) Microsoft USB ドライバー スタックは、最大電力の削減を実現するために、U1 と U2 のメカニズムを最大限に活用します。 そのためこのトピックで説明したような問題が頻繁に表示されます。 これらの問題は、ユーザー エクスペリエンスの低下につながることができ、Windows が USB 3.0 の仕様によって提供される電力の削減を実現するを防ぐことがあります。

ハードウェア ベンダーは、このトピックで説明されている問題を回避するために手順を実行する必要があります。 問題がある現在リリースされているハードウェアには、ベンダーは、できるだけ早く修正プログラムで更新したファームウェアをリリースする必要があり、更新プログラムは顧客に提供されることを確認するには、そのパートナーを使用する必要があります。

LPM が大幅に電力を節約し、長いバッテリ寿命につながることがことができます。 そのため、ソフトウェアとハードウェアの両方をサポートするように LPM、最大限の損害賠償を命令型です。 ただし、不適切なエンド ユーザー エクスペリエンスにつながる可能性がある LPM 実装で一般的な問題がある USB 3.0 ハードウェアの初期のプロトタイプの一部です。 このセクションの目的では、これらの問題を特定します。

## <a name="device-related-issues"></a>デバイス関連の問題


-   **U1 または U2 はサポートされていません**

    一部のデバイスは、ことはありません U1 と U2 の遷移を開始して、長い時間転送がない場合でも常に、ホストによって開始された遷移を拒否、LPM のパフォーマンスに与える影響がする大きな可能性があります。 これらのデバイスでは、そのリンクの省電力を防ぐためだけでなく、アップ ストリームのすべてのリンクを U1 または U2 を入力するようにすることもします。

-   **正しくない遅延パケットの実装**

    」の説明に従って[パケットを保留する](u1-and-u2-transitions.md#packet-deferring)、ホストが ERDY への応答を送信するまでに、デバイスする必要があります U0 でリンクを維持、デバイスが ERDY を送信すると、または**tERDYTimeout**に発生します。 一部のデバイスのパケットの遅延通知を取得した後の ERDY の送信に失敗します。 これは決して、転送が完了する問題のある状況につながります。

-   **U1 で Ping.LPFS の送信に失敗**

    デバイスの米国のポートの送信を保持する必要があります**Ping.LPFS** U1 がリンクの場合。 一部のデバイスは、そのデバイスが削除されたことを想定するリンクのパートナーになるため失敗します。 可能性がありますがエラー状態へのリンクをデバイスの再列挙が発生することができます。

-   **セットのエラー\_SEL 転送**

    ソフトウェア セットを送信する\_さまざまなデバイスに通知する SEL コントロール転送 U1 と U2 から待機時間を終了します。 転送によってデバイス区画です。 列挙に失敗する可能性があります。 またはソフトウェアをデバイスのない U1 または U2 を有効にする可能性があります。

-   **セットのエラー\_機能 (U1\_U2 の有効化または\_を有効にする) 転送**

    ソフトウェアを有効またはセットを送信することによって、U1 または U2 の遷移を開始するデバイスの機能を無効にします。\_機能の制御の移動。 転送によってデバイス区画です。 これは、列挙の失敗または有効にしない U1 または U2、デバイスのソフトウェアにつながります。

## <a name="hub-or-controller-related-issues"></a>ハブまたはコント ローラーに関連する問題


-   **U1 または U2 のタイマーのサポートされていません**

    LPM 実装で最も一般的な問題の 1 つは、タイマーの期限が切れると、U1 または U2 遷移を開始するエラーです。 ソフトウェア プログラムの DS ポート U1 または U2 のタイムアウト値には後に、もいくつかのハブまたはコント ローラーは実行されません U1 または U2 への移行をタイマーの有効期限。 この動作は、LPM による電源割引価格をできないようにします。

-   **ハード コーディングされたのか、U1 と U2 タイムアウト値**

    一部のホスト コント ローラーは U1 および U2 の遷移をサポートが、ハード コーディングされたタイムアウト値です。 このタイムアウトは、前に、ありませんこれらの遷移を開始してくださいリンク パートナーによって開始された遷移を拒否します。 この動作は、U1 と U2 の遷移の機会になり、そのため、いくつかの省電力を防ぐことができます。

-   **遅延のパケットの不適切な実装**

    」の説明に従って[パケットを保留する](u1-and-u2-transitions.md#packet-deferring)ハブは、デバイスから NRDY 通知に似ています、パケットを処理する必要がありますホストに遅延ビットのパケット ヘッダーの送信を担当します。 一部のハブは、ホストまたはデバイスに遅延のパケットを送信に失敗します。 一部のホストが正しくない遅延ビット パケットを処理したり、デバイスが最終的に ERDY を送信するときに、転送を再送信しないでください。 これにより、エラーや、信頼性の低い動作を転送します。

-   **U2 ときに接続されていないデバイスにアップ ストリームのポートを送信していません**

    一部のハブは、ダウン ストリーム デバイスの接続がない場合に、U1 または U2 の遷移を米国のポートを開始に失敗します。 一部のハブでは、リンク U1 を送信しますが、このシナリオで U2 に送信しません。 このホワイト ペーパーのリリース日の時点での USB 3.0 ハードウェアの現在の配布の実装の多くで、この問題が確認されています。 この動作には、省電力の最適化ができないようにします。

-   **U2 に U1 から米国のポートを移行しません。**

    一部のハブは、ハブの DS ポートが U1 から U2 または低い状態に移行と U2 に U0 U1 から米国ポートの移行に失敗します。 0 xff の場合に、ハブが接続されている DS ポートの非アクティブ タイマーが設定されている場合に発生します。 この動作には、省電力の最適化ができないようにします。

-   **U1 と U2 から U3 への移行**

    U1 または U2 ハブまたはコント ローラーの DS ポートがあり、ソフトウェア、ポートで U3 遷移を開始する、親ハブまたはコント ローラーは、U0、そして U3 へのリンクを最初に移行されます。 いくつかのハブおよびコント ローラーは処理しない要件。 これがエラー状態へのリンクが発生する可能性があり、デバイスの再列挙が発生することができます。  

 

 




