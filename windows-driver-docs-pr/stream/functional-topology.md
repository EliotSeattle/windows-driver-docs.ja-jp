---
title: 機能のトポロジ
description: 機能のトポロジ
ms.assetid: f25b3581-5561-4668-8549-65506b03815d
keywords:
- 機能トポロジ WDK BDA
- コントロールノード WDK BDA
- テンプレートトポロジ WDK BDA
- pin の種類 WDK AVStream
- ノード WDK AVStream
- ノードの説明 Guid WDK の BDA
- 実際のトポロジ WDK BDA
- Guid WDK BDA
- demodulator 制御ノード WDK BDA
- チューナー制御ノード WDK BDA
- ブロードキャストドライバーのアーキテクチャ WDK AVStream、制御ノード
- BDA WDK AVStream、制御ノード
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: dd2d3cb3b62986ce7f9b10361fae9d7fea19e909
ms.sourcegitcommit: 4b7a6ac7c68e6ad6f27da5d1dc4deabd5d34b748
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/24/2019
ms.locfileid: "72843362"
---
# <a name="functional-topology"></a>機能のトポロジ





ブロードキャストレシーバーのフィルターグラフを構築できるようにするには、あらゆる種類のネットワークの種類に対応した方法で、また、チューナーやデコーダーなどのハードウェアとソフトウェアの実装を使用します。DirectShow から、*機能トポロジ*の概念を抽象化します。 機能トポロジは、フィルターグラフと同様に、受信信号で行われる一連の変換を記述します。 ただし、フィルターグラフとは異なり、機能トポロジでは、実際のフィルターやソフトウェアモジュールは記述されません。また、操作をソフトウェアまたはハードウェアに実装する方法についても説明します。 代わりに、抽象*コントロールノード*の構成について説明します。各ノードは一般的な不連続操作を表します。

コンピューターにインストールされているハードウェアおよびソフトウェアコンポーネントの種類によっては、同じ機能トポロジによって、フィルターグラフの構成や*実際のトポロジ*が異なる場合があります。 たとえば、ハードウェアベンダーがチューナーと demodulator を同じ回線カードに実装することを選択した場合、[カーネルストリーミング (KS) プロキシモジュール](https://docs.microsoft.com/windows-hardware/drivers/ddi/_stream/index)は、フィルターグラフ内のこのハードウェアデバイスを、2つの内部制御ノードを持つ1つのフィルターとして表します。 BDA デバイスフィルターは、従来の DirectShow フィルターとは区別します。単一の BDA デバイスフィルターは、1つの機能モジュール (回線など) に組み込まれているハードウェア関数 (コントロールノードの実装) をカプセル化できるためです。カードまたはチップ)。

コントロールノードによって提供される関数は、GUID によって一意に識別されます。 ノードの説明の GUID の定義については、「 [BDA ノードカテゴリ guid](https://docs.microsoft.com/windows-hardware/drivers/stream/bda-node-category-guids)」を参照してください。 グラフ構築プロセスでは、ネットワークプロバイダーフィルターはこれらの Guid を使用して、特定のネットワークの種類やチューニング領域をサポートするためにどのノードが役立つかを判断します。 ブロードキャストレシーバーフィルターグラフのフィルターは、COM インターフェイスを使用して、サポートされるノード型とピンの種類を示します。 フィルター用の BDA ドライバーは、この同じ情報を KS プロパティセットを通じて示します。 フィルターには、そのノードの種類、ピンの種類、ピンとノードの接続方法を記述するデータ構造が含まれています。 この情報は、フィルターの*テンプレートトポロジ*と呼ばれます。 次の図は、テンプレートトポロジを示しています。

![テンプレートトポロジを示す図](images/bapinnod.png)

上の図のテンプレートトポロジには、5つの異なるノードタイプと4種類の pin が含まれています。 ピンの数とノードの種類は、フィルターによって割り当てられた任意の識別子です。 ただし、各ノードタイプは、ネットワークプロバイダーが調べることができるノード記述 GUID に関連付けられています。 各ノードタイプはトポロジ内で1回のみ発生することができますが、フィルターによってノード型に識別子が割り当てられるため、同じコントロールノード GUID を複数のノードタイプに関連付けることができます。 たとえば、数字1と3で識別されるノード型は、2つの異なる出力パスを持つ同じコントロールノード GUID を表すことができます。 テンプレートトポロジは、このシナリオを2つの異なるノードタイプで表す必要があります。 テンプレートトポロジでこれらのピンおよびノードの種類を接続する線は、フィルターがサポートするパスを示しています。

ネットワークプロバイダーは、このトポロジを調べて、特定のグラフのシグナルに対してフィルターが実行する変換を判断する必要があります。 テンプレートトポロジを記述するデータ構造の詳細については、「 [Broadcast Driver Architecture ミニドライバー](broadcast-driver-architecture-minidrivers.md)」を参照してください。

 

 




