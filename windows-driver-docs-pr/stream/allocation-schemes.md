---
title: 割り当てのパターン
description: 割り当てのパターン
ms.assetid: bd51205d-53e6-42d0-b5e3-36968acba3a3
keywords:
- 割り当てオプション WDK のカーネルのストリーミング
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 660886aa8d4fb96ffc7ab1dd619c632ef7047c0e
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/31/2019
ms.locfileid: "56539048"
---
# <a name="allocation-schemes"></a>割り当てのパターン





次の図は、3 つのフィルターで使用するために割り当てられている 1 つのアロケーターを表します。 コンソール アプリケーションは、システムがこれらのフィルターに、アロケーターのハンドルが割り当てられていないため、シンクの変換またはフィルターで、割り当ては必要ありません。

![アロケーターの単純な構成を示す図](images/ksart-10.png)

ソース フィルターは、フレームを割り当て、データを読み込みますおよび次のフィルターに送信します。 変換のフィルターは、インプレース データ変換を実行し、次のフィルターにフレームを送信します。 シンク フィルターには、I/O 操作が完了すると、ソース フィルターは解放するか、フレームを再利用します。 フロー制御は、I/O 操作の完了の割合とシンク アロケーターから割り当て可能な合計の未処理のフレームの数によって、このフィルターのグラフに保持されます。

次の図は、ソース フレームは複数の変換先のシンクにルーティングするアロケーターの構成を表します。

![複数のシンクには、アロケーターの構成を示す図](images/ksart-11.png)

図では、ファイル ライターは、ファイルをオーディオにサウンド カードが送信されているデバイスを wave を表すことができます。

このフィルターのグラフには、2 つのアロケーターが含まれています。 変換のアロケーターとデバイスのアロケーター。 ソース フィルターは、フレームを変換アロケーターから割り当て、データを読み込みますおよび変換フィルターしてから、ファイル ライターに送信します。 フレームの受信後は、変換、フィルターはデバイス アロケーターからフレームを割り当てます、新しいフレームにデータの変換を実行し、デバイスには、このフレームを送信します。

フロー制御は、I/O 操作の完了の速度とアロケーターから割り当て可能な合計の未処理のフレームの数によって、このフィルターのグラフに保持されます。 ピンを接続を使って作成されたソース/シンクのセグメントの独立した各リストの別のアロケーターがある必要があることに注意してください。 別のアロケーターが存在しない場合は、指定されたセグメントは、次のセグメントは、前のセグメントによって作成されたデータを処理する 1 つまたは複数のフレームがかかる場合は none のまま使用可能なすべてのフレームを使用可能性があります。

 

 




