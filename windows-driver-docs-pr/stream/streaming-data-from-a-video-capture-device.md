---
title: ビデオ キャプチャ デバイスからのデータのストリーミング
description: ビデオ キャプチャ デバイスからのデータのストリーミング
ms.assetid: c83aae8e-70a7-4d65-a888-00a7c21eebdd
keywords:
- ビデオ キャプチャ WDK AVStream からのストリーミング データ
- データをストリーミング ビデオの WDK AVStream のキャプチャ
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 51b7590555c13416f0767a4b9a9f1e2cccfcfb14
ms.sourcegitcommit: fb7d95c7a5d47860918cd3602efdd33b69dcf2da
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/25/2019
ms.locfileid: "67377785"
---
# <a name="streaming-data-from-a-video-capture-device"></a>ビデオ キャプチャ デバイスからのデータのストリーミング


ビデオ ストリームは、タイムスタンプ、デジタル ビデオ、および関連するなどの情報、垂直帰線消去期間 (VBI) データとタイムコードで構成されます。 ストリームは一時停止、開始され、それぞれ個別に停止しました。 Stream のサンプルでは、100 ナノ秒単位の精度のクロックとタイムスタンプです。

ビデオ キャプチャ ミニドライバーは、複数をサポートできるカスタム データ形式と同時ビデオ ストリームの圧縮と圧縮されていない、タイムコード、クローズド キャプション、生と VBI のデータをデコードします。 ミニドライバーは、他のデータ型が生成されるデータの種類ごとの新しいストリームを同時に作成する必要があります。 AVStream または Stream クラス インターフェイスは、新しい各ストリームに対して個別に暗証番号 (pin) を公開します。 これらのピンは、KsProxy ではミラー化され、DirectShow フィルターとして、ユーザー モードで表示されます。 DirectShow フィルターは、WDM フィルター ドライバーではありません。 Pin とストリーミングの詳細については、次を参照してください。[カーネル ストリーミング](kernel-streaming.md)します。

各ビデオのストリーミング ピンには、さまざまな異なるデータ形式をサポートできます。 たとえば、ピンが 1 つは RGB16、RGB24、YUV9、JPEG、デジタル ビデオをサポートする可能性があります。 ほとんどのデバイスでは、これらの形式の一部のみをサポートします。 詳細については、ストリーム形式とサポートされる形式の範囲を指定するを参照してください[Stream の形式を指定する](specifying-stream-formats.md)します。

### <a name="vertical-blanking-interval-vbi-data"></a>垂直方向の間隔 (VBI) データを非表示

クローズド キャプション (CC)、North American ブロードキャスト文字放送標準 (NABTS)、文字放送、ダウン ストリームのフィルターとコーデックが抽出できるように垂直帰線消去期間 (VBI) ストリームをキャプチャするときにキャプチャ デバイスでは、未加工の解読できない VBI サンプルを指定する必要があり、生のサンプルからの他の機密データ。

変更のチューニングの VBI デコーダーをすぐに通知する必要があります。 たとえば、チューナーは、1 つのチャネルを切り替える、VBI デコーダーする必要があります通知が表示、チューニング操作の先頭に信号が不安定になる期間中にデコードを一時的に停止できるように。 チューニング操作が完了したら、新しいチャネルと任意のビデオ標準または国/地域コードの変更された可能性があるの VBI デコーダーを通知する必要があります。

ミニドライバーがクロスバー フィルターを通過した後、そのキャプチャ フィルターのアナログ ビデオ入力ピンに、そのチューナー フィルターからチューニング パケットを伝達する必要があります。 このパケットをユーザー モードでできるは、キャプチャ フィルターに達するまでだけです。 ミニドライバーは、としてこのチューニングのパケットを受信する[ **KS\_tv チューナー\_変更\_情報**](https://docs.microsoft.com/windows-hardware/drivers/ddi/content/ksmedia/ns-ksmedia-tagks_tvtuner_change_info)ミニドライバーのキャプチャのアナログ ビデオ入力ピンに構造体フィルターです。

ミニドライバーは、そのフィルターを使用するキャプチャの VBI 出力ピンにチューニングのパケットにも反映する必要があります、[ビデオ ストリーム拡張ヘッダー](video-stream-extended-headers.md)します。 チェーンとして動作する VBI デコーダーは、その出力ピンに pin 入力から拡張ヘッダー情報を伝達同様にする必要があります。

 

 




