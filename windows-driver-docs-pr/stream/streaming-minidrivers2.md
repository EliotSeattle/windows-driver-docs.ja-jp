---
title: ストリーミングのミニドライバー
description: ストリーミングのミニドライバー
ms.assetid: 9f669a1a-50fd-482f-a5af-28e5685dc68c
keywords:
- Windows 2000 カーネル ストリーミング モデル WDK、ミニドライバーのストリーミング
- ミニドライバーのストリーミング、モデル WDK Windows 2000 カーネルのストリーミング
- カーネル ストリーミング モデル WDK、ミニドライバーのストリーミング
- Stream.sys クラス ドライバー WDK Windows 2000 のカーネル
- ミニドライバー WDK Windows 2000 のカーネルのストリーミング
- ミニドライバー WDK Windows 2000 のカーネルのストリーミング
- Stream.sys クラス ドライバー WDK Windows 2000 のカーネル
- ミニドライバー WDK Windows 2000 のカーネルのストリーミング
- WDK Windows 2000 カーネル ストリーミング、ミニドライバー
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 7c51b3d69e2ac63f4eb9fe0d60d1f8041d8149c1
ms.sourcegitcommit: 0cc5051945559a242d941a6f2799d161d8eba2a7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/23/2019
ms.locfileid: "63324764"
---
# <a name="streaming-minidrivers"></a>ストリーミングのミニドライバー





**注**  このセクションでは、古いについて*Stream.sys*クラス ドライバー。 Microsoft Windows XP のリリースでは、Microsoft サポートしている*Stream.sys*既存のドライバーに対してだけです。 このリリースの時点では、ベンダーは、クラスの AVStream ドライバー モデルを使用するビデオまたはオーディオ/ビデオ、マルチ メディア ドライバーの新規の開発を検討をお勧めします。 詳細を確認、 [AVStream の概要](avstream-overview.md)します。 オーディオのみのドライバーを開発する場合は、Microsoft の下で、オーディオ ミニポート ドライバーを記述する必要があります*Portcls.sys*クラス ドライバー。 詳細については、次を参照してください。[オーディオ ミニポート ドライバー](https://msdn.microsoft.com/library/windows/hardware/ff536206)します。

 

ベンダーは、Microsoft の下で実行している、ミニドライバーを提供することでビデオのみ、またはオーディオ/ビデオ デバイスをサポートできる*Stream.sys*クラス ドライバー。 このドキュメントでは、ベンダー提供のミニドライバーの下で*Stream.sys*と呼びます*ミニドライバーをストリーミング*します。

たとえば、ビデオ キャプチャ デバイスや DVD プレーヤーは、ミニドライバーのストリーミングをサポートできます。 テクノロジに固有の情報を参照してください。[ビデオ キャプチャ デバイス](video-capture-devices.md)と[DVD デコーダー ミニドライバー](dvd-decoder-minidrivers2.md)します。

ストリーミング ミニドライバーは、カーネル ストリーミング セマンティクスをサポートします。 このドキュメントを使用するドライバー開発者向けにも詳しいはずストリーミングの概念を基本的なカーネルで説明したよう[カーネル ストリーミング](kernel-streaming.md)します。

ストリーム クラス ドライバーに設計されています。 オペレーティング システムとの対話の側面の多くを処理することによって簡単にデバイスをストリーミング用のハードウェア ドライバーを記述します。

-   ミニドライバーは、自身のために同期を処理するために、ストリーム クラス ドライバーを許可できます。 たとえば、ストリーム クラス ドライバー必要に応じてシリアル化できる I/O 要求、ミニドライバーの。 同期は、ミニドライバーのマルチプロセッサ セーフが nonreentrant を処理するために、クラス ドライバーを許可します。 これは適してローエンド medium エンドツー エンドのハードウェアにします。

-   クラス ドライバーは、ファイル操作を自動的に同期します。 たとえば、ストリームとデバイスを開くはミュー テックス、セマフォ、またはイベントを使用してミニドライバーせず正しくシリアル化されます。

-   クラス ドライバーは、カーネルのストリーミング、ミニドライバーのセマンティクスの実装を抽象化します。

-   クラスのドライバー、PnP マネージャーのすべての対話を処理します。 以下に例を示します。
    -   クラスのドライバーでは、ミニドライバーの代わりに、機能のデバイス オブジェクトを作成します。
    -   クラスのドライバーでは、(ポート アドレス変換、変換しメモリの範囲、マッピング、および割り込みを接続する) などのリソースの構成を管理します。
    -   クラス ドライバーの PnP Irp では、処理など[ **IRP\_MN\_開始\_デバイス**](https://msdn.microsoft.com/library/windows/hardware/ff551749)、または[ **IRP\_MN\_停止\_デバイス**](https://msdn.microsoft.com/library/windows/hardware/ff551755)します。
-   すべての低レベルのバッファー管理は、クラス ドライバーによって処理されます。
    -   必要な場合は、DMA アダプタ オブジェクトを割り当てています。
    -   Dma バッファーをマッピングし、スキャッター/ギャザーの構築が一覧表示します。
    -   ロックおよび DMA と PIO の両方に正しくバッファーをフラッシュします。
-   すべての IOCTL パラメーターの検証は、クラス ドライバーによって実行されます。

-   すべての要求は、ウォッチドッグ タイマーでは、クラス ドライバーはタイムアウトになりました。

-   ミニドライバーは、デバイス オブジェクトは作成されませんが、必要に応じて、クラス ドライバーのデバイス オブジェクトを共有します。 これは、システム リソースを保存します。

-   1 つだけのデバイス オブジェクトは、アダプターごとに作成されます。 複数サブデバイス (と呼ばれる*ストリーム*)、アダプターによってサポートされるカーネルのピンをストリームで表されます。

 

 




