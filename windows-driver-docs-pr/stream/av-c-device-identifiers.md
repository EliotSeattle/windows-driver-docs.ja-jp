---
title: AV/C デバイス識別子
description: AV/C デバイス識別子
ms.assetid: c2d108c7-5ea9-42c1-92d7-5ba90f2f4232
keywords:
- AV/C WDK、識別子
- WDK AV/C 識別子
- デバイス Id の WDK AV/C
- Avc.sys 関数ドライバー WDK、識別子
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 1d10ce9df44cef5b42d05f81ef48cc3667eeee9c
ms.sourcegitcommit: 0cc5051945559a242d941a6f2799d161d8eba2a7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/23/2019
ms.locfileid: "63384808"
---
# <a name="avc-device-identifiers"></a>AV/C デバイス識別子





ユーザーがコンピューターに、AV/C デバイスを接続したときに*Avc.sys*デバイスで作業中のサブユニットを列挙し、それらのデバイス識別子 (ID) の文字列が生成されます。 AV/C デバイスでアクティブな各サブユニットのデバイス識別子があります。 かどうかにはありません active サブユニット、AV/C デバイスし*Avc.sys* AV/C デバイス自体のデバイス id が生成されます。

ピアのサブユニットのデバイス識別子のフィールドの形式です。

**AVC\\*ベンダー*&*モデル*&*SubunitType*& * SubunitID***

仮想のサブユニットのデバイス識別子のフィールドの形式です。

**VAVC\\*ベンダー*&*モデル*&*SubunitType*& * SubunitID***

番号が使用されているフィールドに、数値が 16 進数に変換し、アルファベット文字を大文字に変換します。 先頭のゼロはありません。 ドライバーの INF ファイルで指定されたデバイスの識別子は、この形式と一致する必要があります。 ハードウェア識別子と互換性のある識別子内のすべての数値フィールドは、次のように (前述の例外) でタグ付けされます。

-   ***ベンダー***:**VEN\_**  (仕入先のテキストが使用できない場合、)

-   ***モデル***:**MOD\_**  (モデルのテキストが使用できない場合、)

-   ***SubunitType***:**TYP\_**

-   ***SubunitID***:**ID\_**

*Avc.sys* AV/C の外部のデバイスに存在する各 active サブユニットのデバイス オブジェクトを作成します。 AV/C をデバイスが追加または IEEE 1394 バスから削除されるたびに、IEEE 1394 バスのリセットがトリガーされます。 *Avc.sys* AV/C デバイスは、接続再すべての作業中のサブユニットを列挙します。 再列挙により、デバイスを追加または再読み込みする Windows を必要とせず、サブユニットを削除再構成を*Avc.sys*モードを切り替えるたびに、AV C/デバイスの操作します。 たとえば、この機能には、DV カメラがカメラのモードと VTR モードの切り替えられたときが適用されます。 その結果、サブユニットのドライバーが読み込まれ、アンロード、対応するアクティブな委譲が追加または削除されるときにのみ。

*Avc.sys*同一の複数のサブユニットを区別できない***SubunitType***ロードを追加して、これらのサブユニットを削除、および最高のサブユニットに対応するドライバーをアンロードするため、 ***SubunitID***.

各サブユニットのデバイス オブジェクトには、1 つまたは 2 つのハードウェア識別子と互換性のある複数の識別子があります。 これらのハードウェアや、サブユニット ドライバーの INF ファイルで以下の互換性のある識別子の 1 つ以上の製造元から提供する必要があります。 Windows では、これらのデバイス識別子を使用して、デバイスがコンピューターに接続されている最初のサブユニットたびにロードするのに適したドライバーを検索します。 Microsoft が提供するかを調べることができます*61883.inf*、 *Msdv.inf*と*Mstape.inf*ハードウェアと AV C/デバイスの互換性のあるデバイスの識別子の例のファイル。 INF ファイルの実装の詳細については、次を参照してください。 [INF ファイルのセクションとディレクティブ](https://msdn.microsoft.com/library/windows/hardware/ff547433)します。

デバイス識別子の文字列の個々 の要素は次のとおりです。

<a href="" id="vendor"></a>***仕入先***  
仕入先名のテキストが IEEE 1394 構成 ROM の単位の機能のルート ディレクトリに存在するかどうかは、ベンダー名のテキストがで使用される、***ベンダー***フィールド。 次に、例を示します。

**AVC\\Microsoft &*モデル*&*SubunitType*& * SubunitID***

それ以外の場合、ベンダーの一意の番号 (IEEE 1394 貿易によって割り当てられた) が使用で、***ベンダー***フィールド。 次の例では、"50F2"は、Microsoft の 1394TA 仕入先の数値です。

**AVC\\VEN\_50F2 &*モデル*&*SubunitType*& * SubunitID***

仕入先名のテキストが存在しないかどうかは、数値の値が、モジュールから取得した\_ベンダー\_IEEE 1394 構成 ROM のルート ディレクトリ内のエントリの ID。 コマンドとすぐこのエントリの状態の登録 (CSR) のアーキテクチャのキーは 0316 (16 進数) と、残りの 24 ビットは、数値モジュール\_ベンダー\_ID エントリ。

<a href="" id="model"></a>***モデル***  
モデル名のテキストは、IEEE 1394 構成 ROM の単位の機能に存在するかどうかは、モデル名のテキストがで使用される、***モデル***フィールド。 次に、例を示します。

**AVC\\Microsoft & DVCamcorder &*SubunitType*& * SubunitID***

それ以外の場合、モデル番号がで使用される、***モデル***フィールド。 次に、例を示します。

**AVC\\Microsoft & MOD\_0 &*SubunitType*& * SubunitID***

単位のディレクトリ エントリに優先順位を与える、1394 構成 ROM 単位ディレクトリからテキストをモデルが使用されます。 優先順位は次のとおりです。

1.  単位のディレクトリからの数値識別子です。

2.  ルート ディレクトリからモデルのテキスト。

3.  ルート ディレクトリからのモデル識別子です。

<a href="" id="subunittype"></a>***SubunitType***  
可能な場合、 ***SubunitType***フィールドがサブユニット アドレスから抽出され、各バイトの 16 進数の値の文字列に変換します。 サブユニット型が拡張されている場合にのみには、複数のバイトがあります。 セクション 5.3.3 に従ってにアドレスのバイトの 5 つの最上位ビットからでは最初のバイトが抽出された通常、 *AV/C デジタル インターフェイス コマンド Set 全般の仕様、Rev 3.0*します。

次に、例を示します。**AVC\\VEN\_50F2 MOD &\_0 & TYP\_4 & * SubunitID***

型の一連のサブユニット*Avc.sys*サポートとその対応する数値の値を参照してください。 [ **AvcSubunitType**](https://msdn.microsoft.com/library/windows/hardware/ff554137)します。

<a href="" id="subunitid"></a>***SubunitID***  
場合、 ***SubunitType***フィールドは、使用可能な***SubunitID***フィールドもを使用できます。 ときに*Avc.sys*デバイスの種類ごとのサブユニットの数は、応答のサブユニットは、AV/C デバイスを照会します。 この 0 から始まる数は、各サブユニットのデバイス id の作成に使用されます。 サブユニット アドレスの指定ができます、 ***SubunitID***フィールドを拡張するのには、サブユニット ドライバーから (および、INF ファイルの作成者であるユーザーから) この側面は表示されません。 0 から始まるインスタンス数は、すべてのケースで使用されます。 たとえば場合、 ***SubunitID***フィールドが 270 のサブユニットをサポートするために拡張、270th サブユニット 10 D (10 進 269) のサブユニット識別子があります。 次に、例を示します。

**AVC\\Microsoft & MOD\_0 & TYP\_4 & ID\_10 D**

AV/C ユニットを提供しないを***SubunitType***または***SubunitID***、デバイス id の文字列から成るのみ、***ベンダー***と***モデル***ない末尾のアンパサンドのフィールド (&)。

 

 




