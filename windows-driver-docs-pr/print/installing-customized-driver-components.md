---
title: カスタマイズされたドライバー コンポーネントをインストールする
description: カスタマイズされたドライバー コンポーネントをインストールする
ms.assetid: 88f189bd-97f5-4bc6-ba3e-3d9da18e2102
keywords:
- プリンター ドライバー WDK のカスタマイズ、コンポーネントをインストールします。
- プリンター ドライバー WDK、コンポーネントのインストールをカスタマイズします。
- カスタムのプリンター ドライバー コンポーネント WDK をインストールします。
- WDK の INF ファイルを印刷するカスタマイズされたドライバー コンポーネント
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: c23c770664e571cf2a75e5e2b274e4e070cf54a5
ms.sourcegitcommit: 0cc5051945559a242d941a6f2799d161d8eba2a7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/23/2019
ms.locfileid: "63366833"
---
# <a name="installing-customized-driver-components"></a>カスタマイズされたドライバー コンポーネントをインストールする





Microsoft のプリンター ドライバーのカスタマイズされたコンポーネントを提供する場合は、コンポーネントのインストール用の .ini ファイルも指定する必要があります。 (も提供する必要がありますが、プリンターが ntprint.inf でサポートされていない場合、[プリンター INF ファイル](printer-inf-files.md))。

.Ini ファイルには、OEMFiles セクションを含める必要があります。 このセクションでは、カスタマイズされた各コンポーネントは、次のエントリのいずれかを使用してについて説明します。

<a href="" id="oemdriverfilen"></a>OEMDriverFile*n*  
レンダリングのプラグインの名前を付けます。

<a href="" id="oemconfigfilen"></a>OEMConfigFile*n*  
プラグインのユーザー インターフェイスの名前を付けます。

場所*n*インストーラーが、ファイルをインストールする順序を指定します。 指定された数値*n*隣接しており、プラグインのどちらの種類の 1 から開始する必要があります。

たとえば、2 つのレンダリング プラグインとプラグインは、1 つのユーザー インターフェイスとプリンターのモデルを提供する場合は、XYZ、.ini ファイルが次のように表示されます。

```cpp
[OEMFiles]
OEMDriverFile1=XYZDRV1.DLL
OEMConfigFile1=XYZUI1.DLL
OEMDriverFile2=XYZDRV2.DLL
```

等号 (=) の前後にスペースは使用できません。 ファイル名には、パスの指定を含めることはできません。

例では、2 つのレンダリング プラグインを指定します。 に基づいて、 *n* OEMDriverFile 値*n*xyzdrv1.dll が xyzdrv2.dll する前にインストールされています。 Unidrv と Pscript5 ドライバーは、インストールが後で、ドライバーはグラフィックス DDI を呼び出す必要がある場合の順序でプラグインを呼び出す関数とこれらのプラグインが提供する COM メソッドのフック、xyzdrv1.dll は xyzdrv2.dll 前に呼び出されます。

.Ini ファイルの名前は、プリンターの製品名を反映する必要があります。 .Ini ファイル名 .ini ファイルの名前の競合を回避するために他のプリンターの名前とは異なる名前にする必要があります。 バックアップ-を移植する場合、プラグインのレンダリングまたはユーザー インターフェイスを Windows NT 4.0 プラグイン、.ini ファイルの名前によって、.gpd または .ppd のファイル名一致する必要がありますに注意してください。 (つまり、xyz.ini する必要があります使用 xyz.gpd または xyz.ppd。)この制限は、Windows 2000 またはそれ以降のバージョンの Windows オペレーティング システムには適用されません。

.Ini ファイルは ANSI または Unicode のいずれかのテキストを含めることができますが、Unicode テキストがお勧めします。 .Ini ファイル内の行、シャープ記号で始まる (\#) コメントします。

詳細については、次を参照してください。 [INF ファイルの一般的なガイドライン](https://msdn.microsoft.com/library/windows/hardware/ff544975)と[Unidrv ミニドライバーをインストールする](installing-a-unidrv-minidriver.md)します。

コンポーネントをインストールし、カスタマイズされたコンポーネントを登録するための便利な方法は、プリンターの INF ファイルを指定する場合、*依存ファイル*のプリンター ドライバー。 さらに、関連付けられている .inf ファイルは、依存ファイルとしてインストールできます。 プリンター ドライバーの依存ファイルの詳細については、次を参照してください。[プリンター INF ファイルのエントリ](printer-inf-file-entries.md)します。

また、コンポーネント ポート モニターや状態のアプリケーションなどの別の印刷コンポーネントの依存ファイルを作成してカスタマイズされたコンポーネントをインストールできます。 ただし、このメソッドを作成問題のため[ポイント アンド プリント](introduction-to-point-and-print.md)操作は、ドライバーと、クライアント ドライバーに依存するファイルのみをインストールします。 カスタマイズされたコンポーネントが、プリンター ドライバーの依存ファイルとして表示されない場合、コンポーネントはポイント アンド プリントの操作の一部として以外の何らかの方法でクライアントにインストールする必要があります。

 

 




