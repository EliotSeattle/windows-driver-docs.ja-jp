---
title: IEEE 1394 デバイス アイソクロナス同期オプション
description: IEEE 1394 デバイス アイソクロナス同期オプション
ms.assetid: 27137890-09e7-45d5-b268-7e93c943b489
keywords:
- バス I/O WDK の IEEE 1394 アイソクロナス同期
- WDK の IEEE 1394 の同期
- WDK の IEEE 1394 をフィルター処理
- WDK の IEEE 1394 の時刻の同期をサイクルします。
- WDK の IEEE 1394 をバッファー処理します。
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 5199a6544b01148e52bbc8990077b9023356b91e
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/31/2019
ms.locfileid: "56558769"
---
# <a name="isochronous-synchronization-options-for-ieee-1394-devices"></a>IEEE 1394 デバイス アイソクロナス同期オプション





IEEE 1394 のドライバー スタックは、特定の種類の同期と中にフィルター処理をサポートしている[**要求\_アイソクロナス\_リッスン**](https://msdn.microsoft.com/library/windows/hardware/ff537655)と[ **要求\_アイソクロナス\_説明**](https://msdn.microsoft.com/library/windows/hardware/ff537660)操作。

ドライバーは、記述子の設定によるフィルター処理を開始できる\_同期\_ON\_SY または記述子\_同期\_ON\_タグ フラグ、 **fulFlags**メンバーバッファーの[**アイソクロナス\_記述子**](https://msdn.microsoft.com/library/windows/hardware/ff537401)構造体。 バス ドライバー以降そのバッファーの送信先となるデータでは、Sy がないデータ ストリームとアイソクロナス記述子で示された Sy またはタグの値に一致するタグの値からすべてのパケットを削除します。 このフィルター処理には、バッファーでは引き続き場合でも、記述子のどちらか\_同期\_ON\_SY と記述子\_同期\_ON\_アイソクロナスでタグのフラグが設定されますそれらのバッファー記述子。

場合に、記述子の設定だけでなく、\_同期\_ON\_SY または記述子\_同期\_ON\_タグ フラグでは、クライアント ドライバーはまた、記述子設定\_の使用\_SY\_タグ\_IN\_最初のフラグ、バス ドライバーには、データ フローを同期するアイソクロナス記述子に、クライアント ドライバーによって提供される Sy またはタグの値が使用されます。 この場合は、バス ドライバーが Sy を受け取るいずれかまたはタグ値アイソクロナス記述子で指定された値と一致するまで、すべてのデータ パケットを破棄します。 一致が見つかると、バス ドライバーがパケットを破棄することを停止、および転送を再開します*すべて*クライアント ドライバーにパケット。

ホスト コント ローラーがサポートする場合、クライアント ドライバーは、アイソクロナス データ ストリームの同期サイクル時間を使用できます。 このコンテキストで「サイクル タイム」がによって定義されている、 [**サイクル\_時間**](https://msdn.microsoft.com/library/windows/hardware/ff537067)構造体。 2 番目のカウントが含まれています**CL\_SecondCount**、サイクル数、128 秒ごとをラップする**CL\_CycleCount**、アイソクロナス サイクルの数を示す現在の秒と、クロック タイマー刻みの数を経過**CL\_CycleOffset**、現在のサイクル内での経過時間の IEEE 1394 bus クロック タイマー刻みの数を示します。

クライアントは、特定のバッファーで同期操作を実行できるか、または一定のサイクル時間のデータ ストリーム全体を同期します。

クライアント ドライバーを特定のバッファー内の同期操作を開始する記述子を設定する必要があります\_同期\_ON\_時間フラグ、 **fulFlags**そのため、アイソクロナス記述子のメンバーバッファー。 これを初期化する必要がありますも、 **CycleTime**サイクル タイム データ ストリームを同期するために使用すると、記述子のメンバー。 バス ドライバーでは、アイソクロナス記述子を調べ後、は、指定のサイクル タイムを使用して、同期操作を開始します。 バス ドライバーでは、指定した間隔がないすべてのパケットを破棄し、正しいサイクル時間を持つパケットを見つけた後、パケットを送信を再開します。

データ ストリーム全体で一定のサイクル時間を同期するには、チャネルで開始されるすべての要求には、示されたサイクル タイムを使用して、データ ストリームは自動的に同期できるように、クライアント ドライバーは、チャネルを構成する必要があります。 これは、代替特定アイソクロナス記述子のサイクル時間設定に基づいて、同期をトリガーする方法を提供します。 この方法でチャネルを構成するには、クライアント ドライバーは、2 つの手順を実行する必要があります。

1.  ときに、クライアントがチャネルに対するリソース ハンドルを割り当てます、 [**要求\_アイソクロナス\_ALLOCATE\_リソース**](https://msdn.microsoft.com/library/windows/hardware/ff537649)要求、リソースを設定する必要があります\_同期\_ON\_時間フラグ、 **fulFlags** IRB のメンバー。

2.  サイクル タイム内のデータ ストリームを同期するために使用することを指定します、クライアントは、チャネルでリッスンまたはセッションの操作を要求するときに、 **StartTime** IRB のメンバー。 詳細については約リッスン要求の説明を参照してください[**要求\_アイソクロナス\_リッスン**](https://msdn.microsoft.com/library/windows/hardware/ff537655)と[**要求\_アイソクロナス。\_説明**](https://msdn.microsoft.com/library/windows/hardware/ff537660)します。

ホスト コント ローラーは、サイクル時間の同期をサポートする場合、クライアント ドライバーの送信先を決定する、 [**要求\_取得\_ローカル\_ホスト\_情報**](https://msdn.microsoft.com/library/windows/hardware/ff537644) 、バス ドライバーへの要求、 **nLevel** IRB のメンバーが 2 に設定します。 バス ドライバーを返します、 [**取得\_ローカル\_ホスト\_情報 2** ](https://msdn.microsoft.com/library/windows/hardware/ff537147)構造では、この要求に応答します。 バス ドライバーの設定、ホストされている場合\_情報\_サポート\_開始\_ON\_サイクル フラグ、 **HostCapabilities**の GET メンバー\_ローカル\_ホスト\_情報 2 では、ホスト コント ローラーがアイソクロナスをサイクル時間を使用して操作の同期をサポートするこのを示します。

 

 




