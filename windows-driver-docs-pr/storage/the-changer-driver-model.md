---
title: チェンジャー ドライバー モデル
description: チェンジャー ドライバー モデル
ms.assetid: 87a70ecf-e518-4c22-945b-9056b59fed5a
keywords:
- チェンジャードライバー WDK storage、アーキテクチャ
- ストレージチェンジャードライバー WDK、アーキテクチャ
- トランスポート要素 WDK チェンジャー
- データ転送要素 WDK チェンジャー
- ストレージ要素 WDK チェンジャー
- IEport WDK チェンジャー
- インポート/エクスポート要素 WDK チェンジャー
- ドア WDK チェンジャー
- リムーバブル記憶域マネージャー WDK チェンジャー
- RSM WDK チェンジャー
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: d9092c1f751be325b489f55b85cb638ab81f0674
ms.sourcegitcommit: 4b7a6ac7c68e6ad6f27da5d1dc4deabd5d34b748
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/24/2019
ms.locfileid: "72844446"
---
# <a name="the-changer-driver-model"></a>チェンジャー ドライバー モデル


## <span id="ddk_the_changer_driver_model_kg"></span><span id="DDK_THE_CHANGER_DRIVER_MODEL_KG"></span>


次の図は、チェンジャードライバー、ユーザーモードのアプリケーションとサービス、大容量記憶装置とポートドライバー、およびチェンジャーデバイスの関係を示しています。

![チェンジャードライバー、ユーザーモードのアプリケーションとサービス、大容量記憶装置とポートドライバー、およびチェンジャーデバイス間の関係を示す図](images/changer.png)

チェンジャードライバーのモデル

この図に示すように、ユーザーデータの転送は、スタンドアロンドライブと同じ Microsoft Win32 要求を使用して、チェンジャーのドライブの適切な大容量記憶装置ドライバーによって処理されます。 ただし、大容量記憶装置ドライバーでは、チェンジャーのドライブを制御するために[ **\_メディア\_種類\_EX**](https://docs.microsoft.com/windows-hardware/drivers/ddi/ntddstor/ni-ntddstor-ioctl_storage_get_media_types_ex) i/o 要求を取得\_には、IOCTL\_ストレージを処理する必要があります。

ユーザーモードのアプリケーションは、リムーバブル記憶域マネージャー (RSM) と呼ばれるユーザーモードサービスを介して、チェンジャーの要素にアクセスします。 チェンジャードライバーの唯一のクライアントは RSM であり、専用に使用するためにチェンジャーを予約します。 RSM は、チェンジャーの要素 (たとえば、ドライブにメディアをマウントするため) に関連する要求をチェンジャードライバーに送信します。 ユーザーモードのアプリケーションは、チェンジャードライバーに要求を直接送信することはできません。 RSM の詳細については、Microsoft Windows SDK のドキュメントを参照してください。

チェンジャーの要素には、次のものがあります。

-   *Transport 要素*

    チェンジャー内の他の要素間でメディアを移動するロボットコンポーネント。 ほとんどのチェンジャーには、移動されるメディアを保持する1つまたは2つのピッカーを持つトランスポート要素が1つあります。 ハイエンドのフォールトトレラントチェンジャーには、複数のトランスポート要素が含まれている場合があります。

-   *データ転送要素*

    データが読み取られてメディアに書き込まれるドライブ。 たとえば、磁気ディスク、光学ディスク、テープ、CD-ROM、DVD などです。 通常、チェンジャーに含まれるドライブの種類は1つだけです。

-   *ストレージ要素*

    ドライブにマウントされていないときにメディアが格納されるスロット。

チェンジャーには、次の要素のいずれかまたは両方が含まれている場合もあります。

-   *Import/export*(ieport)

    チェンジャー内のすべてのメディアではなく、1つまたは複数のメディアを、演算子が挿入または削除できる要素。

-   *カバー*

    チェンジャー内のすべてのメディアに一度にアクセスできるようにします。 チェンジャーのドアには、オペレーターが開く物理的なドア、またはすべてのメディアを保持する1つの雑誌を指定できます。

チェンジャーの miniclass ドライバーは、チェンジャークラスドライバーによって要求された場合に、 [**GET\_チェンジャー\_PARAMETERS**](https://docs.microsoft.com/windows-hardware/drivers/ddi/ntddchgr/ns-ntddchgr-_get_changer_parameters)構造内のチェンジャーの要素の種類と数を報告します。 特に、miniclass ドライバーは、要素の物理的な外観に関係なく、これらの定義に従って IEports と doors を報告し、アプリケーションがそれらの要素に対して適切な要求を発行できるようにする必要があります。

 

 




