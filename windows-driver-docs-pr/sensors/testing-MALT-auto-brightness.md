---
title: 明るさの自動調整のテスト
author: windows-driver-content
description: このトピックでは、自動の明るさを MALT (Microsoft アンビエント光ツール) ツールを使用してテストする方法について説明します。
ms.assetid: 0ca1a07e-ab4d-47d1-b6ab-a1aa02ee3ee6
ms.date: 12/13/2018
ms.localizationpriority: medium
ms.openlocfilehash: 173a315d7ea4f0745cae80f6a203650fd7f0f3e2
ms.sourcegitcommit: 0cc5051945559a242d941a6f2799d161d8eba2a7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/23/2019
ms.locfileid: "63345148"
---
# <a name="testing-auto-brightness"></a>明るさの自動調整のテスト

このトピックでは、自動の明るさを MALT (Microsoft アンビエント光ツール) ツールを使用してテストする方法について説明します。 自動応答環境光センサーの読み取り中にシステムによって自動的に設定画面の明るさを参照して適応型輝度調整します。 

## <a name="set-up"></a>設定

トピックを読んで、[光テスト ツール (MALT) を構築](testing-MALT-building-a-light-testing-tool.md)をテストするための要件を満たしていることを確認します。

### <a name="configuring-the-sut-manually"></a>SUT を手動で構成します。

使用することを強くお勧め**MALT_SUT_Setup.bat** MALT とテスト (SUT) 対象のシステムをセットアップします。 MALT と SUT の手動設定の次の手順は、透明性と従来の目的でのみ提供されます。

1. SUT が環境光センサー (ALS) を確認します。 お使いの PC で、ALS, がかどうかを確認する**表示**設定 **明るさと色**、検索、 **"の明るさの変更に自動的に照明の変化時に"** チェック ボックスをオンこの機能を使用することを選択します.
2. 画面がテスト中にオフにしないことを確認します。 Windows 10 で スリープの設定を調整するには**開始**選択**設定**  > **システム** > **電源とスリープ**. **画面**、変更**でバッテリ電源をオフにした後**に**Never**と**接続が後に切る**に**決して**します。
3. デバイスには、テスト中にスリープ状態にならないことを確認します。 Windows 10 で スリープの設定を調整するには**開始**選択**設定**  > **システム** > **電源とスリープ**. **スリープ**、変更**バッテリ電源で PC がスリープ状態に**に**Never**と**PC が後にスリープ状態になる接続**に**決して**します。
4. テストの可変性を減らすためには、テストする前に、SUT の画面の背景を単色の白に設定します。 選択**設定 > パーソナル化 > バック グラウンド**、しをバック グラウンドのドロップダウン リストを変更 **「純色」** します。 クリックして**カスタム色 > 詳細**を色の 16 進値に変更`FFFFFF`します。 デスクトップの背景に単色の白に変更されます。
5. SUT でボリュームが有効にすることを確認します。 実行の時間の長いテストが完了したことを通知するように完了したときに、アプリケーションはサウンドを再生します。

## <a name="automatic-brightness-test-procedures"></a>明るさの自動テストの手順

### <a name="get-ambient-light-response-curve"></a>アンビエント ライト応答曲線を取得します。

**使用して、 [SensorExplorer](https://aka.ms/sensorexplorer)アプリ (推奨)**

1. SensorExplorer を開き、をクリックして**MALT**左側にあるメニュー バーでします。

![SensorExplorer MALT ページ](images/SensorExplorerMALT.png)

2. クリックして、接続の確認**センサー データ** > **アンビエント明るさを取得**します。 MALT が正しく設定されている場合は、正しい lux 値が表示されます。それ以外の場合閉じる、アプリでは、Arduino プログラムを再アップロードし、シリアル モニターを確認してください。
3. [**テストを実行**、] をクリックして**Take 自動明るさ曲線**します。 
4. .Csv ファイルを保存する場所を選択します。
5. テストの開始までの待機時間を指定します。 付与これは、システム上のセンサーを配置する時間します。
6. お待ちください。 このテストは、約 5 ~ 10 分かかります。 テストは 0 から最大の明るさ、0 を 2600 アンビエント lux 約の範囲の光の明るさを調整しています。
7. 出力を自動的に保存する、テストの完了後`autoBrightness.csv`テストが完了したことを通知するサウンドを再生するとします。

**MALTUtil.exe を使用します。**

1. 実行して、接続の確認`MALTUtil.exe /screenLux`cmd. から MALT が正しく設定されて、正しい lux 値が表示されます、それ以外の場合 cmd がハングまたは表示`No Arduino devices connected to the system`します。
2. SUT 実行`MALTUtil.exe /autoCurve 30`cmd. の これを与えるためものは 30 日のテストを開始する前に 30 秒待機を指す、センサーをシステムに配置する時間します。 長い (または短い) 必要がある場合よりも、テストを開始する前に、セットアップの周りで何も移動するまで 30 秒数を調整します。
3. お待ちください。 このテストは、約 5 ~ 10 分かかります。 テストは 0 から最大の明るさ、0 を 2600 アンビエント lux 約の範囲の光の明るさを調整しています。
4. 出力を自動的に保存する、テストの完了後`autoBrightness.csv`テストが完了したことを通知するサウンドを再生するとします。

### <a name="open-the-results-in-microsoft-excel"></a>結果を Excel で開く

1. 開いている`autoBrightness.csv`Microsoft Excel でします。 このガイドでは、Microsoft Excel 2016 を使用している前提としています。 別のバージョンを使用している場合は、次の手順を調整する必要があります。
2. クリックして**ファイル** > **エクスポート** > **ファイルの種類を変更する**します。 .Xlsx にファイルの種類を変更します。 これは、使用すると、作成し、データの視覚化を保存できます。
3. ドキュメント、3 つの列が表示されます。 

| 光のレベル | アンビエント Lux  | 画面 Lux |
|-----|----|----|
| 最小のライト レベル MALT プログラムで設定 | MALT 環境光センサーによって測定された最小 lux アンビエント値 | MALT 画面の光センサーによって測定された対応する画面 lux 値 |
| 最大のライト レベル MALT プログラムで設定 | MALT 環境光センサーによって測定されたアンビエント lux の最大値 | MALT 画面の光センサーによって測定された対応する画面 lux 値 |

### <a name="visualize-the-results"></a>結果を視覚化します。

Microsoft Excel 2016 以外のプログラムを使用している場合、次の手順が異なる場合があります。

1. Microsoft Excel .xlsx ファイルでは、データを 2 つの列を選択します。"アンビエント Lux"と「画面 Lux」。
2. クリックして**挿入** > **(X, Y) に挿入散布図またはバブル チャート** > **直線で散布図** 

![散布図の挿入します。](images/insertScatter1.png)

これで、MALT で計測された自動明るさ応答曲線の視覚的表現があります。

### <a name="interpret-the-results"></a>結果を解釈します。

必要があります手動で結果を確認、自分自身または自動の明るさの曲線を担当エンジニア リング チームとします。 考慮事項を次に示します。 

1. BIOS でのアンビエント ライト応答曲線の予想される定義を MALT で計測された結果と一致してでしょうか。 
2. アンビエント ライト応答曲線のための十分な手順はありますか。 明るさを調整すると、いくつかの点で曲線がユーザーに顕著になります。
3. 手順では、曲線の下の最後によりも小さい、曲線の終点となるのでしょうか。 明るさの変更は、明るさの下にあるより比較的長いです。 明るさの低い割合で小さなステップでより頻繁に曲線の点を追加することを検討してください。

参照してください[このホワイト ペーパー](https://docs.microsoft.com/windows-hardware/design/whitepapers/integrating-ambient-light-sensors-with-computers-running-windows-10-creators-update)光センサーとアンビエント ライト応答曲線の統合に関する完全なガイダンスについては Microsoft の。