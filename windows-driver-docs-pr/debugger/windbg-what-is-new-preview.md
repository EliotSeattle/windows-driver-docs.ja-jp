---
title: WinDbg プレビュー - 新機能
description: このトピックでは、新機能については WinDbg プレビュー デバッガーで inofmration を提供します。
ms.date: 04/04/2019
ms.topic: article
ms.prod: windows-hardware
ms.technology: windows-devices
ms.localizationpriority: medium
ms.openlocfilehash: 413cd65e40bf4210e90d3910037a22efb2e681f3
ms.sourcegitcommit: f1302058e374c02531d2e4db260ebc8ed8ad3a85
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/25/2019
ms.locfileid: "67350311"
---
# <a name="windbg-preview---whats-new"></a>WinDbg プレビュー - 新機能

このトピックでは、新 WinDbg プレビュー デバッガーについてを説明します。

## <a name="10190512001"></a>1.0.1905.12001
**SymSetDiaSession エラーの軽減策の機能強化**- は、一部のシナリオで プロセスに挿入することの DbgHelp が機能しないものアプリケーションで発生したエラーを軽減するために、過去 1 か月を修正します。 これに強化されましたし、このエラーに関するフィードバックの監視を続けます。

**アクセントの色のカスタマイズ**シナリオの多くには、WinDbg を開いた状態での複数のインスタンスが必要があります - とそれらの間のやり取り、わかりにくいし、図に時間がかかることができます"right"の 1 つは、どちらかです。 視覚的にセッションを区別し、それらを簡単に切り替えることを支援する青いアクセントの色を変更する機能が追加されました。

クリックするだけです、**ビュー**のオプションを選択し、リボン**アクセント カラー**最後のセクションでします。 今後のセッションを最新のターゲットから起動するとアクセントの色は、ターゲットのワークスペースの一部として保持されます。

**ソースのトークン化の機能強化**-ソース ウィンドウにはなりました信頼のソース ファイルをトークン化の基本的なサポートとC++SEH _ _try/_ _except/_ _finally/_ _leave します。

**コルーチンの機能強化**-コルーチンのローカル変数と特定のサポートの強化は、変数を最適化します。

**既定のシンボルとソースのキャッシュ設定**-[設定] メニューにオプションを追加**デバッグ設定**シンボル キャッシュの場所を変更します。 **注**-これを空白に行っているとソースの読み込みが失敗すると、既知の問題があります。 これを将来のリリースを防ぐために検証を追加する予定です。

**-pv 修正**--pv を読み取れない可能性がありますバグを修正しました (非侵アタッチ) 状況によっては動作します。

## <a name="10190418001"></a>1.0.1904.18001

**SymSetDiaSession エラーの修正**-の間にエラーがいくつかの状況で起動されてから WinDbg プレビューのレポートされてきました。 読み込む前に、プロセスに DbgHelp のバージョンを挿入しようとするいくつかの外部アプリケーションがあります。 不足している機能は、このエラーは発生しようとすると、これらの機能を使用して、その一部 DbgHelp のバージョンを使用しています。 この修正プログラムを追加したおまだが発生するシナリオがある場合に追跡されます。

**フォント コントロール**-フォントとフォント サイズを制御する設定が追加されました。 テキスト ウィンドウ (逆アセンブリ、ソース、コマンドなどのように windows モノスペース) 用とツール ウィンドウ ([ローカル]、スタックなど) の 2 つの異なる設定があります。 今後の更新をこれらのオプションの影響を受けませんいくつかの領域があります。

**機能強化を強調表示**- テキストの強調表示、コマンド ウィンドウは内のテキストのようになりましたも強調表示、windows のソースとメモで永続的な。

**機能強化を読み込むソース**-ファイル ソースの読み込みの動作が変更されました。 これまでソース ファイルを開くときにその他のコマンドを実行するなどのエンジン操作をでした。 考えられるまたは予測可能でした。 良い並列処理とソースを開く操作の信頼性を高めるのキャンセルを有効にする、読み込みが発生しますが変更されました。

その他の変更とバグ修正:
* ソース ウィンドウのコンテキスト メニューには、「逆アセンブルを表示」を追加します。
* [逆アセンブル] ウィンドウで「現在の命令に従う」チェック ボックスを追加します。
* 緩やかに変化を多数のテキストを出力するときに実行するコマンド ウィンドウを原因となったバグを修正しました。
* 変更したページと pagedown キーを Visual Studio と同様に実行します。
* ソース ウィンドウで、ASM ファイルが開かれたときに、今度は基本的なコメント、文字列、およびディレクティブの強調表示


## <a name="10181212001"></a>1.0.1812.12001

このバージョンには、これらの更新プログラムが含まれています。

**デバッガー データ モデルC++ヘッダー** -新しいがあるC++を使用してモデルのヘッダー、DbgModel.h、デバッガーのデータを拡張するための Windows SDK の一部として含めるC++します。 詳細を確認することができます[デバッガー データ モデルC++概要](https://docs.microsoft.com/windows-hardware/drivers/debugger/data-model-cpp-overview)します。 このリリースには、'dx' コマンド、JavaScript、および新しい DbgModel.h ヘッダー経由でアクセスできるデバッガー データ モデルにいくつかより多くの「API スタイル」機能を追加する新しい拡張機能が含まれています。 このデータからのアセンブリとコードの実行に関するサポート技術情報を含めるモデルの拡張機能の拡張機能、 [Debugger.Utility.Code](https://docs.microsoft.com/windows-hardware/drivers/debugger/dbgmodel-namespace-code)名前空間、およびにより、ローカル ファイル システム、 [Debugger.Utility.FileSystem名前空間](https://docs.microsoft.com/windows-hardware/drivers/debugger/dbgmodel-namespace-file-system)します。

**統合型の拡張機能**でこの新しい API の拡張がある新しいサンプル GitHub リポジトリ、 https://github.com/Microsoft/WinDbg-Samples/tree/master/SyntheticTypes します。 この JavaScript 拡張機能は、基本的な C ヘッダー ファイルを読み込んで、構造体や共用体のヘッダーで定義されている統合型情報を定義します。 Dx のコマンドでメモリ表示できる構造化された場合と、これらの型の型情報を pdb ファイルを作成する必要があります。

その他の変更とバグ修正:

- WinDbg のプレビューの詳細はインテリジェントに処理することはソース ウィンドウまたはフォア グラウンド ステップするときに逆アセンブル ウィンドウ。
- WinDbgNext のウィンドウのタイトル、開始時にさらに重要な情報を再配置されたときにカーネル デバッグします。
- コマンド ウィンドウに交互の背景のコントラストがより顕著な必要があります。

## <a name="1018102001"></a>1.0.1810.2001 

このバージョンには、これらの更新プログラムが含まれています。

- [ファイル] メニューまたは [ホーム] リボンからアクセスされる新しい設定ダイアログ。 
- イベントと例外の設定 ダイアログ。 このメニューは、デバッガーでのイベントと例外、'sx' コマンドまたは WinDbg のイベント フィルター ダイアログ ボックスの同等の処理方法を変更します。 選択**設定**ホーム リボンで、左側にそれらを管理し、「イベントと例外」をヒットします。
- 優れたパフォーマンスが向上 TTD インデクサーです。 これにより、くらい小さい (~ 50% より小さい) のインデックス ファイルを発行中に (2 x-10 x) の間で非常に高速インデックス作成プロセスを行う、TTD トレース ファイルのインデックス作成のパフォーマンスが向上します。 パフォーマンスの向上は、多くの CPU コア (8 以降) を持つコンピューターを使用する場合のトレースのサイズ、または 4 GB 以上に顕著です。 新しいインデクサーより現実的に非常に大きなトレース (50 GB 以上) をデバッグできます。
- 新しい*debugArch*アーキテクチャを指定するためのフラグを起動します。 WinDbg のプレビューは、マネージ コードのデバッグ サポートを強化するターゲットを適切なビット数で、デバッガー エンジンを起動しようとします。 右のビット数を判断できないまたはその決定をオーバーライドする位置の状況があります。 DebugArch x86 を使用して | amd64 デバッガー エンジンのアーキテクチャを制御します。

その他の変更とバグ修正:

-  フローティング ウィンドウが開いている全画面表示のデバッガーに表示される黒いバーを原因となるバグを修正しました。
-  シンボル オプションを誤って削除される原因となるバグを修正しました。
-  最新のターゲットから起動するときに、コマンドの履歴が保持されますようになりました。
-  データ モデル ウィンドウで値を編集することができます。
-  インデックス付けを行わない TTD トレースは dexed 解除していないことがより明確になります。
-  [ローカル] ウィンドウのパフォーマンスの向上
-  コマンド ウィンドウのログ ファイルを保存するリボンのボタンを追加します。
-  追加されます。 SelectMany (<projection>) LINQ メソッドの既定のセットにします。

## <a name="10180711002"></a>1.0.1807.11002 

このバージョンには、これらの更新プログラムが含まれています。

**自動保存と読み込みのブレークポイントの**します。 これは、ワークスペースを置換する最初の手順です。 保存を有効にして、ブレークポイントの読み込み、そのルートを開始します。 ファイル メニュー"も最近使ったもの タブから以前にデバッグしたものを起動する、そのセッションからのブレークポイントは読み込むようになりました。 計画は、セッション間で詳細を保持するためにこの機能を拡張します。 ハードウェアのブレークポイント (ba) およびブレークポイントに関するその他のさまざまなプロパティのようなスレッドとプロセスの特定のコンテキストと条件は現在保存されません。
 
軽微な変更とバグ修正:

- コマンド ライン オプションの追加 - x、-xe-xd、- xn、および xi 例外とイベントの処理を制御するためです。 これらのコマンド ライン オプションは、コマンド副要素と同様に動作します。
- ノート ウィンドウのでサポート太字、下線、および斜体の書式設定します。
- 一部のズームとスクロールの問題を修正しました。
- コマンド、メモリ、ソース、または [逆アセンブル] ウィンドウでテキストを選択すると、選択したテキストの他のインスタンス上のライトの強調表示は表示されます。
- シンボルの読み込みを中断することが発生するシンボルの読み込みセッションの残りの部分が失敗するバグを修正しました。
- NatVis はセッションの再起動のようになりました適切に再読み込みします。

## <a name="10180517002"></a>1.0.1805.17002

このバージョンには、これらの更新プログラムが含まれています。

**逆アセンブル ウィンドウの新しい**-逆アセンブル ウィンドウが含まれています。
- スクロール アップまたはスケール ダウンは継続的に可能な限り多くの逆アセンブリを読み込みます。
- 数値、コードのアドレス、およびオペレーション コードの構文の強調表示します。
- コードの記号をクリックすると、その場所に逆アセンブル ウィンドウをジャンプします。
- 番号を合わせると、他の底をその数に変換するツールヒントが表示されます。
- 関数の開始を示すヘッダー。

**高速のソース ウィンドウ**-高速化するソース ウィンドウが更新されましたとリソース効率がよくします。

軽微な変更とバグ修正

- シンボルのキャッシュに関する問題を修正しました
- 場合によっては、ターゲットが分割されていないときに切り替え初期中断が使用可能なにされなかった場所を修正しました
- カーソルは入力フィールドのままになり、何も使用可能なコマンド ウィンドウでタブが発生した場合
- WinDbgNext は今すぐ自動検出ビット CAB ファイルを開くときに

## <a name="10180418003"></a>1.0.1804.18003

このバージョンには、これらの更新プログラムが含まれています。

**シンボルの状態とキャンセルの機能強化**-は時間が、デバッガーの表示*ビジー*は何の特定が困難には、シンボルを読み込みと理由なく! sym ノイズの多い有効になっています。 いくつかのより良いコミュニケーションは何の問題のトラブルシューティングに役立つシンボルを読み込むときの周囲に WinDbg のプレビューが更新されました。
簡単に何が起きている正確に表示すること、に加えて行いましたいくつかの変更を含める必要がありますより信頼性の高いシンボルをキャンセルして、[ログ] ウィンドウはときに出力が通常詳細の一部です。 ノイズの多い sym が有効になっています。 ビューに達した場合ログ出力を有効にすることがなく読み込みノイズの多い完全なシンボルを取得し、シンボルの再読み込みを試行]-> [です。

**実験的なノート ウィンドウ**-メモを取るためのウィンドウよう WinDbg プレビューになりました。 ビューを開くには、「メモ」] メニューの [キーを押すだけです。 コピー/貼り付けする場合に、DML のリンクは保存され、コマンド ウィンドウの場合とが引き続き機能します。 保存し、ウィンドウが開いているときに、「メモ」リボンからノート ファイルを読み込むこともできます。 

**高速の実験用のソース ウィンドウ**WinDbg プレビューのパフォーマンスを向上させる - が私たち、実験的な新しいソース ウィンドウよりかなり効率的であります。 コンテキスト メニューと構文の強調表示の周囲のいくつかのギャップはまだは、すべてのユーザーが終了早期フィードバックを提供する前に試してのオプションを提供するします。 それを使用する $UseFastSourceWindow を実行します。 戻る $UseMonacoSourceWindow の実行、以前のものにする場合は。 セッション間で、設定が保持されますを閉じ、新しいバージョンを取得するソース ウィンドウを再び開く必要があります。

**JSProvider API バージョン 1.2** - API バージョン 1.2 のサポートを宣言する JavaScript の拡張機能。

- スクリプトを終了する .compareTo メソッドを使用して任意のオブジェクトに、カスタム比較子が (比較演算子は、DX エバリュエーターと他の場所には: 例:。IModelObject::Compare)
- .Equals メソッド スクリプトを終了する任意のオブジェクトが、カスタムの等値演算子が (= =、! = は DX エバリュエーターと他の場所で作業: 例:。IModelObject::IsEqualTo)
- ネイティブ モードまたはデータのモデル オブジェクトのスクリプトを入力するには、カスタム比較子またはカスタムの等式の実装にアクセスできるように .compareTo と .equals があります。
 
軽微な変更とバグ修正:

- 短い名前に関するドメインの問題がある場合に .server 今すぐ簡単に使用するための完全修飾ドメイン名が表示されます。
- ソース ウィンドウで Ctrl + G になりました。
- [逆アセンブル] ウィンドウに追加のアドレス バー。
- WinDbg のプレビューでは、予想される複数の方法で _NT_SYMBOL_PATH を処理するようになりました。
- 追加のサーバーのコマンド ライン オプション。
- TTD データ モデルのクエリここで表示できます段階的に、ため、中断した場合は、いくつかの結果をまだ表示されます。 この機能は、引き続き実験的で省略可能です。 実行`dx @$cursession.TTD.AsyncQueryEnabled = 1`を有効にします。
- 'Dps' コマンドを参照するソース ファイルにリンクできるようになりました。

## <a name="11801190010"></a>1.1801.19001.0

このバージョンには、これらの更新プログラムが含まれています。

**テキストの強調表示**-デバッガーで直接、選択したテキストのすべてのインスタンスを強調表示できるようになりました。 この機能を使用するには、だけコマンド ウィンドウでテキストを選択クリックして「強調表示」コマンドのリボンでまたは CTRL + ALT + H をヒットします。 既に強調表示されたテキストのうちの 1 つを使用して、強調表示が削除されます。

コマンドを使用する場合、"$hl"コマンドを使用できます。

`$hl ["someValueHere"]` -特定のテキスト (または既に強調表示されている場合は、強調表示の解除) を強調表示します。

`$hl clearAll` – すべて強調表示されているエントリを消去します。

`$hl caseSensitive [1|0]` セットが小文字または大文字と小文字を区別しない一致を強調表示 (既定値は大文字と小文字を区別しない)

このリリースには、いくつかの軽微なバグ修正も含まれています。


## <a name="11712150030"></a>1.1712.15003.0

このバージョンには、これらの更新プログラムが含まれています。

**TTD メモリ クエリ**-メモリの現在の呼び出しを照会する方法のようなアクセスのようになりました TTD を照会することができます。 これにより、読み取り、書き込み、メモリの特定の範囲へのアクセスの実行のすべてを検索することができます。

読み取りと書き込みの例: `dx @$cursession.TTD.Memory(startAddress, endAddress, "rw")`

一意の実行例: `dx @$cursession.TTD.Memory(startAddress, endAddress, "ec")`

**設定の変更**-WinDbg プレビューでは、シンボルのパスおよびソース パスを含む、セッション間で設定が自動的に保存ようになりました。

**JavaScript の機能強化**

- 64 ビットの数値と JavaScript で数値を含むようになりました、モジュロ演算を行う場合は true。 64 ビットを許可するメソッドを剰余します。
- JavaScript で定義されているオブジェクトでは、dx 標準を使用して動作する、カスタム比較または等値性概念を実装できますC++演算子または LINQ 操作。 を活用するために、スクリプト、レコード"新しい host.apiVersionSupport (1, 2)"を挿入することで、新しいバージョンのホスト API をサポートしている initializeScript 配列で宣言する必要があります。 実行した後は、任意の 'dx' またはデータ モデルのウィンドウの LINQ クエリでこれらの関数を使用できます。 メソッドは、.compareTo(other) を実装する場合は、比較可能な (比較演算子は、dx および LINQ の機能)。 かどうかと、メソッドがなどに負の値を返します"この < その他の"。 メソッドは、0 を返した場合は"この他の = ="。 メソッドは、正の値を返す場合"この > その他の"。 メソッドは、.equals(other) を実装する場合は、等値性 (dx および LINQ でのしくみを = =)。 メソッドは、true または false を返す必要があります。

軽微な変更とバグ修正:

- 履歴とローカルの windows がブートのデバッグ中に動作しなかったバグを修正しました
- LM ProductVersion と同様のフィールドをより正確にレポートの出力を更新
- TTD セッション中に「ステップ アウト戻る」ボタンを有効になっています。
- -Lsrcpath サポートが追加されました
- 下へスクロールでは、ローカル、ウォッチ、およびモデルの windows を今すぐヘッダーが消去されません。
- ALT + tab キー WinDbg プレビューするとき、コマンド ウィンドウが正しくカーソル位置を保持します。
- 詳細モードを切り替えるために追加された CTRL + ALT + V ショートカット
- 今すぐ無効にできますコマンド ウィンドウの自動スクロールをコマンド ウィンドウ タブを右クリックし、自動スクロールをオフにする を選択します。
- [詳細] ページを通じて実行可能ファイルの起動、子プロセスをデバッグできます。


## <a name="10140"></a>1.0.14.0

このバージョンには、これらの更新プログラムが含まれています。

**プロセス サーバーのエクスペリエンスの向上**- に接続しているどのようなプロセス サーバーを表示するファイル メニューに新しい通知との対話が追加されました。 デバッグ セッションを終了する際に、これらの変更の一環として、プロセス サーバーの接続は保持され、[ファイル] メニューで切断できます。

**リボンの表示で新しいレイアウトが事前設定されたオプション**-"View"リボンの新しい「レイアウト」オプションがあります。 現在は、3 つのレイアウト: 既定の逆アセンブル に重点を置いて、最小限のいずれか。 

**リボンの旅行のデバッグ時間**-デバッグ トレース タイム トラベルをデバッグするときに表示される強化された、タイム トラベル リボンがあります。

**JavaScript スクリプトからメタデータ**-JavaScript の拡張機能は、プロパティとその他のコンストラクトのメタデータを返すようになりましたことができます。 つまり、拡張機能がヘルプ文字列を提供、値、および詳細の表示の基数を示すことができます。 Symbol.metadataDescriptor の存在または host.metadata.defineMetadata 明示的な呼び出しを使用してオブジェクトのメタデータの記述子を配置することで、メタデータが提供されます。 関数を返します、繰り返し行う一連の値、およびその他の値のコンテキストは、値のメタデータを介して返す host.metadata.valueWithMetadata します。

**JavaScript API の更新プログラム**-(新しいの予想されるメソッドとのネイティブ オブジェクトにプロパティを含む)、JavaScript プロバイダー内の Api をソース レベルの重大な変更を行った可能性のあるいくつか。 既存の拡張機能には重大な可能性があるは表示されません JsProvider API の新しいバージョンをサポートすることを示すことがなく変更できます。 バージョン 1.1 をサポートしているのクレームと initializeScript によって返される配列で host.apiVersionSupport レコードを配置することで、新しい API バージョンのサポートが示されます。 でしょうか。 .. バージョン 1.1 のサポートを示す値。

API バージョン 1.1 での変更は次のとおりです。

- host.getModuleSymbol と host.getModuleType が例外をスローする代わりにシンボルを見つけられない場合は null を返します。
- すべてのネイティブ オブジェクトには、.targetLocation に加えてに address プロパティがあります。 オブジェクトが、アドレスを持たない場合、プロパティにアクセスするときに例外がスローされます。
- JavaScript は、オブジェクトを名前と衝突する可能性がありますオブジェクトのプロパティにアクセスするために新しい .getObjectValue および .setObjectValue メソッドがあるすべてのネイティブ オブジェクト (例:: 'address')。

**JavaScript の追加の変更**

- JavaScript の拡張機能は、追加および Object.defineProperty と delete 演算子を使用してデータ モデル オブジェクトのプロパティを削除できますようになりました。 追加または親モデルまたは型シグネチャとして JavaScript クラスを登録することは、まだオブジェクト モデルを操作するための強く推奨される方法です。
- JavaScript の拡張機能では、新しい host.setModuleSymbol API を通じて、デバッグ対象のモジュール内でグローバル変数を変更できますようになりました。
- すべての 64 ビット ライブラリの種類に記載されている数学関数 (例:: .add .subtract、.multiply、.divide など) は JavaScript の数値も上に存在するようになりました。
- JavaScript 関数とプロパティは、カスタム マーシャ リングを通じて列挙型である値を返すようになりましたことができます。 関数またはプロパティのアクセサーには、host.typeSystem.marshalAs (値、型...) ために呼び出すは、このようなカスタム マーシャ リングするためを返すことができます。
- 行/列の位置だけでなく、関数名では、スクリプト デバッガーでブレークポイントのコマンドは中断できますようになりました。
- JavaScript の拡張機能の型のオブジェクトでは、.containingModule プロパティが含まれているモジュールにアクセスします。

軽微な変更とバグ修正:

- 混乱が少なくなる条件付きのリボン タブの書式設定を修正しました。
- 厳密でパフォーマンスを向上させるために解析する DML を再作業します。
- さまざまな修正プログラムには、CTRL キーを押しながら F キーの動作とパフォーマンス。
- されていない TTD を使用しようとする前に管理者特権で実行するときに警告を追加します。
- 自動のターゲットのビット数の検出を上書きするオプションを追加します。
- ("Go"ダンプ ファイルの場合) などを使用できない場合は、さまざまなファイル メニューとリボンのオプションを無効になります。

既知の問題:
- X86 で動作しません SOS トレースします。

## <a name="10130"></a>1.0.13.0

このバージョンでは、タイム トラベルのトレースを追加します。 時間、出張のデバッグ、プロセスを記録し、後で両方 forwards と backwards 再生することができます。 タイム トラベルのデバッグ (TTD) を使用することができるため、バグが見つかるまで、問題を再現するのではなく、デバッガー セッションを「巻き戻す」問題を簡単をデバッグできます。 詳細については、次を参照してください。[タイム トラベルのデバッグ - 概要](time-travel-debugging-overview.md)します。

## <a name="10120"></a>1.0.12.0

このバージョンは、WinDbg プレビューの最初のリリースでした。 WinDbg のプレビューで使用できる機能についての一般的な[WinDbg を使用してプレビューのデバッグ](debugging-using-windbg-preview.md)します。

---
 
## <a name="see-also"></a>関連項目

[WinDbg のプレビューを使用したデバッグ](debugging-using-windbg-preview.md)
