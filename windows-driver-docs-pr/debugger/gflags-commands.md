---
title: GFlags コマンド
description: GFlags を使用するには、コマンドラインで、次のコマンドを入力します。 GFlags コマンドと、グローバル フラグ ダイアログ ボックスは、同じ意味で使用できます。
ms.assetid: 832b7269-623a-4f32-8bda-1059087bab09
keywords:
- GFlags コマンドの Windows デバッグ
ms.date: 06/12/2018
topic_type:
- apiref
api_name:
- GFlags Commands
api_type:
- NA
ms.localizationpriority: medium
ms.openlocfilehash: 7e5d1ea9041b1d4d5fee011516c1f2a1e5a61ea9
ms.sourcegitcommit: d334150abe0b189faf33049908af7aab1458c13d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/06/2019
ms.locfileid: "57463882"
---
# <a name="gflags-command-overview"></a>GFlags コマンドの概要

Gflags.exe を探してインストールする方法の概要については、次を参照してください。 [GFlags](gflags.md)します。

GFlags コマンドを使用して、[グローバル フラグ ダイアログ ボックス](global-flags-dialog-box.md)同じ意味で。

## <a name="gflags-command-usage"></a>GFlags コマンドの使用方法 

GFlags を使用するには、コマンドラインで、次のコマンドを入力します。


GFlags ダイアログ ボックスを開きます。

```console
gflags
```

設定またはレジストリのグローバル フラグをクリアします。

```console
gflags /r [{+ | -}Flag [{+ | -}Flag...]]
```

設定または現在のセッションのグローバル フラグをオフにします。

```console
gflags /k [{+ | -}Flag [{+ | -}Flag...]]
```

設定またはイメージ ファイルのグローバル フラグをクリアします。

```console
gflags /i ImageFile [{+ | -}Flag [{+ | -}Flag...]]
gflags /i ImageFile /tracedb SizeInMB
```

または、特別なプール機能をオフに設定する (Windows Vista 以降)

```console
gflags {/r | /k} {+ | -}spp {PoolTag | 0xSize}
```

有効または、オブジェクト参照のトレース機能を無効にする (Windows Vista 以降)

```console
gflags {/ro | /ko} [/p] [/i ImageFile | /t PoolTag;[PoolTag...]]
```

```console
gflags {/ro | /ko} /d
```

有効にして、ヒープのページ検証の構成します。

```console
gflags /p /enable ImageFile  [ /full [/backwards] | /random Probability | /size SizeStart SizeEnd | /address AddressStart AddressEnd | /dlls DLL [DLL...] ] 
[/debug ["DebuggerCommand"] | /kdebug] [/unaligned] [/notraces] [/fault Rate [TimeOut]] [/leaks] [/protect] [/no_sync] [/no_lock_checks] 
```

ページ ヒープの検証を無効にします。

```console
gflags /p [/disable ImageFile] [/?]
```

ヘルプを表示します。

```console
glags /?
```

## <a name="span-idddkgflagscommandsdtoolsspanspan-idddkgflagscommandsdtoolsspanparameters"></a><span id="ddk_gflags_commands_dtools"></span><span id="DDK_GFLAGS_COMMANDS_DTOOLS"></span>パラメーター


<span id="_______Flag______"></span><span id="_______flag______"></span><span id="_______FLAG______"></span> *フラグ*   
3 文字の省略形を指定します (*FlagAbbr*) または 16 進数の値 (*FlagHex*) デバッグの機能を表します。 省略形と 16 進数の値を次に、 [GFlags フラグ テーブル](gflags-flag-table.md)します。

次のフラグ形式のいずれかを使用します。

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">形式</th>
<th align="left">説明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><p>{<strong>+</strong> | <strong>-</strong>}<em>FlagAbbr</em></p></td>
<td align="left"><p>(+) を設定またはフラグの省略形で表されるフラグ (-) をクリアします。 プラス (+) またはマイナス (-) 記号では、コマンドは、影響を与えません。</p></td>
</tr>
<tr class="even">
<td align="left"><p>[<strong>+</strong> | <strong>-</strong>]<em>FlagHex</em></p></td>
<td align="left"><p>(+) を追加するか (-)、フラグの 16 進数の値を減算します。 Sum の値が含まれている場合、フラグが設定されます。 追加 (+) は、既定値。 1 つのフラグを表す (0 x) なしの 16 進値を入力するか、複数のフラグの 16 進数の値の合計を入力します。</p></td>
</tr>
</tbody>
</table>

 

<span id="_______ImageFile______"></span><span id="_______imagefile______"></span><span id="_______IMAGEFILE______"></span> *ImageFile*   
ファイル名拡張子 (たとえば、notepad.exe または mydll.dll) を含む、実行可能ファイルの名前を指定します。

<span id="________r______"></span><span id="________R______"></span> **/r**   
レジストリ。 表示または変更システム全体のレジストリに格納されているフラグをデバッグします。 これらの設定は、Windows を再起動して変更するまで有効なときに反映します。

追加のパラメーターなしで**gflags/r**レジストリに設定されているシステム全体のフラグが表示されます。

<span id="________k______"></span><span id="________K______"></span> **/k**   
カーネルのフラグ設定します。 表示またはこのセッションのシステム全体のデバッグ フラグを変更します。 これらの設定が、すぐに有効が、Windows のシャット ダウン時に失われます。 設定では、このコマンドが完了した後に開始されたプロセスに影響します。

追加のパラメーターなしで**gflags/k**システム全体のフラグの現在のセッションの設定を表示します。

<span id="________i______"></span><span id="________I______"></span> **/i**   
イメージ ファイルの設定。 表示またはデバッグの特定のプロセスのフラグを変更します。 これらの設定は、レジストリに格納されます。 それらがこのプロセスのすべての新しいインスタンスを有効および変更するまで有効なままです。

追加のパラメーターなしで**gflags/i** *ImageFile*フラグの指定されたプロセスの設定を表示します。

<span id="________tracedb_______SizeInMB______"></span><span id="________tracedb_______sizeinmb______"></span><span id="________TRACEDB_______SIZEINMB______"></span> **/tracedb** *SizeInMB*   
プロセスのユーザー モードのスタック トレース データベースの最大サイズを設定します。 このパラメーターを使用する、[ユーザー モードのスタック トレースのデータベースの作成](create-user-mode-stack-trace-database.md)プロセス (ust) フラグを設定する必要があります。

*SizeInMB*はメガバイト単位で 10 進数のユニットの数を表す整数です。 既定値は最小のサイズは 8 MB です。最大サイズはありません。 既定のサイズに戻すには、次のように設定します。 *SizeInMB*を 0 にします。

<span id="_______spp______"></span><span id="_______SPP______"></span> **spp**   
(Windows Vista 以降)。設定またはクリア、[特別なプール](special-pool.md)機能します。 例については、次を参照してください。[例 14。特別なプールを構成する](example-14---configuring-special-pool.md)します。

<span id="_______PoolTag______"></span><span id="_______pooltag______"></span><span id="_______POOLTAG______"></span> *PoolTag*   
(Windows Vista 以降)。プール タグを指定します、[特別なプール](special-pool.md)機能します。 のみ使用して、 **spp**フラグ。

4 文字のパターンを入力*PoolTag*、Tag1 など。 含めることができます、**でしょうか。** (任意の 1 文字に置き換えてください) と**\\*** ワイルドカード文字を (複数の文字の代用)。 たとえば、Fat\*または Av? 4。 プール タグは常に大文字小文字を区別します。

<span id="0xSize______"></span><span id="0xsize______"></span><span id="0XSIZE______"></span>**0 x * * * サイズ*   
(Windows Vista 以降)。特別なプール機能のサイズの範囲を指定します。 のみ使用して、 **spp**フラグ。 サイズの値の選択に関するガイダンスについては、「an 割り当てサイズを選択する」を参照してください[特別なプール](special-pool.md)します。

<span id="________ro______"></span><span id="________RO______"></span> **/ro**   
有効、無効化、および表示[オブジェクト参照トレース](object-reference-tracing.md)レジストリに設定します。 この設定への変更を有効に、Windows を再起動する必要があります。

追加のパラメーターを指定せず **/ro**レジストリにオブジェクト参照のトレース設定が表示されます。

オブジェクト参照のトレースを有効にするには、少なくとも 1 つのプール タグを含める必要があります (**/t** *PoolTag*) または 1 つのイメージ ファイル (**/i**イメージ ファイル) のコマンド。 詳細については、次を参照してください。[例 15。オブジェクト参照のトレースを使用して](example-15--using-object-reference-tracing.md)します。

次の表に、有効であるサブパラ メーター **/ro**します。

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody>
<tr class="odd">
<td align="left"><p><strong>/t</strong> <em>PoolTags</em></p></td>
<td align="left"><p>指定されたプール タグを持つオブジェクトにトレースを制限します。 セミコロンで区切ります (<strong>;</strong>) タグ名を区切ります。 プールの最大 16 個のタグを入力します。</p>
<p>4 文字のパターンを入力<em>PoolTags</em>、Tag1 など。</p>
<p>1 つ以上のプール タグを指定すると、Windows は、指定されたプール タグのいずれかを持つオブジェクトをトレースします。</p>
<p>プール タグを指定しない場合、Windows は、イメージによって作成されるすべてのオブジェクトをトレースします。</p></td>
</tr>
<tr class="even">
<td align="left"><p><strong>/i</strong> <em>ImageFile</em></p></td>
<td align="left"><p>指定したイメージ ファイルを使用して、プロセスによって作成されたオブジェクトをトレースに制限されます。 1 つのみのイメージ ファイルを指定することができます、 <strong>/i</strong>パラメーター。</p>
<p>最大 64 文字で、notepad.exe などのイメージ ファイル名を入力します。 "System"と"Idle"は有効なイメージ名ではありません。</p>
<p>イメージ ファイルを指定しない場合、Windows は、指定されたプール タグを含むすべてのオブジェクトをトレースします。 両方のイメージ ファイルを指定する場合 (<strong>/i</strong>) と 1 つまたは複数のプール タグ (<strong>/t</strong>)、Windows は、指定したイメージによって作成される指定されたプール タグのいずれかでオブジェクトをトレースします。</p></td>
</tr>
<tr class="odd">
<td align="left"><p><strong>/d</strong></p></td>
<td align="left"><p>オブジェクト参照のトレース機能の設定をクリアします。 使用すると<strong>/ro</strong>レジストリの設定をクリアします。</p></td>
</tr>
<tr class="even">
<td align="left"><p><strong>/p</strong></p></td>
<td align="left"><p>永続的です。 オブジェクト参照のトレースが無効になっているか、コンピューターをシャット ダウンまたは再起動するまで、トレース データが保持されます。 既定では、オブジェクトが破棄されるときに、オブジェクトのトレース データは破棄されます。</p></td>
</tr>
</tbody>
</table>

 

<span id="________ko______"></span><span id="________KO______"></span> **/ko**   
有効、無効化、およびカーネルのフラグ (実行時間) が表示されます[オブジェクト参照トレース](object-reference-tracing.md)設定します。 この設定に対する変更が、すぐに有効が、システムがシャット ダウンまたは再起動すると失われます。 詳細については、次を参照してください。[例 15。オブジェクト参照のトレースを使用して](example-15--using-object-reference-tracing.md)します。

追加のパラメーターを指定せず **/ko**カーネル フラグ (実行時) のオブジェクト参照のトレース設定が表示されます。

オブジェクト参照のトレースを有効にするには、少なくとも 1 つのプール タグを含める必要があります (**/t** *PoolTag*) または 1 つのイメージ ファイル (**/i** *ImageFile*) でコマンドです。

次の表に、有効であるサブパラ メーター **/ko**します。

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody>
<tr class="odd">
<td align="left"><p><strong>/t</strong> <em>PoolTags</em></p></td>
<td align="left"><p>指定されたプール タグを持つオブジェクトにトレースを制限します。 セミコロンで区切ります (<strong>;</strong>) タグ名を区切ります。 プールの最大 16 個のタグを入力します。</p>
<p>4 文字のパターンを入力<em>PoolTags</em>、Tag1 など。</p>
<p>1 つ以上のプール タグを指定すると、Windows は、指定されたプール タグのいずれかを持つオブジェクトをトレースします。</p>
<p>プール タグを指定しない場合、Windows は、イメージによって作成されるすべてのオブジェクトをトレースします。</p></td>
</tr>
<tr class="even">
<td align="left"><p><strong>/i</strong> <em>ImageFile</em></p></td>
<td align="left"><p>指定したイメージ ファイルを使用して、プロセスによって作成されたオブジェクトをトレースに制限されます。 1 つのみのイメージ ファイルを指定することができます、 <strong>/i</strong>パラメーター。</p>
<p>イメージ ファイルを指定しない場合、Windows は、指定されたプール タグを含むすべてのオブジェクトをトレースします。</p>
<p>両方のイメージ ファイルを指定する場合 (<strong>/i</strong>) と 1 つまたは複数のプール タグ (<strong>/t</strong>)、Windows は、指定したイメージによって作成される指定されたプール タグのいずれかでオブジェクトをトレースします。</p></td>
</tr>
<tr class="odd">
<td align="left"><p><strong>/d</strong></p></td>
<td align="left"><p>オブジェクト参照のトレース機能の設定をクリアします。 使用すると<strong>/ro</strong>レジストリの設定をクリアします。</p></td>
</tr>
<tr class="even">
<td align="left"><p><strong>/p</strong></p></td>
<td align="left"><p>永続的です。 オブジェクト参照のトレースが無効になっているか、コンピューターをシャット ダウンまたは再起動するまで、トレース データが保持されます。 既定では、オブジェクトが破棄されるときに、オブジェクトのトレース データは破棄されます。</p></td>
</tr>
</tbody>
</table>

 

<span id="________p______"></span><span id="________P______"></span> **/p**   
ページのプロセスのヒープの検証オプションを設定します。

追加のパラメーターなしで**gflags/p**ヒープの検証が有効にするページのイメージ ファイルの一覧を表示します。

ページ ヒープの確認モニタ動的ヒープ メモリなどの操作では、操作および無料の操作を割り当て、ヒープ エラーが検出されたときにデバッガー中断が発生します。

<span id="________disable_______ImageFile______"></span><span id="________disable_______imagefile______"></span><span id="________DISABLE_______IMAGEFILE______"></span> **/disable** *ImageFile*   
指定したイメージ ファイルのページ ヒープの検証 (標準または完全) を無効にします。

このコマンドはオフにすると、[ページ ヒープを有効にする](enable-page-heap.md)プロセス (hpa) フラグ (**gflags/i** *ImageFile* **- hpa**)。 相互にコマンドを使用することができます。

<span id="________enable_______ImageFile______"></span><span id="________enable_______imagefile______"></span><span id="________ENABLE_______IMAGEFILE______"></span> **/enable** *ImageFile*   
指定したイメージ ファイルのページ ヒープの検証をオンにします。

既定で、 **/有効化**パラメーターをオンに*標準*イメージ ファイルの検証をヒープのページします。 有効にする*完全*イメージ ファイルの検証をヒープのページで、追加、**フル/** コマンドまたは使用するパラメーター、 **/i**パラメーター、 **+ hpa**フラグ。

<span id="________full______"></span><span id="________FULL______"></span> **/full**   
完全ページ ヒープの検証プロセスにオンにします。 完全ページ ヒープの検証は、各割り当ての最後に、予約済みの仮想メモリのゾーンを配置します。

有効化と同じですがこのパラメーターを使用して、[ページ ヒープを有効にする](enable-page-heap.md)プロセス (hpa) フラグ (**gflags/i** *ImageFile* **+ hpa**)。 相互にコマンドを使用することができます。

<span id="________backwards______"></span><span id="________BACKWARDS______"></span> **/backwards**   
最後にではなく、割り当ての先頭には、予約済みの仮想メモリのゾーンを配置します。 その結果、デバッガーはバッファーの末尾にあるものではなく、バッファーの先頭のオーバーランをトラップします。 のみ有効です、 **フル/** パラメーター。

<span id="________random_______Probability______"></span><span id="________random_______probability______"></span><span id="________RANDOM_______PROBABILITY______"></span> **ランダムな/** *確率*   
指定した確率に基づいて、各割り当ての完全なまたは標準ページ ヒープの検証を選択します。

*確率*は 0 ~ 100 の完全ページ ヒープの検証の確率を表す 10 進整数。 100 の確率が使用する場合と同じ、 **フル/** パラメーター。 0 の確率は、標準的なページ ヒープの検証を使用する場合と同じです。

<span id="________size________SizeStart_SizeEnd______"></span><span id="________size________sizestart_sizeend______"></span><span id="________SIZE________SIZESTART_SIZEEND______"></span> **サイズ/** *SizeStart の要件*   
指定したサイズの範囲内の割り当ての完全ページ ヒープ検証でき、プロセスによってその他のすべての割り当ての標準的なページ ヒープの検証が有効にします。

*SizeStart*と*要件*は 10 進整数です。 既定ではすべての割り当ての標準的なページ ヒープの検証です。

<span id="________address________AddressStart_AddressEnd______"></span><span id="________address________addressstart_addressend______"></span><span id="________ADDRESS________ADDRESSSTART_ADDRESSEND______"></span> **//アドレス** *AddressStart AddressEnd*   
戻り値のアドレス指定されたアドレスの範囲の中に割り当てられたメモリに完全ページ ヒープの検証が実行時に有効では、スタックを呼び出します。 プロセスで、その他のすべての割り当ての標準的なページ ヒープの検証を実現します。

この機能を使用するには、問題のある割り当てを使用して、関数を呼び出すすべての関数のアドレスが含まれる範囲を指定します。 呼び出し元関数のアドレスは、問題のある割り当てが発生した場合、コール スタック上になります。

*AddressStart*と*AddressEnd*割り当てスタック トレース内で検索されるアドレス範囲を指定します。 0xAABBCCDD などの 16 進数形式で、アドレスを指定します。

Windows Server 2003 およびそれ以前のシステムで、 **/アドレス**パラメーターがでのみ有効です。 *x*86 ベースのコンピューター。 Windows vista では、: これは有効ではサポートされているすべてのアーキテクチャです。

<span id="________dlls_DLL___DLL...__"></span><span id="________dlls_dll___dll...__"></span><span id="________DLLS_DLL___DLL...__"></span> **/dlls** *DLL*\[**,** *DLL*...\]   
指定された Dll によって要求された割り当てにより完全ページ ヒープの検証と、プロセスによってその他のすべての割り当ての標準的なページ ヒープの検証。

*DLL*そのファイル名拡張子を含む、バイナリ ファイルの名前を指定します。 指定したファイルには、プロセスが実行中に読み込まれる関数ライブラリを指定する必要があります。

<span id="________debug______"></span><span id="________DEBUG______"></span> **/debug**   
指定されたプロセスが自動的に起動、**を有効にする/** デバッガーの下のパラメーター。

既定で、このパラメーターは、コマンドラインを使用した NTSD デバッガーを使用して**ntsd-g-g-x**とページを使用することがヒープで有効になっている、 *DebuggerCommand*変数を別のデバッガーとコマンドを指定するには行です。

NTSD については、次を参照してください。[デバッグを使用して CDB、NTSD](debugging-using-cdb-and-ntsd.md)します。

このオプションは、プログラム、コマンド プロンプトと他のプロセスによって起動される出発点となるが困難な場合に便利です。

<span id="_DebuggerCommand_______"></span><span id="_debuggercommand_______"></span><span id="_DEBUGGERCOMMAND_______"></span>**"**<em>DebuggerCommand</em>**"**   
デバッガーとデバッガーに送信するコマンドを指定します。 デバッガー、デバッガーの名前と、デバッガーを解釈するコマンド パラメーターへの完全修飾パスを含める文字列を引用符で囲まれたこのことができます。 引用符が必要です。

コマンドには、デバッガーへのパスが含まれている場合、パスは、その他の引用符を含めることはできません。 表示する場合はその他の引用符、コマンド シェル (*cmd.exe*) コマンドを誤って解釈されます。

<span id="________kdebug______"></span><span id="________KDEBUG______"></span> **/kdebug**   
指定されたプロセスが自動的に起動、**を有効にする/** コマンドラインを使用した NTSD デバッガーの下のパラメーター **ntsd-g-g-x**、ページ ヒープを有効になっている、および制御にリダイレクトする NTSD、カーネル デバッガーです。

NTSD については、次を参照してください。[デバッグを使用して CDB、NTSD](debugging-using-cdb-and-ntsd.md)します。

<span id="________unaligned______"></span><span id="________UNALIGNED______"></span> **/unaligned**   
これで、開始アドレスは、8 バイトのブロックで整列していません、その場合でも、最後のページの境界では、各割り当ての末尾を揃えて配置します。 既定では、ヒープ マネージャーは、8 バイトのブロックの割り当ての開始アドレスが配置されるを保証します。

このオプションはオフで、1 バイトのエラーを検出するために使用されます。 このパラメーターを使用するときに、 **フル/** パラメーター、予約済みの仮想メモリのゾーンの割り当ての最後のバイトの直後に開始し、即座の障害は、プロセスは、読み取りまたは書き込みの 1 バイトでもが試みるときに発生します、。割り当てです。

<span id="________decommit______"></span><span id="________DECOMMIT______"></span> **/decommit**   
このオプションが有効ではありません。 受け入れられると、そのことは、無視することができます。

Windows 2000 に含まれる pageheap によってプログラム (pageheap.exe) では、割り当て後にアクセスできないページを配置することによって完全ページ ヒープの検証が実装されます。 このツールでは、 **/デコミット**パラメーターにアクセスできないページの予約済みの仮想メモリのゾーンが置き換えられます。 GFlags のこのバージョンでは、予約済みの仮想メモリのゾーンは常に完全ページ ヒープの検証を実装するために使用します。

<span id="________notraces______"></span><span id="________NOTRACES______"></span> **/notraces**   
実行時のスタック トレースが保存されないことを指定します。

このオプションがわずかにパフォーマンスを向上が、デバッグをはるかに難しくなります。 このパラメーターは有効ですが、その使用は推奨されません。

<span id="________fault______"></span><span id="________FAULT______"></span> **/fault**   
指定したレートでと、指定したタイムアウト後にフェールバックするプログラムのメモリ割り当てを強制します。

このパラメーターは、ためその、一部のプログラムがメモリ不足の状況で実行するときに発生する可能性のメモリ割り当てが失敗するテスト対象のイメージ ファイル (「フォールト インジェクション」と呼ばれます) にヒープ割り当てエラーを挿入します。 このテストは、リソースの解放の失敗などの割り当てエラーの処理のエラーを検出するのに役立ちます。

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody>
<tr class="odd">
<td align="left"><p><em>レート</em></p></td>
<td align="left"><p>1 から 10 進整数を指定します (. 01%)10000 (100%)割り当てに失敗する確率を表すです。 既定では 100 (1%) です。</p></td>
</tr>
<tr class="even">
<td align="left"><p><em>タイムアウト</em></p></td>
<td align="left"><p>プログラムの開始と、フォールト インジェクション ルーチンの開始までの期間を決定します。</p>
<p><em>タイムアウト</em>は秒単位で測定されます。 既定では 5 (秒です)。</p></td>
</tr>
</tbody>
</table>

 

<span id="________leaks______"></span><span id="________LEAKS______"></span> **/leaks**   
プロセスが終了するヒープのリークを確認します。

**リーク/** パラメーターは、完全ページ ヒープを無効にします。 ときに**リーク/** を使用する、**フル/** パラメーターとパラメーターを変更する、**フル/** パラメーターなど **/下位**は無視されますGFlags リーク チェックを標準ページ ヒープの検証を実行します。

<span id="________protect______"></span><span id="________PROTECT______"></span> **/protect**   
ヒープの内部構造を保護します。 このテストは、ランダムなヒープの破損を検出するために使用されます。 実行速度が低下が大幅に行うことができます。

<span id="________no_sync______"></span><span id="________NO_SYNC______"></span> **/no\_sync**   
同期されていないアクセスを確認します。 このパラメーターによって、中断を検出した場合、ヒープを使用して作成したヒープ\_いいえ\_SERIALIZE フラグが別のスレッドによってアクセスします。

カスタマイズされたヒープ マネージャーを含むプログラムのデバッグはこのフラグを使わないでください。 ヒープのアクセスを同期する関数には、存在しない同期エラーをレポートにページ ヒープの検証が発生します。

<span id="________no_lock_checks______"></span><span id="________NO_LOCK_CHECKS______"></span> **/no\_lock\_checks**   
クリティカル セクションの検証を無効にします。

<span id="_______________"></span> **/?**   
GFlags のヘルプを表示します。 **/P**、 **/でしょうか。** GFlags ページ ヒープの検証オプションのヘルプを表示します。

### <a name="span-idcommentsspanspan-idcommentsspancomments"></a><span id="comments"></span><span id="COMMENTS"></span>コメント

入力**gflags**パラメーターを表示せず、**グローバル フラグ** ダイアログ ボックス。

入力**gflags/p**せず、追加のパラメーターを持つページ ヒープの検証が有効になっているプログラムの一覧を表示します。

すべてのフラグをクリアするには、設定*フラグ*に **- FFFFFFFF**します。 (設定*フラグ*を 0 に、現在のフラグ値にゼロを追加します。 これはクリアされませんすべてのフラグ。)

設定すると*フラグ*にイメージ ファイルの**FFFFFFFF**Windows は、すべてのフラグをクリアし、イメージ ファイルのレジストリ サブキーで GlobalFlag エントリを削除します。 サブキーのままになります。

**フル/**、**ランダム/**、 **/サイズ**、 **/アドレス**、および **/dlls** ページヒープのパラメーター**を有効にする/** 操作を決定する割り当てはヒープのページの検証および検証メソッドを使用します。 各コマンドでは、これらのパラメーターの 1 つだけを使用できます。 既定では、プロセスのすべての割り当ての標準的なページ ヒープの検証です。 残りのパラメーターは、ヒープのページ検証のオプションを設定します。

GFlags ページ ヒープの機能は標準 Windows ヒープ マネージャーの機能を使用して、ヒープ メモリの割り当てのみ監視 (**HeapAlloc**、 **GlobalAlloc**、 **LocalAlloc**、**malloc**、**新しい**、**新しい\[\]**、対応する関数を割り当て解除または)、またはカスタム操作を使用します。標準のヒープを manager 関数を呼び出すとします。

プログラムは、コマンドラインで、ヒープの完全なまたは標準のページ検証が有効になっているかどうかを判断するには、入力**gflags/p**します。 結果の表示で**トレース**プログラムの標準的なページ ヒープの検証が有効であることを示しますと**完全なトレース**プログラムの完全ページ ヒープの検証が有効であることを示します。

**を有効にする/** パラメーター セット、[ページ ヒープを有効にする](enable-page-heap.md)レジストリにイメージ ファイル (hpa) フラグ。 ただし、**を有効にする/** パラメーターをオンに*標準*とは異なり既定では、ヒープのイメージ ファイルの検証、 **/i**パラメーター、 **+ hpa**フラグは、オン*完全*ヒープのイメージ ファイルを検証します。

*標準*ヒープのページ検証割り当ての末尾にランダムなパターンを配置し、ヒープ ブロックが解放されるときに、パターンを検査します。 *完全な*ページ ヒープの検証は、各割り当ての最後に予約済みの仮想メモリのゾーンを配置します。

完全ページ ヒープの検証は、システム メモリをすばやく使用できます。 メモリを消費するプロセスの完全ページ ヒープの検証を有効にするには使用、 **/サイズ**または **/dlls**パラメーター。

グローバル フラグを使用してデバッグするため、送信、 **gflags/p/disable**コマンド ページ ヒープの検証をオフにし、関連するレジストリ エントリを削除します。 それ以外の場合、デバッガーを読み込むエントリはレジストリに残ります。 使用することはできません、 **gflags/i hpa**ページ ヒープの検証をオフにレジストリ エントリは削除されませんが、このタスクでは、コマンドします。

既定では、Windows Vista および Windows での以降のバージョンでは、プログラムに固有の設定 (イメージ ファイルのフラグとページ ヒープの検証の設定) は、現在のユーザー アカウントに格納されます。

GFlags のこのバージョンが含まれています、 **-v**オプションで、開発中の GFlags 機能を有効にします。 ただし、これらの機能がまだ完了していないと、そのため、記載されていません。

 

 





