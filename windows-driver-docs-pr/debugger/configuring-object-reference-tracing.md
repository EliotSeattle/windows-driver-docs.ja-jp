---
title: オブジェクト参照トレースの構成
description: オブジェクト参照トレースの構成
ms.assetid: 9dbf979d-5fc0-4359-bbed-6175f3191c52
keywords:
- トレースの構成のオブジェクト参照
ms.date: 05/23/2017
ms.localizationpriority: medium
ms.openlocfilehash: ea7e974fe7e4540f222dbde024353c6a58b9087d
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/31/2019
ms.locfileid: "56582159"
---
# <a name="configuring-object-reference-tracing"></a>オブジェクト参照トレースの構成


Gflags を使用して、有効化、無効にするには、Windows のオブジェクト参照のトレース機能を構成することができます。 オブジェクト参照のトレース レコード シーケンシャルなスタック トレースされるたびにオブジェクトの参照カウンターは、インクリメントまたはデクリメントします。 トレースは、二重逆参照、エラーを参照するオブジェクトを逆参照の失敗など、オブジェクト参照エラーを検出するのに役立ちます。 この機能は、Windows Vista および Windows の以降のバージョンでのみサポートされます。 この機能の詳細については、次を参照してください。[オブジェクト参照トレース](object-reference-tracing.md)します。

**オブジェクト参照の追跡を有効にするには**

1.  Gflags ダイアログ ボックスで、選択、**システム レジストリ**タブまたは**カーネル フラグ**タブ。

2.  [オブジェクトの参照のトレース] セクションで**を有効にする**します。

    指定したプロセス、またはその両方によって作成されたオブジェクトを指定されたプール タグを持つオブジェクトにトレースを制限する必要があります。

3.  トレースの特定のプール タグを持つオブジェクトを制限するには、プール タグ名を入力します。 一覧を表示するには、複数のプール タグは、セミコロン (;) を使用します。プールを分離するには、タグ付けします。 複数のプール タグの一覧を表示するときに、トレースには、指定されたプール タグのいずれかのオブジェクトが含まれます。 プール タグは、大文字小文字を区別します。

    たとえば、Fred です。Tag1 します。

4.  トレースの特定のプロセスによって作成されるオブジェクトを制限するには、プロセスのイメージの名前を入力します。 1 つだけのイメージ ファイル名を指定することができます。

    プール タグとプロセスの両方を指定すると、トレースには、いずれかの指定したプール タグのプロセスによって作成されるオブジェクトが含まれます。

5.  Trace オブジェクトを破棄した後、トレースを保持するには、選択**永続的な**します。

    選択すると**永続的な**トレースは、オブジェクト参照のトレースを無効にするか、シャット ダウンまたは Windows を再起動するまでに保持されます。

6.  **[適用]** または **[OK]** をクリックします。

オブジェクト参照のトレースを有効になっている次のスクリーン ショットを示しています、**カーネル フラグ**タブ。

![スクリーン ショットのオブジェクトのカーネル フラグ タブで有効な参照トレースを示しています](images/gflags-obj.png)

このトレース オブジェクトが含まれますのみ notepad.exe プロセスによって作成されたプール タグを持っている**Fred**または**Tag1**します。 これは実行時 (カーネル フラグ) の設定であるため、すぐにトレースを開始します。 レジストリ設定をその場合、トレースを開始する Windows を再起動する必要があります。

**オブジェクト参照のトレースを無効にするには**

1.  Gflags ダイアログ ボックスで、選択、**システム レジストリ**タブまたは**カーネル フラグ**タブ。オブジェクト参照のトレースは、Windows Vista と Windows の以降のバージョンでのみ、後者のタブに表示されます。

2.  オブジェクト参照のトレース セクションでは、オフ、**を有効にする**チェック ボックスをオンします。

 

 





