---
title: デバッグ セッションと実行モデル
description: デバッグ セッションと実行モデル
ms.assetid: 1cc2c055-447c-44cd-94d4-ae3dfa8243fb
keywords:
- デバッガー エンジンの実行モデル
- 実行モデル
- デバッグ セッションのデバッガー エンジン
ms.date: 05/23/2017
ms.localizationpriority: medium
ms.openlocfilehash: 343e90f59fc50fbc5c78b4121761542634aa08d9
ms.sourcegitcommit: fb7d95c7a5d47860918cd3602efdd33b69dcf2da
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/25/2019
ms.locfileid: "67361401"
---
# <a name="debugging-session-and-execution-model"></a>デバッグ セッションと実行モデル


デバッガー エンジンは、複数のターゲットを同時にデバッグできます。 A*デバッグ セッション*エンジンがターゲットを取得し、までのすべてのターゲットが破棄されたときに開始されます。 デバッグ セッションは*アクセスできない*ターゲットが実行中と*アクセス*現在のターゲットが中断されたとき。 エンジンを調べて、セッションにアクセス中にターゲットを操作する場合にのみ使用できます。

デバッガーのメイン ループが通常のメソッドを呼び出して、実行状態の設定で構成されます[ **WaitForEvent** ](https://docs.microsoft.com/windows-hardware/drivers/ddi/content/dbgeng/nf-dbgeng-idebugcontrol3-waitforevent)と、生成された処理[イベント](events.md#events)します。 ときに**WaitForEvent**が呼び出されると、セッションにアクセスできなくなります。

ターゲットのイベントが発生して、エンジンは、すべてのターゲットを中断します。 セッションがアクセス可能になります。 エンジンに、イベントのイベントのコールバックを通知し、イベント フィルターの規則に従います。 イベントのコールバックとイベントのフィルターは、ターゲットでの実行を続ける方法を決定します。 エンジンが、デバッガーを中断する必要がありますを判断する場合、 **WaitForEvent**メソッドの戻り値と、セッションがアクセスできる状態それ以外の場合、イベントによって特定の方法でターゲットの実行が再開されます。コールバックとイベントのフィルターと、セッションにアクセスできなくなったもう一度です。

実行中、 **WaitForEvent**呼び出す--具体的には、イベントのコールバックを通知して、フィルターの処理中にルール--エンジンが"待機中"と呼ばれる状態。 この状態で**WaitForEvent**呼び出すことができません (再入可能はありません)。

2 つの手順をターゲットの実行を開始するにがあります。 実行の状態を設定し、呼び出す**WaitForEvent**。 メソッドを使用して、実行状態を設定する[ **SetExecutionStatus** ](https://docs.microsoft.com/windows-hardware/drivers/ddi/content/dbgeng/nf-dbgeng-idebugcontrol3-setexecutionstatus)またはなど--実行状態を設定するデバッガー コマンドを実行して**g(Go)** と**p (ステップ)** します。

場合は、一連のデバッガー コマンドが同時に実行 - たとえば、"**g; でしょうか。@$ ip**"--、*暗黙的な待機*そのコマンドが、シーケンスの最後のコマンドではない場合は、ターゲットの実行を必要とする任意のコマンドの後に発生します。 暗黙の待機は、デバッガー エンジンが"待機"; 内部状態のときに発生することはできません。ここで、コマンドの実行が停止し、現在のコマンドが発生する暗黙的な待機--しようとしています。 1 つは、ターゲットの実行を続ける方法を示す値として解釈されます。 コマンドの残りの部分は破棄されます。

**注**  セッションがアクセスできるかどうかを決定するときに、またはターゲットのアクセス、制限付きの実行 (たとえば、ステップ実行) エンジンによって実行と見なされます。 制限付きの実行が完了したら、セッションがアクセス可能になります。

 

### <a name="span-idhostenginespanspan-idhostenginespanhost-engine"></a><span id="host_engine"></span><span id="HOST_ENGINE"></span>ホスト エンジン

をリモートでデバッグするときは、デバッガー エンジンの複数のインスタンスを使用できます。 これらのインスタンスの 1 つだけ、デバッグ セッションを維持します。このインスタンスと呼ばれる、*ホスト エンジン*します。

デバッガーのすべての操作は、シンボルの読み込みと拡張機能の読み込みなどのホスト エンジンに対応しています。

 

 





