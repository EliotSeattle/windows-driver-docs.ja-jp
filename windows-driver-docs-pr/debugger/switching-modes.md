---
title: モードの切り替え
description: モードの切り替え
ms.assetid: 167e5352-4ebc-423d-bf4f-ba1d459b394f
ms.date: 11/28/2017
ms.localizationpriority: medium
ms.openlocfilehash: fffbf3388be79be5a88d0b5539e7550112598a98
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/31/2019
ms.locfileid: "56574282"
---
# <a name="switching-modes"></a>モードの切り替え


## <span id="ddk_opening_a_crash_dump_dbg"></span><span id="DDK_OPENING_A_CRASH_DUMP_DBG"></span>


ときにする[カーネル デバッガーからユーザー モードのデバッグを制御](controlling-the-user-mode-debugger-from-the-kernel-debugger.md)、4 つの異なるモードを発生した場合や、さまざまな方法でそれらを切り替えることができます。

**注**  このシナリオの説明で*ターゲット アプリケーション*はデバッグ中は、ユーザー モード アプリケーションを*対象のコンピュータ*コンピューターを指しますをターゲット アプリケーションと、CDB、NTSD またはプロセスが含まれますと*ホスト コンピューター*カーネル デバッガーを格納しているコンピューターを参照します。

 

次の 4 つのモードが発生します。

<span id="User-mode_debugging"></span><span id="user-mode_debugging"></span><span id="USER-MODE_DEBUGGING"></span>*ユーザー モードのデバッグ*  
ターゲット コンピュータと対象のアプリケーションが固定されています。 ユーザー モード デバッグのプロンプトが表示されたら、[デバッガー コマンド ウィンドウ](debugger-command-window.md)カーネル デバッガーの。 WinDbg、WinDbg ウィンドウの下部のパネルでプロンプトに入力が表示されます。&gt;します。 ターゲット アプリケーションの状態を分析またはを実行またはステップの実行、ユーザー モードのデバッグ時に入力した場合、このプロンプトでコマンドを入力できます。 シンボル ファイル、拡張 Dll、およびデバッガーにアクセスするその他のファイルは、ホスト コンピューターではなく、ターゲット コンピューターにそれらのファイルになります。

<span id="Target_application_execution"></span><span id="target_application_execution"></span><span id="TARGET_APPLICATION_EXECUTION"></span>*ターゲット アプリケーションの実行*  
ターゲット コンピューターで実行されて、ターゲット アプリケーションが実行されていると、デバッガーが待機しています。 このモードは、ターゲットの通常のデバッグに実行できるようにすることと同じです。

<span id="Sleep_mode"></span><span id="sleep_mode"></span><span id="SLEEP_MODE"></span>*スリープ モード*  
ターゲット コンピューターが実行されているが、ターゲット アプリケーションが固定されているし、両方のデバッガーが固定されています。 このモードは、ターゲット コンピューターで作業を行う必要があるが、デバッグ セッションの状態を変更したくない場合に便利です。

<span id="Kernel-mode_debugging"></span><span id="kernel-mode_debugging"></span><span id="KERNEL-MODE_DEBUGGING"></span>*カーネル モードのデバッグ*  
対象のコンピューターとターゲット アプリケーションが固定されています。 カーネル モード デバッグ プロンプト kd&gt;カーネル デバッガーのデバッガー コマンド ウィンドウに表示されます。 このモードは、一般的なカーネル モードのデバッグ状態です。

ユーザー モードのデバッグ モードでセッションを開始します。 次の操作とイベントが発生する、モードを変更します。

-   ターゲット アプリケーションの実行をユーザー モードのデバッグには、使用、 [ **g (移動)** ](g--go-.md)のコマンドで、`Input>`プロンプト。

-   ユーザー モードのデバッグには、アプリケーションの実行を対象し、し、ユーザー モードのデバッグに戻るから一時的に切り替えるには、するには、ステップ、トレース、またはその他の一時的な実行コマンドを使用します。 このようなコマンドの一覧は、次を参照してください。[ターゲットを制御する](controlling-the-target.md)します。

-   ユーザー モード デバッグ スリープ モードに切り替えるを使用して、 [ **.sleep (デバッガーを一時停止)** ](-sleep--pause-debugger-.md)コマンド。 このコマンドがタイムアウトになりました。 時間が経過すると、ユーザー モードのデバッグに戻ります。

-   ユーザー モードのデバッグのカーネル モードのデバッグに切り替えるを使用して、 [ **.breakin (カーネル デバッガーにブレーク)** ](-breakin--break-to-the-kernel-debugger-.md)コマンド。 なお **.breakin**アクセス拒否エラーが呼び出し元のプロセスが管理者権限を持たない場合に失敗する可能性があります。 この場合は、短いを発行して KD に切り替える **.sleep**コマンドし、ctrl キーを押しながら C キーを押します。

-   ターゲット アプリケーションの実行からの特定の環境でのみユーザー モードのデバッグに切り替えることができます。 ターゲット コンピューターが Microsoft Windows XP または Windows オペレーティング システムの以降のバージョンを実行している場合は使用できます、 [ **! bpid** ](-bpid.md)拡張機能コマンド。 CDB (NTSD ではない) を使用している場合は、ターゲット コンピューターに、CDB ウィンドウをアクティブ化して、ctrl キーを押しながら C キーを押します。

-   ターゲット アプリケーションがブレークポイントに達する場合は、例外を検出するが検出したその他のコントロールのイベントまたは終了すると、ユーザー モードのデバッグにターゲット アプリケーションの実行から、system スイッチ。 NTSD を使用している場合は特に、このようなイベントを事前に計画してください。 これらのイベントに関する詳細については、次を参照してください。[を使用してブレークポイント](using-breakpoints2.md)と[を制御する例外とイベント](controlling-exceptions-and-events.md)します。

-   、ターゲット アプリケーションの実行からカーネル モードのデバッグに切り替えるに KD ウィンドウで、ctrl キーを押しながら C キーを押します CTRL + BREAK キーを押すか をクリックして**中断**上、**デバッグ**WinDbg ウィンドウ、または SYSRQ または ALT + SYSRQ キーを押してメニューターゲット コンピューターのキーボード。 (カーネル デバッガーが KD し、同時にカーネル デバッガーが通信中に、ユーザー モード デバッガーで ctrl キーを押しながら C キーを押す場合は、ユーザー モード デバッガー可能性がありますをキャプチャする CTRL + C キーを押してします。)

-   デバッガーにカーネル エラーが発生した場合、または Breakin.exe ツールを使用する場合は、システムがターゲット アプリケーションの実行からカーネル モードのデバッグに切り替わります。

-   有効期限が切れる、対象コンピューターを使用して新しい CDB プロセスを開始するには、スリープ時間待つ、スリープ モードからユーザー モードのデバッグに切り替える-ウェイク[**コマンド ライン オプション**](cdb-command-line-options.md)を使用して、または、 [ **.wake (wake デバッガー)** ](-wake--wake-debugger-.md) CDB、NTSD のターゲット コンピューター上の別のコピー コマンド。

-   カーネル モードのデバッグには、使用、 [ **g (移動)** ](g--go-.md)のコマンドで、`kd>`プロンプト。 このコマンドは、ユーザー モード デバッグまたはターゲット アプリケーションの実行 (2 つのどちらかが最近使用状態) を返します。

 

 





