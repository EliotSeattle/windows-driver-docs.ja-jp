---
title: バグ チェック 0x7F UNEXPECTED_KERNEL_MODE_TRAP
description: UNEXPECTED_KERNEL_MODE_TRAP のバグ チェックでは、0x0000007F の値を持ちます。
ms.assetid: f4fcc2a1-891b-44e9-94bf-e712019f538f
keywords:
- バグ チェック 0x7F UNEXPECTED_KERNEL_MODE_TRAP
- UNEXPECTED_KERNEL_MODE_TRAP
ms.date: 05/23/2017
topic_type:
- apiref
api_name:
- UNEXPECTED_KERNEL_MODE_TRAP
api_type:
- NA
ms.localizationpriority: medium
ms.openlocfilehash: d07eda994867d99cbc09b3d114974d5bd53fd692
ms.sourcegitcommit: fb7d95c7a5d47860918cd3602efdd33b69dcf2da
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/25/2019
ms.locfileid: "67361736"
---
# <a name="bug-check-0x7f-unexpectedkernelmodetrap"></a>バグ チェック 0x7F:予期しない\_カーネル\_モード\_トラップ


予期しない\_カーネル\_モード\_トラップ バグ チェックが 0x0000007F の値を持ちます。 このバグ チェックでは、Intel CPU トラップを生成して、カーネルがキャッチこのトラップに失敗したことを示します。

このトラップ可能性があります、*バインドされたトラップ*(トラップ、カーネルが許可されないをキャッチする) または*二重フォールト*(常に、システム障害の結果、以前のフォールトを処理中に発生したエラー)。

> [!IMPORTANT]
> このトピックはプログラマーを対象としています。 コンピューターを使用しているときに、エラー コードがブルー スクリーンが受信した顧客の場合を参照してください。[トラブルシューティング ブルー スクリーン エラー](https://support.microsoft.com/help/14238/windows-10-troubleshoot-blue-screen-errors)します。


## <a name="unexpectedkernelmodetrap-parameters"></a>予期しない\_カーネル\_モード\_トラップ パラメーター


トラップ ブルー スクリーンに表示される最初のパラメーターを指定します。

トラップする最も一般的なコードを以下に示します。

-   、0x00000000 または 0 のエラーによる除算は DIV 命令が実行されるその除数は 0 を示します。 このエラーは、メモリの破損、他のハードウェアの問題、またはソフトウェアの障害が発生できます。

-   0x00000004, またはオーバーフローは、オーバーフロー (OF) フラグが設定されている場合に、プロセッサが割り込みハンドラーへの呼び出しを実行するときに発生します。

-   0x00000005、または境界チェックの障害、プロセッサ、バインドされた命令の実行中が検出できる、オペランドが指定された制限を超えたことを示します。 バインドされた命令により、署名付きの配列のインデックスは、特定の範囲内が。

-   0x00000006、または無効な Opcode は、プロセッサが無効な命令を実行しようとしたことを示します。 このエラーは、通常、命令ポインターが破損し、誤った場所を指している場合に発生します。 このエラーの最も一般的な原因は、ハードウェア メモリの破損です。

-   0x00000008、または二重の障害は、前の例外のハンドラーの呼び出し中に例外が発生したことを示します。 通常、2 つの例外は、逐次的に処理されます。 ただし、直列に処理できないいくつかの例外もあり、このような状況で、プロセッサが二重の障害を通知します。 二重の障害の 2 つの一般的な原因があります。
    -   カーネル スタックのオーバーフローです。 ガード ページをヒットするととカーネルがトラップ フレームをプッシュしようとした場合、、このオーバーフローが発生します。 左スタックがないため、スタック オーバーフローは結果が 2 つの障害の原因します。 この概要が発生した場合を使用して、 [ **! スレッド**](-thread.md)スタックの制限を判断し、使用する[ **kb (Display Stack Backtrace)** ](k--kb--kc--kd--kp--kp--kv--display-stack-backtrace-.md)大きなパラメーターを使用して (たとえば、 **100 kb**) 完全な履歴を表示します。
    -   ハードウェアの問題。

頻度の低いトラップ コードを以下に示します。

-   0x00000001--システムのデバッガーの呼び出し

-   0x00000003 - デバッガーのブレークポイント

-   0x00000007 - 存在しないコプロセッサとハードウェアのコプロセッサ命令

-   0x0000000A--A にはタスクの状態のセグメントが破損しています

-   0x0000000B--メモリ セグメントが存在しませんでしたがへのアクセス

-   0x0000000C--スタックの制限を超えてメモリへのアクセス

-   0x0000000D - その他の例外では取り上げません例外アプリケーションのアクセス違反に関連する保護違反

他のトラップ番号は、Intel アーキテクチャ マニュアルを参照してください。

<a name="cause"></a>原因
-----

0x7F のバグ チェックは、通常、障害または不一致のハードウェア (特にメモリ) をインストールした後、またはハードウェアが失敗するがインストールされている場合に発生します。

二重の障害は、カーネル スタックがオーバーフローした場合に発生します。 複数のドライバーが、同じスタックにアタッチされている場合、このオーバーフローが発生します。 たとえば、2 つのファイル システム フィルター ドライバーは、同じスタックに関連付けられているし、もう一度、ファイル システム再帰的に検索、スタックがオーバーフローします。

<a name="resolution"></a>解決方法
----------

**デバッグ。** 常に始まり、 [ **! 分析**](-analyze.md)拡張機能。

この拡張機能が十分ではない場合は、使用、 [ **kv (Display Stack Backtrace)** ](k--kb--kc--kd--kp--kp--kv--display-stack-backtrace-.md)デバッガー コマンド。

-   場合**kv**を示しています、 **taskGate**を使用して、 [ **.tss (表示タスク状態の分割)** ](-tss--display-task-state-segment-.md)コロンの前に一部のコマンド。

-   場合**kv**トラップのフレームでは、使用、 [ **.trap (表示トラップ フレーム)** ](-trap--display-trap-frame-.md)フレームを書式設定コマンド。

-   それ以外の場合、使用、 [ **.trap (表示トラップ フレーム)** ](-trap--display-trap-frame-.md)コマンドを適切なフレーム。 (X86 ベースのプラットフォームではこのフレームはプロシージャに関連付けられている**NT!KiTrap**)。

これらのコマンドのいずれかを使用した後を使用して、 **kv**新しい履歴を表示するには、もう一度です。

**トラブルシューティング。** コンピューターにハードウェアを最近追加した場合は、エラーが再発するかどうかに表示することを削除します。 既存のハードウェアが失敗した場合は、削除または障害のあるコンポーネントの交換します。 ハードウェア コンポーネントを特定するシステムの製造元が提供する実行ハードウェア診断が失敗しました。

メモリのスキャナーは、特に重要です。 メモリの障害や一致しないには、このバグ チェックを可能性があります。 これらの手順の詳細については、コンピューターの製造元のマニュアルを参照してください。 コンピューターのすべてのアダプター カードが正しく取り付けられていることを確認します。 インクの削除や、電気連絡先処理、サプライの電器店でご利用いただけますを使用して、アダプター カードの連絡先がクリーンであることを確認します。

新しくインストールされたシステムでエラーが表示された場合、BIOS では、SCSI コント ローラーの更新プログラムの可用性を確認するかネットワーク カード。 更新プログラムのこれらの種類は、Web サイトやハードウェアの製造元の BBS 通常利用できます。

すべてのハード ディスク ドライブ、ハード ディスク コントローラ、および SCSI アダプターがインストールされたバージョンの Windows と互換性があることを確認します。 Windows 7 との互換性に関する情報を取得するなど、 [Windows 7 互換性センター](https://go.microsoft.com/fwlink/p/?LinkID=246806)します。

新しいまたは更新されたデバイス ドライバーのインストール後に、エラーが発生した場合、削除するか、ドライバーを交換する必要があります。 スタートアップ時にこのような状況では、エラーが発生したし、システム パーティションが NTFS でフォーマットされた場合、セーフ モードを使用して、名前を変更または障害のあるドライバーを削除できる可能性があります。 セーフ モードでシステムの起動プロセスの一部としてドライバーを使用する場合は、ファイルにアクセスするには、回復コンソールを使用して、コンピューターを起動する必要があります。

また、コンピューターを再起動し、オペレーティング システムの選択肢を表示する、文字ベースのメニューに F8 キーを押します。 **オプションの高度な**メニューの 、**前回正常起動時の構成**オプション。 このオプションは、一度に 1 つだけのドライバーやサービスを追加すると最も効果的です。

(評価仕様以上の速度で実行するために CPU を設定する) オーバーク ロックと、このエラーが発生することができます。 エラーが発生しているコンピューターをオーバーク ロックが場合、は、既定のクロック速度の設定に、CPU を返します。

デバイスまたはドライバー エラーの原因を識別するのに役立つその他のエラー メッセージをイベント ビューアーのシステム ログを確認します。 メモリの問題を解決しようとする BIOS のキャッシュ無効にすることもできます。

Windows オペレーティング システムの新しいバージョンにアップグレードするときに、このエラーが発生した場合は、デバイス ドライバー、システム サービス、ウイルス スキャナー、または新しいバージョンと互換性のないバックアップ ツールによって、エラーを発生する可能性があります。 可能であれば、すべてのサード パーティのデバイス ドライバーとシステム サービスを削除し、アップグレードする前に、ウイルス検出プログラムを無効にします。 これらのツールの更新プログラムを取得するソフトウェアの製造元に問い合わせてください。 また、最新の Windows サービス パックがインストールされていることを確認します。

最後に、上記の手順でエラーが解決しない場合は、診断をテストするための修復機能をシステムのマザーボードを実行します。 亀裂、傷のトレース、またはマザーボード上の欠陥があるコンポーネントもこのエラーがあります。

 

 




