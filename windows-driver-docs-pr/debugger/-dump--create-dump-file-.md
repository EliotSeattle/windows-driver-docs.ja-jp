---
title: .dump (ダンプ ファイルの作成)
description: .Dump コマンドは、ユーザー モードまたはカーネル モードのクラッシュ ダンプ ファイルを作成します。
ms.assetid: df6bcf7f-eb2e-4605-87a0-c0a7e9e4776b
keywords:
- ダンプ ファイル (.dump) コマンドを作成します。
- ダンプ ファイルにダンプ ファイルの作成 (.dump) コマンド
- .dump (ダンプ ファイルを作成する) Windows のデバッグ
ms.date: 08/01/2018
topic_type:
- apiref
api_name:
- .dump (Create Dump File)
api_type:
- NA
ms.localizationpriority: medium
ms.openlocfilehash: fa90f8f9e53325aada256104c3690cf30521250f
ms.sourcegitcommit: 0cc5051945559a242d941a6f2799d161d8eba2a7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/23/2019
ms.locfileid: "63334538"
---
# <a name="dump-create-dump-file"></a>.dump (ダンプ ファイルの作成)


**.Dump**コマンドは、ユーザー モードまたはカーネル モードのクラッシュ ダンプ ファイルを作成します。

```dbgcmd
.dump Options FileName 
.dump /?
```

## <a name="span-idddkmetacreatedumpfiledbgspanspan-idddkmetacreatedumpfiledbgspanparameters"></a><span id="ddk_meta_create_dump_file_dbg"></span><span id="DDK_META_CREATE_DUMP_FILE_DBG"></span>パラメーター


<span id="_______Options______"></span><span id="_______options______"></span><span id="_______OPTIONS______"></span> *オプション*   
1 つ以上の次のオプションを表します

<span id="_o"></span><span id="_O"></span>**/o**  
同じ名前の既存のダンプ ファイルを上書きします。 このオプションを使用しない、同じファイル名を持つファイルがある場合は、ダンプ ファイルは書き込まれません。

<span id="_f_FullOptions_"></span><span id="_f_fulloptions_"></span><span id="_F_FULLOPTIONS_"></span>**/f\[**<em>FullOptions</em>**\]**  
(カーネル モード:)作成、[完全メモリ ダンプ](complete-memory-dump.md)します。

(ユーザー モード:)作成、*フル ユーザー モード ダンプ*します。 詳細については、次を参照してください。[さまざまなユーザー モード ダンプ ファイルの](user-mode-dump-files.md#varieties)します。 最大のミニダンプ ファイルには名前に関係なくフル ユーザー モード ダンプより多くの情報には実際が含まれています。 たとえば、 **.dump/mf**または **.dump/ma**よりも大きいとより完全なファイルを作成します。 **.dump/f**します。 ユーザー モードで **.dump** **/m\[**<em>MiniOptions</em> **\]** ことをお勧めは常に**します。/f をダンプ**します。

次を追加する*FullOptions*はダンプ ファイルの内容を変更するオプションは大文字小文字を区別します。

|||
|--- |--- |
|FullOption|効果|
|y|AVX 登録情報をダンプ ファイルに追加します。|
 

<span id="_m_MiniOptions_"></span><span id="_m_minioptions_"></span><span id="_M_MINIOPTIONS_"></span>**/m\[**<em>MiniOptions</em>**\]**  
作成、*小さいメモリ ダンプ*(カーネル モード) では、または*ミニダンプ*(ユーザー モード) で詳細については、次を参照してください。[ユーザー モード ダンプ ファイル](user-mode-dump-files.md)。 どちらの場合 **/f**も **/m**が指定されている **/m**既定値です。

ユーザー モードで **/m**の追加後に*MiniOptions*ダンプに含まれる追加のデータを指定します。 ない場合は*MiniOptions*に含まれる、ダンプは、モジュール、スレッド、およびスタックの情報が追加のデータがありません。 次のいずれかを追加することができます*MiniOptions*はダンプ ファイルの内容を変更する、小文字が区別されます。

|MiniOption|効果|
|--- |--- |
|a|すべての追加のオプションでは、ミニダンプを作成します。 /Ma オプションは/mfFhut に相当--ミニダンプに完全なメモリのデータ、ハンドルのデータ、アンロードされたモジュールは、基本的なメモリについては、およびスレッド時間の情報を追加します。 このメモリの読み取りが失敗した場合、ミニダンプ世代の終了になります。|
|A|/MA オプションは、このメモリの読み取りが失敗した場合は無視され、引き続き、ミニダンプを生成できる点を除いて/ma と同じです。|
|f|ミニダンプには、完全なメモリのデータを追加します。 ターゲット アプリケーションによって所有されているすべてのアクセス可能なコミットされたページにが含まれます。|
|F|ミニダンプには、すべてのメモリの基本的な情報を追加します。 ミニダンプは、すべての基本的なメモリ情報、有効なメモリについてだけでなく情報を含むストリームに追加します。 これにより、デバッガーは、ミニダンプをデバッグするときに、プロセスの完全な仮想メモリ レイアウトを再構築できます。|
|h|ミニダンプにターゲット アプリケーションに関連付けられたハンドルに関するデータを追加します。|
|u|ミニダンプにアンロードされたモジュールの情報を追加します。 これは、Windows Server 2003 および Windows の以降のバージョンでのみ使用できます。|
|t|ミニダンプには、追加のスレッドの情報を追加します。 これを使用して表示できる、スレッド時間が含まれます、! ランナウェイ拡張機能または .ttime (スレッドの表示時間) コマンド、ミニダンプをデバッグするときにします。|
|アイコン|ミニダンプには、2 次メモリを追加します。 セカンダリのメモリはスタックまたはバッキング ストア、およびこのアドレスを囲む小さな領域上のポインターによって参照される任意のメモリです。|
|p|ミニダンプには、プロセスの環境ブロック (PEB) とスレッド環境ブロックの終了のデータを追加します。 これは、アプリケーションのプロセスとスレッドに関する Windows システム情報にアクセスする必要がある場合に役立ちます。 ことができます。|
|W|ミニダンプには、すべてのコミットされた読み取り/書き込みプライベート ページを追加します。|
|d|ミニダンプには、実行可能イメージ内のすべての読み取り/書き込みデータ セグメントを追加します。|
|c|イメージ内のコード セクションを追加します。|
|r|スタック トレースを再作成に適していないスタックとストアのメモリ部分、ミニダンプから削除します。 ローカル変数とその他のデータ型の値がも削除されます。 このオプションは行いませんミニダンプより小さい (メモリのセクションではこれらは単にゼロになります) ため、他のアプリケーションのプライバシーを保護する場合に便利ですが。|
|R|ミニダンプからモジュールの完全なパスを削除します。 モジュール名のみが含まれます。 これは、ユーザーのディレクトリ構造のプライバシーを保護する場合に便利なオプションです。|
|y|AVX 登録情報をダンプ ファイルに追加します。|

 

### <a name="span-idadditionalinformationspanspan-idadditionalinformationspanspan-idadditionalinformationspanadditional-information"></a><span id="Additional_Information"></span><span id="additional_information"></span><span id="ADDITIONAL_INFORMATION"></span>追加情報

カーネル モードのダンプ ファイルの説明とその使用の詳細については、次を参照してください。[カーネル モードのダンプ ファイル](kernel-mode-dump-files.md)します。 ユーザー モード ダンプ ファイルの説明とその使用の詳細については、次を参照してください。[ユーザー モード ダンプ ファイル](user-mode-dump-files.md)します。

## <a name="remarks"></a>注釈
-------

このコマンドは、さまざまな状況で使用できます。

-   ライブ ユーザー モードのデバッグ中にこのコマンドを使用するダンプ ファイルを生成する対象のアプリケーションが対象のアプリケーションを終了しません。

-   ライブ カーネル モードのデバッグ、中には、このコマンドを使用するダンプ ファイルを生成する対象のコンピュータが、ターゲット コンピューターがクラッシュしません。

-   クラッシュ ダンプのデバッグ中には、このコマンドは、古いものから新しいクラッシュ ダンプ ファイルを作成します。 これは、大規模なクラッシュ ダンプ ファイルがあり、小規模なものを作成する場合に便利です。

生成されるダンプ ファイルの種類を制御できます。

- 生成するために、カーネル モードで、[完全メモリ ダンプ](complete-memory-dump.md)を使用して、 **/f**オプション。 生成するために、[小さいメモリ ダンプ](small-memory-dump.md)を使用して、 **/m**オプション (またはオプションはありません)。 .Dump コマンドが生成することはできません、[カーネル メモリ ダンプ](kernel-memory-dump.md)します。

- ユーザー モードで **.dump** **/m\[**<em>MiniOptions</em> **\]** をお勧めします。 これを使用して、ダンプ ファイルが作成されたが、"m"の略「ミニダンプ」、 *MiniOption*非常に大規模なから非常に小さいサイズを変更できます。 適切なを指定することによって*MiniOptions*正確にどのような情報が含まれるかを制御できます。 たとえば、 **.dump/ma**大量の情報をダンプを生成します。 以前のコマンドでは、 **.dump/f**、比較的大規模な「ダンプの標準的な」ファイルを生成およびカスタマイズすることはできません。

プロセスのダンプを指定することはできません。 すべての実行中のプロセスがダンプされます。

**/Xc**、 **/xr**、 **/xp**、および **/xt**例外およびコンテキスト情報ダンプ ファイルに格納するオプションを使用します。 これにより、 [ **.ecxr (例外コンテキスト レコードの表示)** ](-ecxr--display-exception-context-record-.md)このダンプ ファイルを実行するコマンド。

次の例では、メモリやハンドルの完全な情報を含む、ユーザー モードのミニダンプを作成します。

```dbgcmd
0:000> .dump /mfh myfile.dmp 
```

使用してハンドルの情報を読み取ることができます、 [ **! 処理**](-handle.md)拡張機能コマンド。

 

 





