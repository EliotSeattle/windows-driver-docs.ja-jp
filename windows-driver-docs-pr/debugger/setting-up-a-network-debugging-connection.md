---
title: KDNET のネットワーク カーネル デバッグを手動での設定
description: デバッグ ツールの Windows カーネルがネットワーク経由でデバッグをサポートします。
ms.assetid: B4A79B2E-D4B1-42CA-9121-DEC923C76927
keywords:
- ネットワークのデバッグ
- イーサネットのデバッグ
- ドッキング ステーション
- カーネル モードのネットワーク ケーブル経由でのデバッグを手動での設定
ms.date: 12/07/2018
ms.localizationpriority: medium
ms.openlocfilehash: 79081114edf4e475df2fcf353851bfa12642a005
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/31/2019
ms.locfileid: "56529245"
---
# <a name="setting-up-kdnet-network-kernel-debugging-manually"></a>KDNET のネットワーク カーネル デバッグを手動での設定

デバッグ ツールの Windows カーネルがネットワーク経由でデバッグをサポートします。 このトピックでは、手動でのデバッグを設定する方法について説明します。

> [!IMPORTANT]
> デバッグを手動でネットワークの設定は、複雑で、エラーが発生しやすいプロセスです。
> デバッグが自動的にネットワークを設定するを参照してください。[設定を KDNET ネットワーク カーネル デバッグを自動的に](setting-up-a-network-debugging-connection-automatically.md)します。 KDNET ユーティリティを使用して**強く**デバッガーのすべてのユーザーをお勧めします。

デバッガーを実行しているコンピューターが呼び出されます、*ホスト コンピューター*、デバッグ中のコンピューターを呼び出すと、*対象のコンピュータ*します。 7 以降、ホスト コンピューターで Windows が実行する必要があり、8 またはそれ以降、ターゲット コンピューターで Windows が実行する必要があります。

ネットワーク経由でのデバッグには、その他の種類の接続経由でのデバッグと比較して次の利点があります。

- ホストおよびターゲット コンピューターは、ローカル ネットワークに任意の場所に配置できます。
- 1 つのホスト コンピューターから多数のターゲット コンピューターのデバッグが容易になります。
- 2 台のコンピューターを指定するには、可能性は両方があることのイーサネット アダプターです。 両方がシリアル ポートに、1394 ポートがある両方に低い可能性があります。
- ネットワークのデバッグは、シリアル ポートをデバッグするよりもはるかに高速です。

## <a name="supported-network-adapters"></a>サポートされているネットワーク アダプター

ホスト コンピューターは、任意のネットワーク アダプターを使用できますが、ターゲット コンピューターが Windows のツールをデバッグでサポートされているネットワーク アダプターを使用する必要があります。 サポートされているネットワーク アダプターの一覧は、[イーサネット Nic を Windows 10 でのネットワーク カーネル デバッグのサポートされている](supported-ethernet-nics-for-network-kernel-debugging-in-windows-10.md)と[イーサネット Nic を Windows 8.1 でのネットワーク カーネル デバッグのサポートされている](supported-ethernet-nics-for-network-kernel-debugging-in-windows-8-1.md)を参照してください。

## <a name="install-the-debugging-tools-for-windows"></a>Windows 用デバッグ ツールをインストールします。

ホスト システムで、デバッグ ツールの Windows がインストールされていることを確認します。 ダウンロードして、デバッガー ツールのインストールについては、[デバッグ ツールの Windows にダウンロード](debugger-download-tools.md)を参照してください。

## <a name="determining-the-ip-address-of-the-host-computer"></a>ホスト コンピューターの IP アドレスを決定します。

次の手順のいずれかを使用して、ホスト コンピューターの IP アドレスを決定します。

1. ホスト コンピューターでは、コマンド プロンプト ウィンドウを開き、次のコマンドを入力します。

   ```console
   ipconfig
   ```

    デバッグに使用するネットワーク アダプターの IPv4 アドレスをメモしておきます。

2. ターゲット コンピューターでコマンド プロンプト ウィンドウを開き、次のコマンドを入力します、 *YourIPAddress*はホスト コンピューターの IP アドレスです。

   ```console
   ping -4 <YourIPAddress>
   ```

## <a name="choosing-a-port-for-network-debugging"></a>ネットワーク デバッグ用にポートを選択します。

ホストとターゲットの両方のコンピューターでデバッグするために使用されるポート番号を選択します。 49152 ~ 65535 から任意の数を選択することができます、推奨される範囲は 50000 50039 です。 選択したポートを排他アクセスのホスト コンピューターで実行されているデバッガーでは開けません。 ホスト コンピューター上で実行される他のアプリケーションで使用されていないポート番号を選択するように注意します。

**注**  ネットワーク デバッグに使用できるポート番号の範囲は、会社のネットワーク ポリシーによって制限される可能性があります。 制限とは何か、ホスト コンピューターから区別する方法はありません。 会社のポリシーがネットワークのデバッグに使用できるポートの範囲を制限するかどうかを判断するには、ネットワーク管理者に確認します。

1 つのホスト コンピューターに複数のターゲット コンピューターを接続する場合、各接続は、一意のポート番号が必要です。 たとえば、100 台の対象コンピューターを 1 つのホスト コンピューターに接続する場合ポート 50000 を最初の接続に割り当てる、ポート 50001 に 2 番目の接続、ポート 50002 を 3 番目の接続にできにできます。

**注**  別のホスト コンピューターが同じ範囲のポート (50000 50099 経由) を使用して別の 100 のターゲット コンピューターに接続します。

## <a name="setting-up-the-target-computer"></a>ターゲット コンピューターをセットアップします。

1. ターゲット コンピューターに、サポートされているネットワーク アダプターがあることを確認します。 詳細については次のトピックを参照してください。

    - [Windows 8.1 でのデバッグ ネットワーク カーネルのイーサネット Nic をサポート](supported-ethernet-nics-for-network-kernel-debugging-in-windows-8-1.md)

    - [Windows 10 でのデバッグ ネットワーク カーネルのイーサネット Nic をサポート](supported-ethernet-nics-for-network-kernel-debugging-in-windows-10.md)

2. ネットワーク ハブにサポートされているアダプターを接続するか、適切なネットワーク ケーブルを使用してを切り替えます。

> [!IMPORTANT]
> BCDEdit を使用してブート情報を変更する前に、テスト用のコンピューターの BitLocker とセキュア ブートなどの Windows セキュリティ機能を一時的に中断する必要があります。
> テストが完了すると、これらのセキュリティ機能を再度有効にし、適切なセキュリティ機能を無効にするテスト PC を管理します。

3. 管理者特権でコマンド プロンプト ウィンドウで、次のコマンドを入力します。 場所*w.x.y.z* 、ホスト コンピューターの IP アドレスと*n*に任意のポート番号は。

    ```console
    bcdedit /debug on

    bcdedit /dbgsettings net hostip:w.x.y.z port:n
    ```

4. **bcdedit**自動的に生成されたキーが表示されます。 キーをコピーし、USB フラッシュ ドライブなどのリムーバブル記憶装置に格納します。 ホスト コンピューターでデバッグ セッションを開始すると、キーが必要です。

    **注**  自動的に生成されたキーを使用することを強くお勧めします。 ただし、"作成 Your Own Key"セクションで後述するように、独自のキーを作成できます。

5. 対象のコンピューターでは、複数のネットワーク アダプターがある場合は、デバイス マネージャーを使用して、PCI バス、デバイス、およびデバッグに使用するアダプターの関数の番号を確認します。 管理者特権でコマンド プロンプト ウィンドウで、次のコマンドを入力、 *b*、 *d*と*f*はバス番号、デバイスの数、およびアダプターの関数の数。

    ```console
    bcdedit /set "{dbgsettings}" busparams b.d.f
    ```

6. カーネル デバッガーがアタッチされた後に対象のコンピューターが再起動されます。 これについては、次のセクションで説明します。

**注**  ターゲット コンピューターに HYPER-V の役割をインストールする場合を参照してください。[ネットワーク デバッグのセットアップ、バーチャル マシン ホストの](setting-up-network-debugging-of-a-virtual-machine-host.md)します。

**注意**  ドッキング ステーションでは、ターゲット コンピューターがネットワーク デバッグ ドッキング ステーションの一部であるネットワーク アダプターを有効になっている必要がある場合では、ドッキング ステーションからコンピューターは削除しないでください。 ドッキング ステーションから対象のコンピュータを削除する必要がある場合は、カーネルの最初のデバッグを無効にします。 ターゲット コンピューター上のカーネル デバッグを無効にするには、管理者としてコマンド プロンプト ウィンドウを開きし、コマンドを入力します**オフ bcdedit/debug**します。 ターゲット コンピューターを再起動します。

## <a name="starting-the-debugging-session"></a>デバッグ セッションの開始

いることを確認、ネットワーク ハブまたはスイッチの適切なネットワーク ケーブルを使用するには、ホスト コンピューターのネットワーク アダプター。

ホスト コンピューターでは、WinDbg を開きます。 **ファイル**] メニューの [選択**カーネル デバッグ**します。 カーネル デバッグ ダイアログ ボックスで、開く、 **Net**タブ。実際のポート番号とキーを入力します。 **[OK]** をクリックします。

コマンド プロンプト ウィンドウを開き、次のコマンドを入力して、WinDbg でセッションを開始することもできます、 *n*ポート番号と*MyKey* によって自動的に生成されたキー**bcdedit**ターゲット コンピューターを設定するとします。

```console
windbg -k net:port=<n>,key=<MyKey>
```

WinDbg のポートにアクセスを許可するポートをファイアウォール経由でアクセスするための WinDbg に関する求められたら、 **3 つすべて**の異なるネットワークの種類。

### <a name="using-kd"></a>KD を使用します。

ホスト コンピューターでは、コマンド プロンプト ウィンドウを開きます。 次のコマンドを入力して、 *n*ポート番号と*MyKey*によって自動的に生成されたキーは、 **bcdedit**ターゲット コンピューターを設定すると。

```console
kd -k net:port=<n>,key=<MyKey>
```

WinDbg のポートにアクセスを許可するポートをファイアウォール経由でアクセスするための WinDbg に関する求められたら、 **3 つすべて**の異なるネットワークの種類。

## <a name="restarting-the-target-pc"></a>対象の PC を再起動します。

デバッガーが接続されていると、接続を待機しているターゲット コンピューターを再起動します。 管理者のコマンド プロンプトから、このコマンドを使用することは、PC を再起動する方法の 1 つです。

   ```console
   shutdown -r -t 0
   ```

ターゲットが再起動されると、ホスト OS でデバッガーが接続する必要があります。

ホスト上のターゲットに接続したら、ヒットの中断すると、デバッガーはデバッグを開始できます。

### <a name="allowing-the-debugger-through-the-firewall"></a>デバッガー、ファイアウォールを通過を許可します。

最初のネットワーク デバッグ接続を確立しようとは、デバッグ アプリケーション (WinDbg または KD) に、ファイアウォール経由のアクセスを許可するように求め可能性があります。 Windows のクライアント バージョンは、プロンプトを表示しますが、Windows のサーバー バージョンはプロンプトを表示できません。 チェック ボックスをオンにして、プロンプトに応答する必要があります**3 つすべて**ネットワークの種類: ドメイン、プライベート、および公開します。 プロンプトが表示されない場合、または、プロンプトが使用可能なときに、ボックスを確認しなかった場合は、コントロール パネルを使用して、ファイアウォール経由のアクセスを許可する必要があります。 開いている**コントロール パネルの [&gt;システムとセキュリティ**] をクリック**アプリを Windows ファイアウォールを通過できます**します。 アプリケーションの一覧では、Windows GUI のシンボリック デバッガーと Windows カーネル デバッガーを見つけます。 これら 2 つのアプリケーション、ファイアウォールを通過を許可するのにチェック ボックスを使用します。 デバッグ (WinDbg または KD) アプリケーションを再起動します。

## <a name="encryption-key"></a>暗号化キー

対象のコンピュータを保護するため、ホストとターゲットのコンピューター間で移動するパケットを暗号化する必要があります。 自動的に生成された暗号化キーを使用することを強くお勧め (によって提供される**bcdedit**対象のコンピュータを構成する場合)。 ネットワーク デバッグの使用ベース 36、ピリオドで区切られた 4 つの 64 ビット値として指定されている、256 ビット キー。 64 ビットの各値は 13 文字を使用して指定します。 有効な文字は文字 a ~ z および 0 ~ 9 の数字です。 特殊文字は使用できません。

独自のキーを指定するには、ターゲット コンピューターで管理者特権のコマンド プロンプト ウィンドウを開きます。 次のコマンドを入力します場所 *: w.x.y.z*は、ホスト コンピューターの IP アドレスですと*n*ポート番号、および*キー*キーします。

```console
bcdedit /dbgsettings net hostip:w.x.y.z port:n key:Key
```

対象のコンピュータは、dbgsettings が変更されたときにいつでも再起動する必要があります。

## <a name="troubleshooting-tips"></a>トラブルシューティングのヒント

### <a name="debugging-application-must-be-allowed-through-firewall"></a>アプリケーションのデバッグを許可するファイアウォールを通過する必要があります。

最初のネットワーク デバッグ接続を確立しようとは、デバッグ アプリケーション (WinDbg または KD) に、ファイアウォール経由のアクセスを許可するように求め可能性があります。 Windows のクライアント バージョンは、プロンプトを表示しますが、Windows のサーバー バージョンはプロンプトを表示できません。 チェック ボックスをオンにして、プロンプトに応答する必要があります**3 つすべて**ネットワークの種類: ドメイン、プライベート、および公開します。 プロンプトが表示されない場合、または、プロンプトが使用可能なときに、ボックスを確認しなかった場合は、コントロール パネルを使用して、ファイアウォール経由のアクセスを許可する必要があります。 開いている**コントロール パネルの [&gt;システムとセキュリティ**] をクリック**アプリを Windows ファイアウォールを通過できます**します。 アプリケーションの一覧で探します*Windows GUI のシンボリック デバッガー*と*Windows カーネル デバッガー*します。 これら 2 つのアプリケーション、ファイアウォールを通過を許可するのにチェック ボックスを使用します。 下へスクロールし、をクリックして**OK**は、ファイアウォールの変更を保存します。 デバッガーを再起動します。

### <a name="port-number-must-be-in-range-allowed-by-network-policy"></a>ポート番号は、ネットワーク ポリシーで許可されている範囲内で指定する必要があります。

ネットワークのデバッグに使用できるポート番号の範囲は、会社のネットワーク ポリシーによって制限される可能性があります。 会社のポリシーがネットワークのデバッグに使用できるポートの範囲を制限するかどうかを判断するには、ネットワーク管理者に確認してください。 対象のコンピューターに管理者としてコマンド プロンプト ウィンドウを開き、コマンドを入力して**bcdedit/dbgsettings**します。 出力は次のようになります。

```console
C:\> bcdedit /dbgsettings
key                     XXXXXX.XXXXX.XXXXX.XXXXX
debugtype               NET
hostip                  169.168.1.1
port                    50085
dhcp                    Yes
The operation completed successfully.
```

上記の出力では、ポートの値は、50085 です。 ポートの値は、ネットワーク管理者によって許可されている範囲外にあるを場合、次のコマンドを入力します場所*w.x.y.z* 、ホスト コンピューターの IP アドレスと*YourDebugPort*でポート番号です。許容範囲です。

```console
bcdedit /dbgsettings net hostip:w.x.y.z port:YourDebugPort
```

ターゲット マシンのデバッガーの設定を変更した後、新しいポート設定で、ホスト マシン上のデバッガーを再実行し、ターゲット コンピューターを再起動します。

### <a name="use-ping-to-test-connectivity"></a>Ping を使用して、接続をテストするには

デバッガーが接続できない場合は、ターゲット PC に ping コマンドを使用して、接続を確認します。

   ```console
   C:\>Ping <HostComputerIPAddress>
   ```

これが機能しないこと、ホスト コンピューターが ping の要求がファイアウォールによってブロックがこのため、するができないとすべての応答、ホストに ping を実行するために、ネットワーク上で検出できるように構成されていない場合に注意してください。


### <a name="how-the-debugger-obtains-an-ip-address-for-the-target-computer"></a>デバッガーがターゲット コンピューターの IP アドレスを取得する方法

KDNET、ターゲット コンピューターでは、動的ホスト構成プロトコル (DHCP) を使用して、デバッグに使用されているネットワーク アダプターのルーティング可能な IP アドレスを取得しようとします。 KDNET では、DHCP によって割り当てられたアドレスを取得した場合、ターゲット コンピューターは、ネットワーク上の任意の場所にあるホスト コンピューターでデバッグできます。 DHCP によって割り当てられたアドレスを取得する KDNET に失敗した場合、リンク ローカル IP アドレスを取得する自動プライベート IP アドレス指定 (APIPA) を使用します。 リンク ローカル IP アドレスは、ルーティング可能ではないため、ホストとターゲットは、ルーター経由で通信するローカル リンクの IP アドレスを使用できません。 その場合は、ネットワークのデバッグは機能と同じネットワーク ハブまたはスイッチ、ホストとターゲット コンピューターに接続する場合。

### <a name="always-specify-busparams-when-setting-up-kdnet-on-a-physical-machine-with-a-pci-based-nic"></a>NIC に基づく PCI と物理マシンを設定する KDNET busparams を常に指定します。

物理コンピューターで、PCI KDNET を設定する、または PCIe ベースの NIC、KDNET を使用する NIC について、busparams を常に指定する必要があります。 デバイス マネージャーを開き、バスのパラメーターを指定し、デバッグに使用するネットワーク アダプターを探します。 ネットワーク アダプターのプロパティ ページを開き、バス番号、デバイスの数、および関数の数をメモしておきます。 管理者特権でコマンド プロンプト ウィンドウで、次のコマンドを入力します。 ここ*b*、 *d*、および*f* bus、デバイス、および関数の数値を 10 進数形式では。

```console
bcdedit /set "{dbgsettings}" busparams b.d.f
```

ときに、デバッガーは、ホスト マシンで実行されていると、このコマンドを使用して接続し、対象のコンピュータの再起動を待機しています。

```console
shutdown -r -t 0
```

## <a name="manually-delete-bcdedit-entries"></a>BCDEdit のエントリを手動で削除します。

手動で削除していますが、通常必要はありませんはここに特殊な状況のトラブルシューティング手順として。

Kdnet ユーティリティを使用する場合、エントリを手動で削除する必要はありません。 詳細については、[設定を KDNET ネットワーク カーネル デバッグを自動的に](setting-up-a-network-debugging-connection-automatically.md)を参照してください。

Bcdedit – deletevalue を使用する場合は、有効な bcd 要素名を指定する必要があります。 詳細については、[BCDEdit/deletevalue](https://docs.microsoft.com/windows-hardware/drivers/devtest/bcdedit--deletevalue)を参照してください。

BCDEdit のエントリを手動で削除するには、次の手順を完了します。

1. ターゲット コンピューターで、管理者としてコマンド プロンプト ウィンドウを開きます。

2. たとえば、BCDEdit のデバッグ ホストの IP アドレスのエントリを削除するには、このコマンドを入力します。

    ```console
    bcdedit -deletevalue {dbgsettings} hostip
    ```

終点アドレスを削除するときに指定する必要があります。*ターゲット =* デバッガーのコマンド ラインでします。

3. 別の例としては、このコマンドを使用してポートのエントリを削除します。

    ```console
    bcdedit -deletevalue {dbgsettings} port
    ```

ポートのエントリを削除すると、KDNET は 5364 既定 ICANN は登録されているデバッガーのポートを使用します。

## <a name="hyper-v"></a>Hyper-V

### <a name="setting-up-hyper-v"></a>HYPER-V の設定

ターゲット コンピューターに HYPER-V の役割をインストールする場合を参照してください。[ネットワーク デバッグのセットアップ、バーチャル マシン ホストの](setting-up-network-debugging-of-a-virtual-machine-host.md)します。

Hyper-v の hyper-v 仮想マシン (VM) をデバッグする方法の詳細については、[ネットワーク デバッグのセットアップの仮想マシン - KDNET](setting-up-network-debugging-of-a-virtual-machine-host.md)を参照してください。

### <a name="enabling-kdnet-on-a-hyper-v-host-that-is-running-vms-with-external-network-connectivity"></a>外部ネットワーク接続を備えた Vm を実行している hyper-v ホストで KDNET の有効化

珍しくありません、特定の状況がある動作を停止する vm ネットワークが発生します。

- PC 上で HYPER-V が有効になって、外部のネットワーク スイッチが作成され、マシンでは、物理 NIC で指し示されます、ネットワークの外部スイッチを使用するように構成されている Vm。

- KDNET が hyper-v ホストの外部のネットワーク スイッチに設定されている同じ物理 NIC を使用して OS で有効にし、ホストを再起動します。

- すべての構成済みの外部スイッチを使用していた Vm には、再起動後に、ネットワーク接続が失われます。

これは仕様はであり、NIC が OS によって読み込まれていない KDNET は排他的制御を使用するように構成は、NIC とネイティブの NDIS ミニポートを受け取るために発生します。  これが発生して外部ネットワーク スイッチ、ネイティブの NDIS ミニポート ドライバーと通信できるできなくは機能しなくなります。  このような状況を回避するには、次の操作を行います。

1.  開いている、HYPER-V マネージャーでは、仮想スイッチ マネージャー選択、既存の仮想スイッチと外部ネットワークの NIC を変更、 *Microsoft カーネル デバッグ ネットワーク アダプター*ドロップダウン ボックスから選択しで ok をクリックし、仮想スイッチ マネージャー ダイアログ ボックス。

2.  更新、仮想スイッチの NIC、シャット ダウンして再起動した後の Vm。

KDNET デバッグがオフの場合と同じ手順がネイティブの NDIS ミニポートに外部スイッチ、nic への再接続するため必要があります。  それ以外の場合のデバッグが無効にした後、コンピューターが再起動されたときに、VM の接続は失われます。


## <a name="span-idipv6spanspan-idipv6spanspan-idipv6spanipv6"></a><span id="IPV6"></span><span id="ipv6"></span><span id="IPv6"></span>IPv6

IPv6 のサポートは 1809 のバージョンの Windows で追加されました。

使用するには、と、デバッガーでの IPv6 は、この手順を完了します。

1. Ping、 \<debughostname\>し出力行からの応答が報告、IPv6 アドレスをメモします。X: y:z:p:d:q:r:n 以下の代わりにこの IPv6 アドレスを使用します。

2. Dbgsettings 内の既存の ip アドレス値を削除するのにには、BCDEdit を使用します。

    ```console
    bcdedit -deletevalue {dbgsettings} hostip
    ```

3. ホストの IPv6 アドレスを設定します。 スペースは表示できないする必要があります、`hostipv6=s:t:u:v:w:x:y:z`文字列。 <YourPort> このターゲット マシンに使用するネットワーク ポート番号は、 \<YourKey\>は 4 つの部分のセキュリティ キーと\<b.d.f\> KDNET を使用する NIC は、bus デバイス関数の場所の番号。

    ```console
    bcdedit /dbgsettings net hostipv6:s:t:u:v:w:x:y:z port:<YourPort> key:<YourKey> busparams:<b.d.f>
    ```

4. Dbgsettings が正しく設定されていることを確認するには、このコマンドを入力します。

    ```console
    C:\> bcdedit /dbgsettings
    busparams               0.25.0
    key                     2steg4fzbj2sz.23418vzkd4ko3.1g34ou07z4pev.1sp3yo9yz874p
    debugtype               NET
    hostipv6                  2001:db8:0:0:ff00:0:42:8329
    port                    50010
    dhcp                    Yes
    The operation completed successfully.
    ```

5. ホスト コンピューターでこのコマンドを使用して、デバッガーを起動します。 

    ```console
    Windbg -k net:port=<yournetworkportnumber>,key=<key_output_from_kdnet>,target=::<YourIPv6Address> 
    ```

6. ときに、デバッガーは、ホスト マシンで実行されていると、接続、ターゲット コンピューターの再起動を待機しています。 

7. デバッガーは、起動中に早期ホスト デバッガーに接続する必要があります。 KDNET が接続されているメッセージで報告される IP アドレスが IPv4 アドレスではなく IPv6 アドレスになりますが、IPv6 接続を使用していることがわかります。 

**ノート**

- Bcd 設定により、終点アドレスを指定するすべてのデバッガーには、対応する hostipv6 要素があります。  3 つがあります。  

    IPv4 | IPv6 | 使用方法
    |-----------|-----------|-----------|
    hostip | hostipv6 | ブートとカーネル デバッグ
    targethostip | targethostipv6  | 特定のカーネル デバッグ  
    hypervisorhostip | hypervisorhostipv6  | Hyper v のデバッグ

- これらの種類のデバッグのいずれかの hostipv6 スタイルのアドレスを設定する場合は、IPv6 を取得して、意味します。

- これらの種類のデバッグのいずれかの終点アドレス スタイルのアドレスを設定する場合は、IPv4 を取得して、意味します。

- IPv4 または IPv6 の場合、同時に両方ではなく、ターゲットは実行のみ。 使用する IP プロトコルのバージョンは、ターゲット マシンの dbgsettings によって制御されます。  終点アドレスが設定されている場合、ターゲットは IPv4 を使用します。  Hostipv6 が設定されている場合、ターゲットは IPv6 を使用します。

- ホストのデバッガーが IPv4 または IPv6 の使用を選択します自動的に通常。 既定では、デバッガーは、IPv4 ソケットと、IPv6 ソケットの両方でリッスンし、ターゲット コンピューターにいずれかに自動的に接続します。

- ホストで、デバッガーでの IPv6 の使用を強制する、ターゲットからの接続をリッスンするようにデバッガーをする場合、追加できますが、`target=::`デバッガー コマンドラインにします。 : 0 の IPv6 アドレスします。

- かどうかは、IPv4 がホストで、デバッガーでデバッグを強制するがデバッガーで、ターゲットからの接続をリッスンするように追加できますが、`target=0.0.0.0`デバッガー コマンドラインにします。 0.0.0.0 は、0 の IPv4 アドレスです。

- 指定した場合、ターゲット = デバッガーのコマンド ラインでコンピュータ名を使用し、デバッガーは、IPv4 アドレスと IPv6 アドレスをそのコンピューター名に変換し両方の接続を試行します。

- 対象に指定した場合、デバッガーのコマンド ラインで = IP アドレスを使用して、IP アドレスには、いずれかが含まれている場合を含むいずれか: 文字、デバッガーには、接続に IPv6 の使用を強制し、IPv6 アドレスが想定していますが。  場合は、IP アドレスには、いずれかが含まれます。 文字、デバッガーは、接続に IPv4 の使用を強制し、IPv4 アドレスと仮定します。

- ターゲットで IPv6 をセットアップしてデバッガーのコマンド ラインで IPv4 の使用を強制して場合、接続が得られません。

- ターゲット上の IPv4 のセットアップし、デバッガーのコマンド ラインで、IPv6 の使用を強制すると場合、したがも得られません接続。




## <a name="related-topics"></a>関連トピック

[デバッグが自動的に KDNET ネットワーク カーネルの設定](setting-up-a-network-debugging-connection-automatically.md)

[Windows 10 でのデバッグ ネットワーク カーネルのイーサネット Nic をサポート](supported-ethernet-nics-for-network-kernel-debugging-in-windows-10.md)

[Windows 8.1 でのデバッグ ネットワーク カーネルのイーサネット Nic をサポート](supported-ethernet-nics-for-network-kernel-debugging-in-windows-8-1.md)
