---
title: ブレークポイントを設定するときに含まれるリスク
description: ブレークポイントを設定するときに含まれるリスク
ms.assetid: 92c1007b-f871-48e9-a215-4d36ed1371ea
keywords:
- ブレークポイント、リスク
ms.date: 05/23/2017
ms.localizationpriority: medium
ms.openlocfilehash: 566bca02caa9e5fa55b5657b057696a14e5838a3
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/31/2019
ms.locfileid: "56537460"
---
# <a name="risks-entailed-when-setting-breakpoints"></a>ブレークポイントを設定するときに含まれるリスク


設定している場合、[ブレークポイント](using-breakpoints.md)メモリ アドレスまたは記号とオフセットを指定するとの命令の途中には、このブレークポイントを配置する必要がありますされません。

たとえば、次の逆アセンブルしたコードを検討してください。

```dbgcmd
770000f1 5e               pop     esi
770000f2 5b               pop     ebx
770000f3 c9               leave
770000f4 c21000           ret     0x10
770000f7 837ddc00         cmp     dword ptr [ebp-0x24],0x0
```

最初の 3 つの手順については、1 バイトだけです。 ただし、4 番目の命令は、次の 3 つのバイト長です。 (バイト 0x770000F4、0x770000F5、および 0x770000F6 掲載しています。)使用して、この命令にブレークポイントを設定するかどうか、 **bp**、 **bu**、または**ba**コマンド、0x770000F4 アドレスを指定する必要があります。

使用して、0x770000F5 アドレス ブレークポイントを挿入するかどうか、 **ba**コマンドをプロセッサがその場所にブレークポイントを配置します。 ただし、このブレークポイントはトリガーされません、プロセッサが 0x770000F4 命令のアドレスは、実際と見なすので。

使用して、0x770000F5 アドレス ブレークポイントを挿入するかどうか、 **bp**または**bu**コマンド、その場所にブレークポイントが書き込まれます。 ただし、このブレークポイントには、デバッガーはブレークポイントを作成する方法のため、ターゲットが破損している可能性があります。

1.  デバッガーでは、0x770000F5 の内容を保存し、ブレークポイントの命令でこのメモリを上書きします。

2.  デバッガーでこのメモリを表示しようとする場合、デバッガーは、記述するブレークポイントの命令は表示されません。 代わりに、デバッガーは、「必要」のメモリを示します。 つまり、デバッガーには、元のメモリまたはそのメモリをブレークポイントの挿入後に変更が表示されます。

3.  使用する場合、 **BC**ブレークポイントを削除するコマンドで、デバッガーは、適切な位置に元のメモリを復元します。

0x770000F5 でブレークポイントを挿入して、デバッガーは、このバイトを保存します。 ここでは break 命令が書き込まれます。 ただし、アプリケーションを実行すると、0x770000F4 アドレスに到達し、マルチバイトの命令の最初のバイトとしてこのアドレスを認識します。 プロセッサでは、1 つの命令をまとめて 0x770000F4、0x770000F5、およびいくつか後のバイト可能性がありますが試行されます。 この組み合わせは、さまざまな要件を満たしているいずれの動作を作成できます。

そのためを使用してブレークポイントを配置すると、 **bp**、 **bu**、または**ba**コマンドで、適切なアドレスでは常に、ブレークポイントを配置することを確認します。 ブレークポイントを追加する WinDbg のグラフィカル インターフェイスを使用する場合は、する正しいアドレスが自動的に選択したため、このような状況について考慮する必要はありません。

 

 





