---
title: 旅行時間 - デバッグの概要
description: このセクションでは、タイム トラベルのデバッグについて説明します。
ms.date: 09/18/2017
ms.localizationpriority: medium
ms.openlocfilehash: 7e9579fb344716e6ad06b0f75a7e805885a70db3
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/31/2019
ms.locfileid: "56532578"
---
![クロックが表示された短い時間旅行ロゴ](images/ttd-time-travel-debugging-logo.png) 

# <a name="time-travel-debugging---overview"></a>旅行時間 - デバッグの概要


## <a name="what-is-time-travel-debugging"></a>タイム トラベルのデバッグとは

タイム トラベルのデバッグ ツールを実行しているプロセスの実行を記録することができますですし、後で両方 forwards と backwards 再生します。 タイム トラベルのデバッグ (TTD) を使用することができるため、バグが見つかるまで、問題を再現するのではなく、デバッガー セッションを「巻き戻す」問題を簡単をデバッグできます。 
 
TTD を使用すると、過去にさかのぼって問題を解決する最善の方法については、バグにつながるし、複数回再生される条件を理解することができます。 

TTD 利点クラッシュ ダンプ ファイルは、多くの場合、最終的な障害原因となったコードの実行がないことができます。  

理解できない問題を自分で、イベントには、トレースを同僚と共有でき、正確にする目的で見ることができます。 記録された手順は同じですが、アドレス場所とコードが実行を別の Pc に異なる場合が、ライブ デバッグより簡単にコラボレーションのためこれを許可できます。 共同作業者を支援する、特定のポイントを共有することも開始する場所を検討します。 

TTD は効率的し、はできるだけ少なくオーバーヘッドが加わるようにコードが実行されるトレース ファイルにキャプチャするため。  

TTD には、LINQ を使用してトレースをクエリできるようにデバッガーのデータ モデル オブジェクトのセットが含まれています。 たとえば、TTD オブジェクトを使用して、固有のコード モジュールが読み込まれたときにすべての例外を見つけたりすることができます。 

![コマンドと cdog アプリを移動する時間を示す WinDbg プレビューの例のスクリーン ショット](images/ttd-windbgx-screen-shot-example-cdog-app.png)

##  <a name="comparison-of-debugging-tools"></a>デバッグ ツールの比較

このテーブルは、長所と短所の使用可能なさまざまなデバッグ ソリューションをまとめたものです。


|          アプローチ           |                                                      長所                                                       |                                                                                                               短所                                                                                                                |
|-----------------------------|-----------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|       ライブ デバッグ        |   対話型のエクスペリエンスは、実行フローが表示されます、対象の状態、使い慣れたツールで使い慣れた設定を変更することができます。   | ユーザー エクスペリエンスの中断、繰り返しの問題を再現する労力が必要です、セキュリティ、実稼働システムでオプションでは常にではありませんに影響を与える可能性があります。  で再現コードの原因を特定する障害発生時点から処理が難しくなっています。 |
|            ダンプ            |                            コーディングは費用が不要、低の割り込みの動作では、トリガーに基づいています。                             |                                                          連続したスナップショットまたはライブ ダンプは、単純な"time"でビューを提供します。 オーバーヘッドが 0 では基本的には使用しない場合は。                                                           |
|      製品利用統計情報、ログ       |            軽量では多くの場合、ビジネス シナリオに関連付けられたユーザーの操作、機械学習のわかりやすい/。             |                                                         (テレメトリなし) で予期しないコード パスで問題が発生します。 コードに静的にコンパイルされたデータの深さの欠如。                                                         |
| タイム トラベルのデバッグ (TTD) | 複雑なバグに優れた、コーディングの費用が不要、オフライン反復可能なデバッグ、分析、表示をキャプチャしないすべてのものです。 |                                                                 レコードの時に大きなオーバーヘッドです。 必要な多くのデータを収集する場合があります。 データ ファイルが大きくなることができます。                                                                 |

## <a name="ttd-availability"></a>TTD 可用性 

TTD は WinDbg プレビュー アプリをストアからインストール後に Windows 10 で使用できます。  WinDbg プレビューでの最新のビジュアル、windows の高速化、本格的なスクリプトの操作性と WinDbg の新しいバージョンであり、拡張可能なデバッガーのデータ モデルのサポートに組み込まれています。 ストアから WinDbg プレビューのダウンロードの詳細については、次を参照してください。 [WinDbg を使用してプレビューのデバッグ](debugging-using-windbg-preview.md)します。


## <a name="trace-file-basics"></a>トレース ファイルの基本 

### <a name="trace-file-size"></a>トレース ファイルのサイズ

大きなトレース ファイルを取得でき、TTD のユーザーが使用可能な十分な空き領域があることを確認する必要があります。 でも、数分間、プログラムを記録する場合、トレース ファイルはすぐに数ギガバイトに大ききます。 TTD では、複雑なシナリオの実行時間が長いためにトレース ファイルの最大サイズは設定されません。 問題を迅速に再作成と、トレース ファイルのサイズが限り保持されます。

### <a name="trace-and-index-files"></a>トレースとインデックスのファイル

トレース (します。実行) ファイルには、記録中に、コードの実行が格納されます。 

記録が停止、インデックス (します。トレース情報にすばやくアクセスできるようにするには、IDX) ファイルが作成されます。 WinDbg のプレビューがトレース ファイルを開いたときに、インデックス ファイルが自動的に作成もされます。

インデックス ファイルは、大規模なトレース ファイル通常 2 倍のサイズにもできます。  

トレース ファイルを使用してインデックス ファイルを再作成することができます、! tt.index コマンド。

```dbgcmd
0:000> !tt.index
Successfully created the index in 10ms.
```

記録のエラーとその他の記録の出力は、WinDbg のログ ファイルに書き込まれます。

すべての出力ファイルは、ユーザーが構成されている場所に格納されます。 既定の場所では、ユーザーのドキュメント フォルダーです。 たとえば、User1 の TTD ファイルがここに保存。

```console
C:\Users\User1\Documents
```

トレース ファイルを操作する方法の詳細については、次を参照してください。[タイム トラベルのデバッグ - トレース ファイルの操作](time-travel-debugging-trace-file-information.md)します。

## <a name="getting-started-with-ttd"></a>TTD の概要

記録およびトレース ファイルの再生も情報とトレース ファイルの使用およびトラブルシューティングのこれらのトピックを確認します。

- [タイム トラベル デバッグ - トレースの記録](time-travel-debugging-record.md)
- [タイム トラベル デバッグ - トレースの再生](time-travel-debugging-replay.md)
- [タイム トラベル デバッグ - トレース ファイルの使用](time-travel-debugging-trace-file-information.md)
- [タイム トラベル デバッグ - トラブルシューティング](time-travel-debugging-troubleshooting.md)
- [旅行のデバッグ時間 - サンプル アプリのチュートリアル](time-travel-debugging-walkthrough.md)

これらのトピックでは、タイム トラベルのデバッグでの他の高度な機能について説明します。 

- [タイム トラベル デバッグ - オブジェクトのタイム トラベルのデバッグの概要](time-travel-debugging-object-model.md)
- [旅行時間 - JavaScript のオートメーションのデバッグ](time-travel-debugging-javascript-automation.md)


## <a name="things-to-look-out-for"></a>注意すべきこと 

### <a name="anti-virus-incompatibilities"></a>ウイルス対策の非互換性 

TTD を記録するプロセスにフックする方法のための非互換性が発生する可能性があります。 通常、ウイルス対策ソフトウェアまたはその他のシステム ソフトウェアを追跡し、システム メモリの呼び出しをシャドウしようとすると問題が生じます。 記録の問題に遭遇した場合、十分なアクセス許可メッセージしようとするなど、ウイルス対策ソフトウェアを一時的に無効にします。  

他のユーティリティのメモリ アクセスをブロックしようとしています。、問題があることができますなど、Microsoft Enhanced 軽減策エクスペリエンス ツールキット。 EMET の詳細については、次を参照してください。 [、強化された軽減策エクスペリエンス Toolkit](https://support.microsoft.com/help/2458544/the-enhanced-mitigation-experience-toolkit)します。

TTD と競合している環境の別の例は、電子アプリケーション フレームワークになります。 ここでは、トレースを記録可能性がありますが、デッドロックや記録されているプロセスのクラッシュも可能です。

### <a name="user-mode-only"></a>ユーザー モードでのみ

カーネル モードのプロセスをトレースすることはできませんので、TTD は現在のユーザー モード操作のみをサポートします。 

### <a name="read-only-playback"></a>読み取り専用の再生

時間、出張ことができますが、履歴を変更することはできません。 読み取りのメモリのコマンドを使用できますが、変更、またはメモリに書き込むコマンドを使用することはできません。

### <a name="system-protected-processes"></a>システム保護プロセス

いくつかの Windows システム保護プロセス、保護されているプロセスのライト (PPL) プロセスが保護されているなど、TTD は自体をコードの実行の記録のために保護されているプロセスを挿入できないようにします。

### <a name="trace-file-errors"></a>トレース ファイルのエラー

トレース ファイルのエラーが発生することがいくつかのケースがあります。 詳細については、次を参照してください。[デバッグ - トラブルシューティング、タイム トラベル](time-travel-debugging-troubleshooting.md)します。


## <a name="advanced-features-of-time-travel-debugging"></a>デバッグ時の高度な機能の移動

最も注目に値する TTD 拡張機能の一部を次に示します。

### <a name="debugger-data-model-support"></a>デバッガーのデータ モデルのサポート

- **データ モデルのサポートで構築された**-TTD にはデータ モデルのサポートが含まれています。 LINQ クエリを使用して、アプリケーションのエラーを分析すると、強力なツールを指定できます。 WinDbg のプレビューで、データ モデルのウィンドウを使用すると、NatVis、JavaScript、および LINQ クエリを使用してテーブルを作成することができます 'dx' と 'dx-g' の展開で参照可能なバージョンでは機能します。 

デバッガーのデータ モデルについては、次を参照してください。 [WinDbg Preview - データ モデル](windbg-data-model-preview.md)します。 TTD デバッガー オブジェクト モデルを操作する方法については、次を参照してください。[タイム トラベルのデバッグ - オブジェクトのタイム トラベルのデバッグの概要](time-travel-debugging-object-model.md)します。

### <a name="scripting-support"></a>スクリプトのサポート  

- **Automation スクリプト**-問題の調査の自動化スクリプトの NatVis、JavaScript をサポートできます。 詳細については、次を参照してください。[タイム トラベルのデバッグ - JavaScript Automation](time-travel-debugging-javascript-automation.md)します。

JavaScript および NatVis の使用に関する概要については、次を参照してください。 [WinDbg Preview - Scripting](windbg-scripting-preview.md)します。


## <a name="span-idprovidingfeedbackspanproviding-feedback"></a><span id="providingfeedback"></span>フィードバックの送信

お客様のフィードバックは今後の開発の優先順位を旅行ガイド時間に役立ちます。 

- 実際に表示する機能や処理の難しいバグなどのフィードバックがあれば、フィードバック Hub を使用します。

![新しいフィードバックの追加 ボタンを含むフィードバックのオプションを示すフィードバック ハブのスクリーン ショット](images/windbgx-feedback.png)


## <a name="ttd-latest-news"></a>TTD 最新ニュース

最新ニュース、ヒント、およびデバッガーの開発チームでのテクニック、デバッガー ツール チームのブログを参照してください。
[https://blogs.msdn.microsoft.com/windbg/](https://blogs.msdn.microsoft.com/windbg/)


--- 





