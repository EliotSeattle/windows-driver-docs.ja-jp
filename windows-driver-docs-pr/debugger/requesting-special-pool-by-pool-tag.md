---
title: プール タグによる特別なプールの要求
description: プール タグによる特別なプールの要求
ms.assetid: 201eb8a5-b38b-4625-853d-448488214e52
ms.date: 11/28/2017
ms.localizationpriority: medium
ms.openlocfilehash: d5316f3a78ad947bd65f779cfaa3c503507e80d7
ms.sourcegitcommit: 4bc550183bc403aee37e7aef2c38fecda1815bff
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/08/2019
ms.locfileid: "72038078"
---
# <a name="requesting-special-pool-by-pool-tag"></a>プール タグによる特別なプールの要求

## <span id="ddk_requesting_special_pool_for_allocations_with_a_specified_pool_tag_"></span><span id="DDK_REQUESTING_SPECIAL_POOL_FOR_ALLOCATIONS_WITH_A_SPECIFIED_POOL_TAG_"></span>

指定されたプールタグを使用するすべての割り当てに対して、特別なプールを要求できます。 システム上のプールタグは、一度に1つのカーネル専用プール要求に関連付けることができます。

Windows Vista 以降のバージョンの Windows では、コマンドラインを使用してプールタグによって特別なプールを要求することもできます。 詳細については、「 [**GFlags コマンド**](gflags-commands.md)」を参照してください。

**プールタグによって特別なプールを要求するには**

1. **[システムレジストリ]** タブまたは **[カーネルフラグ]** タブを選択します。

   Windows Vista 以降のバージョンの Windows では、このオプションは両方のタブで使用できます。 以前のバージョンの Windows では、 **[システムレジストリ]** タブでのみ使用できます。

2. **[カーネル特殊プールタグ]** セクションで、 **[テキスト]** をクリックし、タグに4文字のパターンを入力します。

   タグには、を含めることができ**ます。** (1 文字) と **\*** (複数文字) のワイルドカード文字。 たとえば、Fat\* または Av? 4 のようになります。

3. 次のスクリーンショットでは、[システムレジストリ] タブにテキストとして入力したタグが示されています。

   ![システムレジストリタブでテキストとして入力されたタグのスクリーンショット](images/gflags-specialpool-text.png)

4. **[適用]** をクリックします。

   **[適用]** をクリックすると、選択内容が**テキスト**から**16**進数に変更され、ASCII 文字が逆 (下位エンディアン) の順序で16進値として表示されます。 たとえば、「 **Tag1**」と入力すると、このタグは**0x31676154** (1gaT) として表示されます。 これは、レジストリに格納され、デバッガーやその他のツールによって表示される方法です。

   次の図は、 **[適用]** をクリックした場合の効果を示しています。

   ![[適用] をクリックした場合の効果を示すスクリーンショット](images/gflags-specialpool-hex.png)

### <a name="span-idcommentsspanspan-idcommentsspanremarks"></a><span id="comments"></span><span id="COMMENTS"></span>」

この機能を効果的に使用するには、ドライバーまたはその他のカーネルモードプログラムで一意のプールタグが使用されていることを確認してください。 ドライバーが特別なプールのすべてを消費していると思われる場合は、コードで複数のプールタグを使用することを検討してください。 次に、ドライバーを複数回テストし、各テストで1つのプールタグに特別なプールを割り当てることができます。

また、システムのページサイズよりも大きい16進数の値を持つプールタグを選択します。 カーネルモードコードの場合、ページ\_サイズ未満の値を持つプールタグを入力すると、そのサイズが対応する範囲内にあるすべての割り当ての特別なプールが Gflags によって要求され、同等のプールタグを持つ割り当てに対して特別なプールが要求されます。 たとえば、サイズを**30**に設定した場合、17 ~ 32 バイトのサイズのすべての割り当てと、プールタグ0x0030 を使用した割り当てに対して特別なプールが使用されます。
