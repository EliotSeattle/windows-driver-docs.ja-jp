---
title: 最適な方法の選択
description: 最適な方法の選択
ms.assetid: d6069c8c-1da1-4930-b75d-efcee9691e6b
ms.date: 11/28/2017
ms.localizationpriority: medium
ms.openlocfilehash: 435491675ec8952ff6652c7a7bd2a07226740517
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/31/2019
ms.locfileid: "56556525"
---
# <a name="choosing-the-best-method"></a>最適な方法の選択


サービス アプリケーションをデバッグするいくつかのさまざまな方法はあります。 適切な方法を選択するには 2 つの選択肢を最初に作成する必要があります: 時刻、どのようなデバッグの構成を使用して、サービス アプリケーションにデバッガーがアタッチされています。

デバッガーがサービス アプリケーションにアタッチする 3 つの段階があります。

-   サービスのスタートアップの先頭。 サービスの開始時に、デバッガーが自動的に起動します。 サービスの初期化コードをデバッグする場合は、このオプションを選択します。

-   最初に、サービスが例外を検出します。 例外またはクラッシュが発生した場合、またはサービス アプリケーションから呼び出す場合、デバッガーが自動的に起動、 **DebugBreak**関数。 デバッガーは、問題が発生したときに、期間の開始時刻を表示する場合は、このオプションを選択します。

-   サービスの後は正常に実行します。 手動で、任意の時点で既に実行されているサービスに、デバッガーをアタッチできます。 デバッグ用の事前準備を行うしたくない場合は、このオプションを選択します。

選択できる 3 つのデバッグ構成があります。

-   ローカル デバッグします。 サービスと同じコンピューターで実行されている 1 つのデバッガーです。

-   リモート デバッグ。 2 番目のコンピューターで実行されているデバッグ クライアントから制御されている、サービスと同じコンピューターで実行されているデバッグ サーバー。

-   カーネル制御のユーザー モードのデバッグ。 2 番目のコンピューター上のカーネル デバッガーから制御されている、サービスと同じコンピューターで実行されているユーザー モード デバッガー。

場合は、サービスは、Windows 2000、Windows XP、または Windows Server 2003 で実行されているが、組み合わせることができますこれらの 3 つでは、これら 3 つのデバッグ構成オプションのいずれかのオプションをアタッチします。

サービスが Windows Vista または Windows の以降のバージョンで実行している場合は、これらの選択肢を組み合わせる方法の 1 つの制限。 サービスのスタートアップの先頭から、または例外が発生した時点からデバッグする場合は、リモート デバッグまたはカーネル制御のユーザー モードのデバッグのいずれかを使用する必要があります。

つまり、Windows Vista 以降では、サービスが既に実行されていた後デバッガーを手動でアタッチする予定がない限り、ローカル デバッグを使用できません。 この制限の結果からこれらのバージョンの Windows でのサービスは、セッション 0 で実行しが自動的に起動し、サービスに接続されているデバッガーも、セッション 0 であり、サービスがあるコンピューター上のユーザー インターフェイスはありません。実行されています。

 

 





