---
title: 自動的にサービス アプリケーションのデバッグ
description: 自動的にサービス アプリケーションのデバッグ
ms.assetid: 3168b5c1-30fa-4ff5-b871-736dcdeb8f31
ms.date: 11/28/2017
ms.localizationpriority: medium
ms.openlocfilehash: a2155fbf040a18ec4e7036ffd8ff8793918aecc9
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/31/2019
ms.locfileid: "56537093"
---
# <a name="debugging-the-service-application-automatically"></a>自動的にサービス アプリケーションのデバッグ


デバッガーは、サービス アプリケーションの起動時に自動的に起動できます。 または、起動に自動的にサービス アプリケーションで例外が発生したか、実行時に、 **DebugBreak**コマンド。 これらのメソッドのいずれかを選択した場合は、続行する方法を説明します。 どの方法を選択する場合を参照してください。[最適な方法を選択する](choosing-the-best-method.md)します。

次の手順を使用します。

1.  次のような準備手順のいずれかの操作を行います。
    -   初期化コードを含む、先頭からのサービス アプリケーションをデバッグする場合は、初期化コードのデバッグを有効にする」に記載の手順に従います。 また、サービス アプリケーションがクラッシュまたは例外が発生したときに、デバッガーを中断する場合は、デバッガーを中断するサービス アプリケーションを有効にする」に記載の手順に従います。
    -   サービス アプリケーションが正常に実行するデバッガーを許可することを保証するで説明されている手順を実行[サービス アプリケーションのタイムアウトを調整する](preparing-to-debug-the-service-application.md#adjusting-the-service-application-timeout)します。
    -   サービスが 1 つの SvcHost プロセスでは、他のサービスと組み合わされている場合は、サービスの分離で説明する手順を実行します。

2.  サービスが既に実行されている場合は、これらの変更を有効にすることを再起動する必要があります。 実行中のサービスのすべての効果を削除するには、Windows を再起動することをお勧めします。 Windows を再起動しない場合は、次のコマンドを使用している*ServiceName*サービスの名前を指定します。

    ```console
    net stop ServiceName 
    net start ServiceName 
    ```

3.  サービスの開始時に、サービス アプリケーションの初期化コードをデバッグすることを選択した場合、デバッガーは起動され、サービス アプリケーションにアタッチします。

    例外が発生したかを実行するまで、サービス アプリケーションが通常実行して、デバッガーが例外によってトリガーされるようにすることを選択した場合、 **DebugBreak**関数。 この時点では、デバッガーは起動され、サービス アプリケーションにアタッチします。

4.  次の手順は、手順 1 で指定したデバッガー コマンドラインによって異なります。
    -   リモート処理オプションを指定せず、デバッガーを指定した場合は、このデバッガーは起動され、そのウィンドウが表示されるようになります。
    -   NTSD が指定されている場合は、サーバーと - noio オプションを使用してコンソール ウィンドウがない NTSD を起動します。 接続できますのデバッグ セッションに別のコンピューターからユーザー モードを開始してデバッガーのリモート パラメーターを使用します。 手順については、[**デバッグ クライアントをアクティブ化する**](activating-a-debugging-client.md)を参照してください。
    -   NTSD-d オプションを使用して、指定した場合は、コンソール ウィンドウがない NTSD が起動されます。 別のコンピューターで実行されているカーネル デバッガーを使用して、デバッグ セッションに接続できます。 手順については、[カーネル デバッガーからユーザー モード デバッガーの制御](controlling-the-user-mode-debugger-from-the-kernel-debugger.md)を参照してください。
    -   NTSD - ddefer およびサーバー オプションを指定した場合は、コンソール ウィンドウがない NTSD が起動されます。 カーネル デバッガーと、サービスとは別のコンピューター (しかし互いと同じコンピューター) で実行されている、ユーザー モード リモート デバッガーの両方を使用して、デバッグ セッションに接続できます。 手順については、[リモート デバッグをこのメソッドを組み合わせて](combining-this-method-with-remote-debugging.md)を参照してください。

5.  デバッガーの起動時、最初のプロセスのブレークポイント、例外で、サービスの一時停止、または**DebugBreak**コマンド。 これにより、サービス アプリケーションの現在の状態を確認、ブレークポイントの設定、および必要な構成を選択することができます。

6.  使用[ **g (移動)** ](g--go-.md)または別の実行コマンドが、サービス アプリケーションの実行を再開します。

## <a name="span-idrelatedtopicsspanrelated-topics"></a><span id="related_topics"></span>関連トピック


[DebugBreak 関数](https://go.microsoft.com/fwlink/p/?linkid=124229)

 

 






