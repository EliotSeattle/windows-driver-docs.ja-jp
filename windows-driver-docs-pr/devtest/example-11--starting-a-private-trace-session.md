---
title: 例 11 プライベート トレース セッションを開始
description: 例 11 プライベート トレース セッションを開始
ms.assetid: e1826811-cb1c-400f-a3e1-aaa6ae83ef42
keywords:
- WDK、プライベートのセッションをトレースします。
- WDK のプライベート トレース セッション
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 3915b51b215cb87742de5928065d1bf02e28aad4
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/31/2019
ms.locfileid: "56548733"
---
# <a name="example-11-starting-a-private-trace-session"></a>例 11:プライベートのトレース セッションを開始します。


## <span id="ddk_starting_a_private_trace_session_tools"></span><span id="DDK_STARTING_A_PRIVATE_TRACE_SESSION_TOOLS"></span>


次のコマンドは、トレースがインストルメント化するためのユーザー モード アプリケーションの秘密のトレース セッションを開始します。

```
tracelog -start MyTrace -guid MyProvider.guid -um
```

同じパラメーターを使用して、プライベート トレース セッションのトレースをリアルタイムに実行することはできませんが、標準のトレース セッションを使用するプライベート トレース セッションをカスタマイズすることができます。

**ヒープ メモリのプロセスのロガー。** 次のコマンドでは、プロセスのヒープ メモリ イベントをトレースするプライベート セッションを開始します。 トレースのインストルメント化されていないものも含めて任意のユーザー モード プロセスに対して動作します。

この機能は、Windows に組み込まれているプロバイダーを使用しているために、このコマンドは、(プロセス ID を使用)、トレースしている、されません (を使用してプロバイダー GUID) が、トレース メッセージを生成しているプロセスを指定.

このコマンドを使用して、 **-um**プライベート (ユーザー モード) を指定するパラメーターはトレース セッションと **-ヒープ**ヒープ メモリのトレースを指定するパラメーター。 使用して、 **- pid**パラメーターを追跡するプロセスのプロセス ID を指定します。 ここで、コマンドに ID を持つ 1 つのプロセス**7008**します。

このコマンドも省略可能な使用 **-f**トレース ログ ファイルを指定するパラメーター。 **-F**パラメーターを指定を深めていただくため、トレース セッションをカスタマイズするほとんどの他のトレース ログ パラメーターを使用することができます。

```
tracelog -start MyTrace -um -heap -pids 1 7008 -f testtrace.etl
```

**クリティカル セクション プロセス ロガー。** 次のコマンドは、クリティカル セクションのロガーを開始、プライベート セッションをプロセスにクリティカル セクションのイベントをトレースします。 このコマンドは、トレースのインストルメント化されていないものも含めて、ユーザー モード プロセスが使用できるように、Windows に含まれる (CritsecGUID、GUID によって識別される) プロバイダーを使用します。

使用するコマンドの構文が、ヒープ メモリ プロセス ロガーと同じですが、 **- critsec**パラメーターの代わりに、 **-ヒープ**パラメーター。

この例では、コマンドは、2 つの関連するプロセスでクリティカル セクションのプロセスのロガーを開始します。 値では、そのため、  *\#Pid*変数は**2**、両方のプロセス Id と**4806**と**5164**一覧表示されます。

```
tracelog -start MyTrace -um -critsec -pids 2 4806 5164 -f testtrace.etl
```

 

 





