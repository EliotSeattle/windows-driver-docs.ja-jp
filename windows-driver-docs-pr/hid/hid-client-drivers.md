---
title: HID クライアント ドライバー
description: デバイスのポートまたはバス システム提供の HID ミニドライバーはサポートしていない場合は、ベンダー提供のミニドライバーが必要です。
ms.assetid: E7C57273-B661-4B82-816E-E1466DAF67EA
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 76170465bc521d8ed3da1b44467847d01b0586fa
ms.sourcegitcommit: 0cc5051945559a242d941a6f2799d161d8eba2a7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/23/2019
ms.locfileid: "63388868"
---
# <a name="hid-client-drivers"></a>HID クライアント ドライバー


デバイスのポートまたはバス システム提供の HID ミニドライバーはサポートしていない場合は、ベンダー提供のミニドライバーが必要です。




次の図は、(省略可能で、必要なベンダーから提供されたコンポーネントを使用する場合があります) する汎用 HIDClass デバイスのドライバー スタックを示しています。

![ジェネリック hidclass デバイスのドライバー スタックを示す図](images/zzhgdrs.png)

Windows では、次のようにドライバー スタックを作成します。

-   トランスポート スタックは、接続されている各 HID デバイスの物理デバイス オブジェクト (PDO) を作成し、順番 HID クラス ドライバーが読み込まれます、適切なトランスポートの HID ドライバーを読み込みます。
-   HID クラス ドライバーは、TLC の PDO を作成します。 複数 TLC で複雑なデバイスの場合は、HID クラス ドライバーは各 TLC の PDO を作成し、確実に、TLC に関連付けられている、ハードウェア ID が、各デバイス オブジェクトを表す識別子を含めます。
-   ベンダーから提供された関数またはフィルター ドライバーは、FDO または HID コレクションのフィルターは作成します。
-   または、ベンダーから提供されたアプリケーションは SetupDI を使用してデバイスを開くことも\*デバイスを識別する Api と、HID デバイスと通信するためのルーチンをサポートします。 このようなデバイスは、RAW モードで開かれると言います。

場合、システムが提供[ミニドライバー操作](minidriver-operations.md)デバイスをサポートしていない、ベンダーから提供されたの HID ミニドライバーが必要です。 このミニドライバーは、2 つの方法で実装できます。

-   HID のクライアント ドライバー
-   HID アプリケーションに直接アクセスします。

仕入先 (ミニドライバー) 以外のドライバーを提供する場合は、ドライバー。

-   Windows ドライバーの最小要件に準拠する必要があります。 理想的には、これはユーザー モード ドライバー フレームワーク (UMDF) またはカーネル モード ドライバー フレームワーク (KMDF) に基づく必要があります。 あまり理想的なソリューションは、Windows Driver Model」の説明に従って、WDM 関数ドライバーを作成します。
-   ベンダ定義のデバイスでサポート インターフェイス--デバイス インターフェイスのクラスを参照してください。 上位レベルのドライバーやユーザー モード アプリケーションは、カスタム インターフェイスを使用して、仕入先のドライバーが動作するデバイスにアクセスします。 カスタム インターフェイスが機能を追加したり、おそらく、HID クラス ドライバーへのインターフェイスを簡素化します。

ドライバーが、関数のドライバーまたはフィルター ドライバーではない場合は、HID コレクションを検索するプラグ アンド プレイの通知を使用できます。 コレクションを検索した後は、ドライバーは、コレクションが表示され、関数またはフィルター ドライバーと同じ方法で動作すること。

重要な注意事項:

-   ファイルの FsContext フィールドが使用する必要があります、FDO または HID コレクションのフィルター操作を関数のベンダーから提供されたドライバーを作成した場合\_ファイル オブジェクトに固有のデータを格納するオブジェクト。 FsContext フィールドは、HID クラス ドライバー用に予約されています。 スタック内の別のドライバー ファイル オブジェクト固有のコンテキスト データを格納する場合、代わりに、FsContext2 フィールドを使用してください。
-   PDO に接続された複数のデバイスがある場合、FsContext2 フィールドを使用するデバイスを判断する組み込みのメカニズムはありません。

 

 




