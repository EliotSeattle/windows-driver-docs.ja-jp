---
title: ミニポート ドライバー
description: ミニポート ドライバー
ms.assetid: d0b8f143-2966-4338-9d2f-96e7e9216b3a
keywords:
- ミニポート ドライバー WDK ネットワー キング、アーキテクチャ
- NDIS ミニポート ドライバー WDK、アーキテクチャ
- コネクションレス ドライバー WDK ネットワーク
ms.date: 11/26/2018
ms.localizationpriority: medium
ms.openlocfilehash: b215f5c34c376d90b9dbd3ae969e97a87ffdc192
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/31/2019
ms.locfileid: "56578287"
---
# <a name="miniport-drivers"></a>ミニポート ドライバー

*NDIS ミニポート ドライバー*は 2 つの基本的な関数があります。

-   NIC を使用してデータを送受信することを含むネットワーク インターフェイス カード (NIC) を管理します。

-   フィルター ドライバー、中間のドライバーやプロトコル ドライバーなどのより高度なドライバーとやり取りします。

ミニポート ドライバーは、その Nic を持つと、NDIS ライブラリを介したより高度なドライバーと通信します。 NDIS ライブラリ関数の完全なセットをエクスポートします (**NdisM * Xxx*** およびその他の**Ndis * Xxx*** 関数) をカプセル化するすべてのオペレーティング システム関数、ミニポート ドライバーを呼び出す必要があります。 ミニポート ドライバーはさらに、エントリ ポイントのセットをエクスポートする必要があります (*MiniportXxx*関数) その NDIS が独自の目的で、またはより高度なドライバー、ミニポート ドライバーにアクセスする代わりに呼び出します。

> [!NOTE]
> NDIS ドライバー スタックと 4 つすべての NDIS ドライバーの種類間のリレーションシップを示す図の詳細については、次を参照してください。 [NDIS ドライバー スタック](ndis-driver-stack.md)します。

次の送信し、受信操作のミニポート ドライバーの NDIS とより高度なドライバーの操作を説明します。

- トランスポート ドライバーがパケットを送信する場合は、呼び出し、 **Ndis * Xxx*** NDIS ライブラリによってエクスポートされた関数。 NDIS し、パケットを渡しますミニポート ドライバーを呼び出して、適切な*MiniportXxx*ミニポート ドライバーによってエクスポートされた関数。 ミニポート ドライバー、パケットを転送、伝送用の NIC を呼び出して、適切な**Ndis * Xxx*** 関数。

- NIC は、自分自身に送信されたパケットを受信するときに、NDIS または NIC のミニポート ドライバーによって処理されるハードウェア割り込みを投稿できます。 NDIS を呼び出して、適切な NIC のミニポート ドライバーに通知*MiniportXxx*関数。 ミニポート ドライバーを選択し、NIC からのデータの転送を設定し、適切なを呼び出すことによって高度なドライバーをバインドする受信パケットのプレゼンスを示す**Ndis * Xxx*** 関数。

## <a name="connectionless-and-connection-oriented-miniport-drivers"></a>コネクションレスで、接続指向のミニポート ドライバー

NDIS は、コネクションレス型環境と接続指向の環境の両方のミニポート ドライバーをサポートします。

*コネクションレスのミニポート ドライバー*イーサネットなどのコネクションレス ネットワーク用の Nic を制御します。 コネクションレスのミニポート ドライバーは、さらに、逆シリアル化とシリアル化されたドライバーに分かれています。

**注**  すべて NDIS 6.0 とそれ以降のドライバーが逆シリアル化します。 

-   *ドライバーを逆シリアル化*独自の操作をシリアル化*MiniportXxx*関数およびを内部でキューのすべての着信パケットを送信します。 これは、結果、ドライバーの重要なセクション (一度に 1 つのスレッドのみを実行できるコード) は、小規模で保持されますが、全二重のパフォーマンスが大幅に向上します。

-   *ドライバーをシリアル化*への呼び出しをシリアル化する NDIS 依存、 *MiniportXxx*関数と、その送信キューを管理します。

*接続指向のミニポート ドライバー* ISDN などのネットワークの接続指向のメディアの Nic を制御します。 接続指向のミニポート ドライバーが常に逆シリアル化--、独自の操作を常にシリアル化、 *MiniportXxx*関数とキューを内部的にすべての着信パケットを送信します。

NDIS ミニポート ドライバーは、NDIS 以外の下端を持つことができます (次の図を参照してください)。

![ndis 以外の下端との ndis ミニポート ドライバー](images/nonndslo.png)

その非 NDIS 低い edge を介してミニポート ドライバーは、バスなど、ユニバーサル シリアル バス (USB) バス上のデバイスを制御するためのクラス インターフェイスを使用します。 ミニポート ドライバーでは、バスまたはバスに接続されているリモート デバイスに直接 I/O 要求パケット (Irp) を送信することによって、デバイスと通信します。 上端には、ミニポート ドライバーは、標準 NDIS ミニポート ドライバー インターフェイスで、重なって NDIS ドライバーとの通信に、ミニポート ドライバーを公開します。

## <a name="related-topics"></a>関連トピック

[NDIS ミニポート ドライバー](ndis-miniport-drivers.md)

[NDIS ミニポート ドライバー リファレンス](https://msdn.microsoft.com/library/windows/hardware/ff565969)