---
title: OID 要求用の Hyper-V 拡張可能スイッチ制御パス
description: OID 要求用の Hyper-V 拡張可能スイッチ制御パス
ms.assetid: 69ABBD54-F794-4A0A-8F50-915CA1EDD95C
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 82630bfc03c5292b7ec3369d52608c463635bd27
ms.sourcegitcommit: 4b7a6ac7c68e6ad6f27da5d1dc4deabd5d34b748
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/24/2019
ms.locfileid: "72823919"
---
# <a name="hyper-v-extensible-switch-control-path-for-oid-requests"></a>OID 要求用の Hyper-V 拡張可能スイッチ制御パス


このトピックでは、Hyper-v 拡張スイッチオブジェクト識別子 (OID) 要求が移動するコントロールパスについて説明します。

次の図は、NDIS 6.40 (Windows Server 2012 R2) 以降の OID 要求の拡張可能なスイッチ制御パスを示しています。

![ndis 6.40 の vswitch oid 制御パスの図](images/vswitch-oid-controlpath-ndis640.png)

次の図は、NDIS 6.30 (Windows Server 2012) の OID 要求の拡張可能なスイッチ制御パスを示しています。

![ndis 6.30 の vswitch oid 制御パスの図](images/vswitch-oid-controlpath.png)

**注**  拡張可能なスイッチインターフェイスでは、NDIS フィルタードライバーは拡張*可能なスイッチ拡張機能*と呼ばれ、ドライバースタックは*拡張可能なスイッチドライバースタック*と呼ばれます。

 

フィルター処理や転送拡張機能などの拡張可能なスイッチ拡張機能は、ポートまたはスイッチポリシーに基づいてパケットトラフィックを許可または拒否する役割を担います。 これらの拡張機能でポリシーの決定を適用するには、これらの拡張機能で次の操作を実行できる必要があります。

-   拡張可能なスイッチの新しい構成および更新された構成とそのポート、およびネットワークアダプター接続の状態について、拡張可能なスイッチインターフェイスから必要な情報を受け取ります。

-   スイッチまたはポートポリシーの新規または更新されたプロパティについて、拡張可能スイッチインターフェイスから必要な情報を受け取ります。

-   拡張可能なスイッチインターフェイスに OID 要求を発行して、拡張スイッチ、そのポート、およびネットワークアダプター接続の現在の構成を取得します。

拡張可能スイッチのインターフェイスは、拡張可能なスイッチ OID セット要求を発行することによって、コンポーネントの構成およびポリシーパラメーターの変更について、基になる拡張機能に通知します。 これらの要求は、拡張可能なスイッチのプロトコルエッジによって発行され、これらの変更について基になる拡張機能に通知します。 これらの OID 要求は拡張可能なスイッチドライバースタックを介して、拡張可能スイッチの基になるミニポートエッジに移動します。

拡張可能スイッチのミニポートエッジは、OID 要求を完了する役割を担います。 ただし、一部の拡張スイッチ OID 要求では、通知を拒否するために、基になる拡張機能が OID 要求に失敗する場合があります。 たとえば、拡張可能スイッチのプロトコルエッジが、作成される新しいポートについて拡張機能に通知すると、oid [\_スイッチ\_ポート](https://docs.microsoft.com/windows-hardware/drivers/network/oid-switch-port-create)の oid セット要求が発行され\_作成されます。 基になるフィルター処理または転送拡張機能は、状態が "OID 要求" を完了することによってポートの作成を拒否することがあります。\_データ\_\_受け入れられません。 この手順の詳細については、「 [Hyper-v 拡張可能スイッチの構成の変更に関する OID 要求の受信](receiving-oid-requests-about-hyper-v-extensible-switch-configuration-changes.md)」を参照してください。

**注**  拡張機能によって拡張スイッチの OID 要求が拒否されない場合は、要求が完了したときに状態を監視する必要があります。 拡張機能は、拡張可能なスイッチコントロールパスまたは拡張可能なスイッチインターフェイスで、基になる拡張機能によって OID 要求が拒否されたかどうかを判断するために、この処理を実行します。

 

  **注** [**NdisFRestartFilter**](https://docs.microsoft.com/windows-hardware/drivers/ddi/ndis/nf-ndis-ndisfrestartfilter)を使用したスタックの再起動要求は、拡張可能なスイッチの OID 要求が保留中の間は完了しません。 このため、スタックの再開を待機している拡張機能は、実行中の OID 要求を完了する必要があります。

 

拡張可能なスイッチの OID 要求のほとんどは、拡張可能なスイッチインターフェイスによってのみ発行できます。 ただし、拡張可能なスイッチの OID 要求の一部は拡張機能によって発行され、拡張可能スイッチ、そのポート、およびネットワークアダプター接続の構成に関する情報を取得できます。 詳細については、「 [Hyper-v 拡張可能スイッチの構成のクエリ](querying-the-hyper-v-extensible-switch-configuration.md)」を参照してください。

 

 





