---
title: SR-IOV 物理機能 (PF)
description: SR-IOV 物理機能 (PF)
ms.assetid: 176ABEA4-B6BE-41D6-9171-8E9A537F8CA1
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 376c366a2e198c04a9d08f7f952706b749c94625
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/31/2019
ms.locfileid: "56582590"
---
# <a name="sr-iov-physical-function-pf"></a>SR-IOV 物理機能 (PF)


物理機能 (PF) は、シングル ルート I/O 仮想化 (SR-IOV) インターフェイスをサポートするネットワーク アダプターの PCI Express (PCIe) 関数です。 PF には、PCIe 構成領域で SR-IOV 対応の拡張機能が含まれています。 機能は、構成および仮想化を有効にして、PCIe 仮想機能 (Vf) を公開するなど、ネットワーク アダプターの SR-IOV 機能の管理に使用されます。

PF は、HYPER-V 親パーティションの管理オペレーティング システム内の仮想ネットワーク アダプターとして公開されます。 PF ミニポート ドライバーは、管理オペレーティング システムの PF を管理する NDIS ミニポート ドライバーです。 構成と VFs をサポートするための他のハードウェアおよびソフトウェア リソースと共に、VFs のプロビジョニングは、PF のミニポート ドライバーを通じて実行されます。 PF のミニポート ドライバーでは、従来の NDIS ミニポート ドライバーの機能を使用して、管理オペレーティング システムにネットワーク I/O のリソースへのアクセスを提供します。 PF ドライバーは Vf のアダプターに割り当てられたリソースを管理する方法としても使用されます。

PF は、その PCIe 構成領域で SR-IOV 対応の拡張機能の構造をサポートします。 この構造体は、PCI-SIG で定義されている[シングル ルート I/O 仮想化および共有 1.1](https://go.microsoft.com/fwlink/p/?linkid=221742)仕様。 この構造体には、次のメンバーが含まれています。

<a href="" id="totalvfs"></a>**TotalVFs**  
読み取り専用フィールド、PF. と関連付けることができる VFs の最大数を指定します。

<a href="" id="numvfs"></a>**NumVFs**  
SR-IOV 対応ネットワーク アダプターで使用できる VFs の現在の数を示す読み取り/書き込みフィールド。

<a href="" id="sr-iov-control"></a>**SR-IOV コントロール**  
有効またはネットワーク アダプターの SR-IOV 機能を無効にするさまざまな制御ビットを示す読み取り/書き込みフィールド。 たとえば場合、 **VF 有効**ビットが 1 つに設定、VFs アダプターの PF を関連付けることができます。 このビットが 0 に設定されている場合、VFs は無効になっており、アダプターでは表示されませんが。

PF は、外部の物理ネットワークと通信する管理オペレーティング システムのメカニズムも提供します。 PF は、HYPER-V 拡張可能スイッチのモジュールに接続されているすべての仮想ネットワーク アダプターにネットワーク接続を提供します。 これには、次のデータが含まれます。

-   HYPER-V 親パーティションへのネットワーク接続を提供する仮想ネットワーク アダプター。

-   パーティションを HYPER-V 子へのネットワーク接続を提供する仮想ネットワーク アダプターには、それらに割り当てられている VFs はありません。

PF のミニポート ドライバーが 1 つまたは複数の VFs によって使用されるネットワーク アダプター上のリソースを管理する責任を負います。 このため、すべてのリソースを VF 用に割り当てる前に、管理オペレーティング システムで、PF ミニポート ドライバーが読み込まれます。 VFs に割り当てられたすべてのリソースを解放した後、PF ミニポート ドライバーは停止されます。

 

 





