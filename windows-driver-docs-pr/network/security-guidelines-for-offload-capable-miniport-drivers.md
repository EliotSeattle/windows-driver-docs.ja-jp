---
title: オフロード対応のミニポートドライバーの概要に関するセキュリティガイドライン
description: オフロード対応のミニポートドライバーの概要に関するセキュリティガイドライン
ms.assetid: 178be416-3936-4e17-b055-134897b3e2eb
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 5b88c1cfd7cedcacab1a9e7888fa6f8e96fd51e8
ms.sourcegitcommit: fec48fa5342d9cd4cd5ccc16aaa06e7c3d730112
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/17/2019
ms.locfileid: "69565642"
---
# <a name="security-guidelines-for-offload-capable-miniport-drivers-overview"></a>オフロード対応のミニポートドライバーの概要に関するセキュリティガイドライン

Microsoft TCP/IP トランスポートでは、パフォーマンスを向上させるために、適切な TCP/IP オフロード機能を備えたネットワークインターフェイスカード (NIC) へのタスクまたは接続をオフロードすることができます。 オフロードされた TCP/IP ネットワーク通信タスクは、NIC ハードウェアで処理されます。 ミニポートドライバーは、NIC ハードウェアのさまざまなオフロード機能をオペレーティングシステムに提供し、NIC ハードウェアを切断します。 NIC ハードウェアは、送信および受信の受信パケットについて、送信および受信のディスパッチハンドラーで、提供されたオフロードタスクを実行します。 ハードウェアは、IP ヘッダーチェックサムの計算などの操作を実行します。

セキュリティで保護された環境を確保するために、ミニポートドライバーは、NIC ハードウェアが提供できるオフロード機能と他の機能を提供しないようにする必要があります。 ミニポートドライバーは、提供された条件を満たすパケットで、提供されたタスクをオフロードするようにハードウェアを構成する必要があります。 送信パスでは、オペレーティングシステムは、ミニポートドライバーがアドバタイズしていないタスクをオフロードするためにドライバーを必要としません。 受信パスでは、ミニポートドライバーと NIC は、ミニポートドライバーによって提供された NIC ハードウェアの機能に含まれていないタスクを実行しないようにする必要があります。

ミニポートドライバーまたは NIC が、受信したパケットに対してオフロードタスクを実行できない場合、ミニポートドライバーは、何らかの操作を行わずに、ドライバースタック上のパケットを示す必要があります。 この場合、後続のドライバーはパケットを通常のパケットとして処理します。

ミニポートドライバーは、NIC ハードウェアがサポートしていない機能を提供しないようにする必要があります。 ミニポートドライバーは、送信または受信のディスパッチハンドラーを使用して、ハードウェアが提供できないオフロード操作のソフトウェアエミュレーションを実行しないようにする必要があります。 ミニポートドライバーがこのようなソフトウェアエミュレーションを提供する場合、ドライバーはソフトウェア内のパケットデータを検査する必要があります。 ドライバーがソフトウェアのパケットデータを検査すると、コンピューターがセキュリティ攻撃にさらされる可能性があります。

次のトピックでは、セキュリティ攻撃の詳細と、NDIS ドライバーでのセキュリティの問題を回避する方法について説明します。

[NDIS ドライバーにおけるセキュリティ攻撃に対する脆弱性](vulnerability-to-security-attacks-in-ndis-drivers.md)

[NDIS ドライバーにおけるパフォーマンスの低下とサービス拒否攻撃](performance-degradation-and-denial-of-service-attacks-in-ndis-drivers.md)

[脆弱な NDIS ドライバーをテストするためのコストを追加しました](added-costs-for-testing-vulnerable-ndis-drivers.md)

[NDIS ドライバーのセキュリティチェックリスト](security-checklist-for-ndis-drivers.md)