---
title: VMQ 受信フィルター
description: VMQ 受信フィルター
ms.assetid: b5dbd716-1d92-400c-b612-a70de690baef
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: d67f80ac629d8d8a468f6194a823edce065e23d6
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/31/2019
ms.locfileid: "56532114"
---
# <a name="vmq-receive-filters"></a>VMQ 受信フィルター





VMQ が表示されるネットワークの仮想サービス プロバイダー (VSP) セット VMQ のフィルターは、キューを受信します。 このようなフィルターには、一連ネットワークのヘッダー フィールドのテストにはが含まれています。 ネットワーク アダプターのハードウェアは、パケットの受信キューの割り当てを判断する受信パケットのヘッダー フィールドに、これらのテストを実行します。 キューに設定されている各フィルターには、ネットワーク アダプターのフィルターの一意な識別子があります。 つまり、フィルターの識別子は、ネットワーク アダプターを管理する別のキューでは複製されません。

VMQ インターフェイスは、フィルター テストでは、メディア アクセス制御 (MAC) ヘッダーにフィールドを使用します。 MAC ヘッダー内では、VMQ フィルター テストは、仮想ローカル エリア ネットワーク (VLAN) id と、移行先 MAC アドレス フィールドを使用します。

受信フィルターでは、複数のフィールドのテストを指定できます。 フィルターの条件に一致し、パケットを受信キューに割り当てるすべてのテストに渡す必要があります。 VMQ フィルターは、指定した値と等しいフィールドをテストします。 たとえば、接続先 MAC アドレスは指定したアドレスと一致しません。

受信キューでは、複数のフィルターを設定できます。 一致するキューでのフィルターのいずれか (つまり、すべてのフィルターのテストが渡される) のパケットの受信キュー ネットワーク アダプターが割り当てられます。

この次の図は、フィルターのテストの実行方法、およびフィルターがキューの割り当てを決定する方法を示します。

![フィルター テストの実行方法、およびフィルターがキューの割り当てを決定する方法を示す図](images/vmqfilter.png)

送信先アドレス (DA) をテストする前の図では、(A との比較と B)。 また、VLAN 識別子は、(2 および 3 を比較) をテストします。 フィルターと一致する指定された値と等しく、DA と VLAN 識別子である必要があります AND 演算を示しています。 そのキューへのネットワーク データ パケットの割り当ての結果に一致するキューにフィルター処理するいずれかの OR 演算を示しています。

この次の図では、フィルター、およびキューが受信データの流れに与える影響を示します。

![フィルターとキューが受信データの流れに与える影響を示す図](images/vmqfilterpaths.png)

着信のパケットがキューにフィルターに一致する場合は、そのキューに割り当てられます。 それ以外の場合、パケットはに対してテストでは、次のキューのフィルター、という具合です。 キューのいずれかに一致するフィルターがない場合は、ネットワーク アダプターは、既定のキューにパケットを割り当てます。

 

 





