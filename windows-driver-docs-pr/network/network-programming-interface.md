---
title: ネットワーク プログラミング インターフェイス
description: ネットワーク プログラミング インターフェイス
ms.assetid: 74d706e1-5398-4685-b3ab-7b4c4b6b5588
keywords:
- NPI WDK ネットワークモジュールレジストラー
- クライアント特性構造 WDK ネットワークモジュールレジストラー
- プロバイダーの特性構造 WDK ネットワークモジュールレジストラー
- クライアントディスパッチテーブル WDK ネットワークモジュールレジストラー
- ディスパッチテーブル WDK ネットワークモジュールレジストラー
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 8a507a230834cea92a4ab78022386cc5dbfe65a1
ms.sourcegitcommit: 4b7a6ac7c68e6ad6f27da5d1dc4deabd5d34b748
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/24/2019
ms.locfileid: "72827132"
---
# <a name="network-programming-interface"></a>ネットワーク プログラミング インターフェイス


*ネットワークプログラミングインターフェイス*(NPI) は、相互に接続できる[ネットワークモジュール](network-module.md)間のインターフェイスを定義します。 特定の NPI のクライアントとして登録されている[クライアントモジュール](client-module.md)は、同じ NPI のプロバイダーとして登録されている[プロバイダーモジュール](provider-module.md)にのみアタッチできます。 同様に、特定の NPI のプロバイダーとして登録されているプロバイダーモジュールは、同じ NPI のクライアントとして登録されているクライアントモジュールにのみアタッチできます。

各 NPI は次の項目を定義します。

-   NPI を一意に識別する*NPI 識別子*。 ネットワークモジュールは、ネットワークモジュールがネットワークモジュールレジストラー (NMR) に登録するときに、サポートする特定の NPI を示す NPI 識別子を指定します。 ネットワークモジュールは、NMR に複数回登録することで、複数の NPIs をサポートできます。これは、サポートする各 NPI につき1回です。 NMR は、両方が同じ NPI をサポートしている場合にのみ、プロバイダーモジュールへのクライアントモジュールのアタッチを開始します。

-   各クライアントモジュールの NPI 固有の特性を指定する、省略可能な[*クライアント特性*](https://docs.microsoft.com/windows-hardware/drivers/ddi/netioddk/ns-netioddk-_npi_client_characteristics)の構造体。 このような NPI 固有の特性には、クライアントモジュールでサポートされている NPI のバージョン (またはバージョン)、クライアントモジュールが必要とするアドレスファミリまたはプロトコルなどの項目が含まれる場合があります。 プロバイダーモジュールは、クライアントモジュールのクライアント特性構造に含まれている情報を使用して、クライアントモジュールに接続するかどうかを判断できます。 NPI が NPI 固有のクライアント特性を定義していない場合、この構造は必要ありません。

-   各プロバイダーモジュールの NPI 固有の特性を指定する、省略可能な[*プロバイダー特性*](https://docs.microsoft.com/windows-hardware/drivers/ddi/netioddk/ns-netioddk-_npi_provider_characteristics)の構造体。 このような NPI 固有の特性には、プロバイダーモジュールでサポートされている NPI のバージョン (またはバージョン) や、プロバイダーモジュールがサポートするアドレスファミリやプロトコルなどがあります。 クライアントモジュールは、プロバイダーモジュールのクライアント特性構造に含まれている情報を使用して、プロバイダーモジュールにアタッチするかどうかを判断できます。 NPI が NPI 固有のプロバイダーの特性を定義していない場合、この構造は必要ありません。

-   0個以上のクライアントモジュールコールバック関数。 プロバイダーモジュールがクライアントモジュールに正常にアタッチされると、クライアントモジュールのコールバック関数を呼び出すことによって、プロバイダーモジュールがクライアントモジュールの機能にアクセスできるようになります。

-   1つまたは複数のプロバイダーモジュール関数。 クライアントモジュールがプロバイダーモジュールに正常にアタッチされると、クライアントモジュールはプロバイダーモジュールの関数を呼び出すことによってプロバイダーモジュールの機能にアクセスできます。

-   クライアントの各モジュールコールバック関数への関数ポインターを含む*クライアントディスパッチテーブル*構造。 NPI でクライアントモジュールのコールバック関数が定義されていない場合、この構造は必要ありません。

-   各プロバイダーモジュール関数への関数ポインターを格納する*プロバイダーディスパッチテーブル*構造。

特定の NPI をサポートするクライアントモジュールは、NPI によって定義された項目を使用して、インターフェイスのクライアント側を実装します。 同様に、特定の NPI をサポートするプロバイダーモジュールは、NPI によって定義された項目を使用して、インターフェイスのプロバイダー側を実装します。

NPI によって定義されるすべての項目は、NPI 識別子を除き、NMR に対して非透過的です。 NMR は NPI 識別子を使用して、どのクライアントモジュールをどのプロバイダーモジュールにアタッチするかを決定します。

 

 





