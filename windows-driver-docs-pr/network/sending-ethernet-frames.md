---
title: イーサネット フレームの送信
description: イーサネット フレームの送信
ms.assetid: 9d1037b9-ef5c-4ed8-9204-5729eff2cea3
keywords:
- WDK のイーサネット ネットワーク
- フレームの WDK ネットワーク
- イーサネット フレーム WDK ネットワー キングの TCP/IP トランスポート
- イーサネット フレームを送信します。
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 697f0d5e4d4f1d2531db3d0469c970e45a7fa341
ms.sourcegitcommit: 0cc5051945559a242d941a6f2799d161d8eba2a7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/23/2019
ms.locfileid: "63346754"
---
# <a name="sending-ethernet-frames"></a>イーサネット フレームの送信





Windows TCP/IP トランスポートは、イーサネット フレームを送信するための一連の要件をサポートします。 ドライバー (たとえば、MUX 中間ドライバーまたはフィルター ドライバー) の送信要求の発生元またはドライバーを後続の送信要求を変更するには、TCP/IP トランスポートを実装する要件をサポートする必要があります。

**注**  ドライバー スタック内の任意のドライバーがこれらの要件、基になるミニポート ドライバー、MUX の中間ドライバーに従っていないかどうかは、フィルター ドライバーが予期しない動作可能性があります。

 

イーサネットの送信要求、ドライバーはこれらの要件をサポートする必要があります。

-   ドライバーを送信要求の作成元である場合、ドライバーを割り当てる必要があります、 [ **NET\_バッファー\_一覧**](https://msdn.microsoft.com/library/windows/hardware/ff568388)イーサネット フレームの構造体。 **NetBufferListInfo**各ネットワーク内のメンバー\_バッファー\_リスト構造は、特定の使用に必要なアウト オブ バンド (OOB) データを含める必要があります。 OOB のデータがすべてに適用されます、 [ **NET\_バッファー** ](https://msdn.microsoft.com/library/windows/hardware/ff568376) 、NET に関連付けられている構造\_バッファー\_リスト構造体。

-   ドライバー、送信要求の作成元である場合、ドライバーが 1 つまたは複数のネットワークを割り当てる必要があります\_イーサネット フレームの構造をバッファリングしてからこれらの構造をリンクする、NET\_バッファー\_リスト構造体。 各ネット\_、NET にリンクされているバッファー構造\_バッファー\_リスト構造体には、1 つのイーサネット フレームがについて説明します。 ドライバーのチェーンの複数の NET\_バッファー\_の送信要求内のリストの構造体。 

-   すべての NET\_、NET に関連付けられているバッファーの構造体\_バッファー\_リスト構造が同じイーサネット フレームの種類と IP プロトコルのバージョン (IPv4 または IPv6) が必要です。

-   すべての NET\_、NET に関連付けられているバッファーの構造体\_バッファー\_リスト構造が同じソースおよび宛先の MAC アドレスをいる必要があります。

-   TCP または UDP フレーム、ネットワークのすべてのドライバーを送信する場合\_、NET に関連付けられているバッファーの構造体\_バッファー\_リスト構造は、同じ TCP または UDP 接続に関連付けられたである必要があります。
    **注**  要件は次は、イーサネット フレームが送信されたを分割することができます。 つまり、複数のメモリ記述子リスト (MDLs) は、NET を関連付けることができます\_の送信要求内のバッファーの構造体。

     

-   送信のイーサネット フレームの MAC ヘッダーは複数 MDLs 間で分割しません。 存在する場合に、仮想 LAN (VLAN) (または優先度) フラグを扱う MAC ヘッダーの一部として。 そのため、このフラグは、MAC ヘッダーの残りの部分として同じ MDL でなければなりません。

-   ドライバーが、NET で MDL チェーン内のリンクを変更するかどうかは\_バッファーの構造体または NET\_、NET でバッファー チェーン\_バッファー\_リスト構造では、ドライバーは、前に、元の構成に、リンクを復元する必要がありますNET の所有権を返します\_バッファー\_上にある、ドライバーにリストします。 ただし、ドライバーは、NET のリンクを復元する必要はありません\_バッファー\_リストの構造体。

 

 





