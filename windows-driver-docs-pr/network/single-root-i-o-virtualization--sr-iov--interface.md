---
title: シングル ルート I/O 仮想化 (SR-IOV) インターフェイス
description: シングル ルート I/O 仮想化 (SR-IOV) インターフェイス
ms.assetid: B65160F9-DB7E-427E-999C-09BD00173076
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 8a9827c11ea6cf76ccf7aac05b7fbf2c633e594d
ms.sourcegitcommit: 0cc5051945559a242d941a6f2799d161d8eba2a7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/23/2019
ms.locfileid: "63363258"
---
# <a name="single-root-io-virtualization-sr-iov-interface"></a>シングル ルート I/O 仮想化 (SR-IOV) インターフェイス


1 つまたは複数仮想インターフェイスと呼ばれる PCI Express (PCIe) のネットワーク アダプターのハードウェア リソースのパーティション分割により、SR-IOV インターフェイス*仮想機能 (Vf)* します。 これにより、アダプターのリソースを仮想環境で共有できます。 SR-IOV は、直接、VF HYPER-V 子パーティションに割り当てることで、仮想ソフトウェア スイッチ レイヤーをバイパスするネットワーク トラフィックを使用できます。 これにより、ソフトウェア エミュレーション レイヤー入出力のオーバーヘッドは減少し、ネットワーク スループットが nonvirtualized 環境と同様にほぼ同等のパフォーマンスを実現します。

各 PCIe VF には、I/O メモリ管理ユニット (IOMMU) には、次は、一意の要求元 ID が割り当てられます。

-   ネットワーク アダプターの場合は、各 PCIe 関数でストリームをさまざまなトラフィックを区別します。 これにより、メモリを適用し、適切な子または親パーティションに直接これらトラフィック ストリームを配信できるように、翻訳を中断する IOMMU ができます。

-   パーティション間でトラフィックが隔離されます。 これは、パーティションからのトラフィック フローがデバイス上の他のパーティションに影響しないことが保証されます。

次の図では、SR-IOV インターフェイス内で VF データ パスが表示されます。

![sr-iov 対応の合成デバイスのデータ パスを示す図](images/sriovarchitecture.png)

VF データ パスの使用の利点は、次のとおりです。

-   すべてのデータ パケットは、ゲスト オペレーティング システムでのプロトコル スタックと VF 間で直接フローです。 これにより、HYPER-V 子と親パーティションの間でどのデータ パケットのフローでの合成データ パスのオーバーヘッドがなくなります。 親パーティションに転送して後、HYPER-V 拡張可能スイッチ モジュールは他の子パーティションに、または基になる、SR-IOV 物理アダプターの物理ネットワーク インターフェイスにこれらのパケットを転送します。

-   VF のデータ パスは、HYPER-V 子パーティションからのパケット トラフィック管理オペレーティング システムでの介入をバイパスします。 VF は、がアタッチされている子パーティションを独立したメモリ領域、割り込みと DMA のストリームを提供します。 これは、nonvirtualized 環境とほぼ互換性があるネットワークのパフォーマンスを発揮します。

-   VF データ パス上でパケットのルーティングは、NIC によって実行、SR-IOV ネットワーク アダプターをオンにします。 パケットを送信または外部ネットワーク アダプターの物理ポート経由で受信します。 パケットは、VF がアタッチされている他の子パーティションとの間も転送されます。

    **注**  をまたはから子パーティションを VF にアタッチされませんが、NIC によって転送されるパケットは、拡張可能スイッチのモジュールに切り替えます。 このモジュールは、HYPER-V の親パーティション内で実行し、合成データ パスを使用して子パーティションにこれらのパケットを配信します。

     

SR-IOV インターフェイスの詳細については、次を参照してください。 [Single Root I/O Virtualization (SR-IOV)](single-root-i-o-virtualization--sr-iov-.md)します。

 

 





