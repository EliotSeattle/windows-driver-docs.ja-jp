---
title: プロトコル ドライバー
description: プロトコル ドライバー
ms.assetid: e144f9a6-97fc-46ac-82f8-4a1745d280c7
keywords:
- プロトコルドライバー WDK ネットワーク, アーキテクチャ
- NDIS プロトコルドライバー WDK、アーキテクチャ
- トランスポートプロトコルドライバーの WDK ネットワーク
ms.date: 11/26/2018
ms.localizationpriority: medium
ms.openlocfilehash: 9aa935b6340b811255230932fdde781f62a90da4
ms.sourcegitcommit: 4b7a6ac7c68e6ad6f27da5d1dc4deabd5d34b748
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/24/2019
ms.locfileid: "72842170"
---
# <a name="protocol-drivers"></a>プロトコル ドライバー

ネットワークプロトコルは、ドライバーの NDIS 階層内で最高のドライバーであり、TCP/IP スタックなどのトランスポートプロトコルスタックを実装するトランスポートドライバーでは、多くの場合、最下位レベルのドライバーとして使用されます。 *トランスポートプロトコルドライバー*は、パケットを割り当て、送信元アプリケーションからパケットにデータをコピーし、NDIS 関数を呼び出して下位レベルのドライバーにパケットを送信します。 プロトコルドライバーには、次の下位レベルのドライバーから受信パケットを受信するためのプロトコルインターフェイスも用意されています。 トランスポートプロトコルドライバーは、受信したデータを適切なクライアントアプリケーションに転送します。

下端では、プロトコルドライバーは中間ネットワークドライバーとミニポートドライバーを使用してインターフェイスを行います。 プロトコルドライバーは、 **Ndis * Xxx*** 関数を呼び出して、パケットの送信、下位レベルのドライバーによって保持されている情報の読み取りと設定、およびオペレーティングシステムサービスの使用を行います。 また、プロトコルドライバーは、NDIS が独自の目的のために呼び出すエントリポイント (*Protocolxxx*関数) のセットをエクスポートします。または、下位レベルのドライバーの代わりに、下位レベルのドライバーの状態を示し、それ以外の場合はを返します。プロトコルドライバーと通信します。

上部では、トランスポートプロトコルドライバーは、プロトコルスタック内の上位レベルのドライバーへのプライベートインターフェイスを備えています。

> [!NOTE]
> NDIS ドライバースタックと、4つのすべての NDIS ドライバーの種類の関係を示す図の詳細については、「 [Ndis ドライバースタック](ndis-driver-stack.md)」を参照してください。

## <a name="related-topics"></a>関連トピック

[NDIS プロトコルドライバー](ndis-protocol-drivers.md)

[NDIS プロトコルドライバーリファレンス](https://docs.microsoft.com/windows-hardware/drivers/ddi/_netvista/)