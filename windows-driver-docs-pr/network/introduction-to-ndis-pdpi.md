---
title: NDIS PacketDirect プロバイダー インターフェイスの概要
description: このセクションで概説する NDIS PacketDirect プロバイダー インターフェイス (お) を提供します
ms.assetid: E85ED51E-BDE5-43BE-93BA-19F214670B8F
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: ca37eb13e3ef06867136802fbe44d5a7c1d74270
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/31/2019
ms.locfileid: "56538110"
---
# <a name="introduction-to-the-ndis-packetdirect-provider-interface"></a>NDIS PacketDirect プロバイダー インターフェイスの概要


PacketDirect プロバイダー インターフェイス (お) 物理と仮想の両方の環境を桁違いによって 1 秒あたりに処理されたパケットの数を増やす、ジッターが大幅に低下したりするための高速の I/O モデル NDIS を拡張するときに従来の NDIS I/O パスと比較されます。

## <a name="background"></a>背景


Windows では、従来の I/O モデルは、multipurpose、一般的な I/O プラットフォームに意図的に多くの異なる特性を持つ複数のメディアの種類を使用して、システム全体の 1 つの側面がネットワークに実装されていました。 今日では、ネットワーク仮想化は、データ センターで流行しているテクノロジになったときに、Windows Server OS では、従来の NDIS I/O モデルはないのみますます一般的になる予定ですネットワーク集中型ワークロードに十分なもリソースのネットワーク I/O 処理を専用に不適切なモデル。 をデータ センター環境で専用のネットワーク ハードウェア アプライアンス用に予約された通常の関数を実行する 1 つの目的のマシンを実装するは珍しいはありません。 これらのネットワーク アプライアンスの例には、ソフトウェア ロード バランサー、DDoS アプライアンスおよび転送ゲートウェイが含まれます。 さらに悪いこと、その他の OS での I/O を高速化するこれら別の OS のネットワーク仮想アプライアンスなどの処理を要するアプリケーションをビルドする推奨されるプラットフォームを構成するメカニズムがあります。

PacketDirect (PD) は、絶対値よりも高い順位は、従来の NDIS I/O モデルで見られるが 2 つ目の (pps) 数あたりのパケット用に最適化された高速ネットワーク I/O パスの現在の NDIS モデルを拡張します。 これによって実現されます。

-   待機時間の短縮
-   削減サイクル/パケット
-   その他のシステム リソースの使用量を線形の速度

PacketDirect では、従来のモデルと並行して存在します。 アプリケーションを優先し、それに対応するための十分なハードウェア リソースがある場合、新しい PD パスを使用できます。 PD では、従来の I/O モデルを置き換えるものではありません、PD インターフェイスへの書き込み、クライアントがパーティション分割システム トポロジに基づいて、基になるリソースの要件が厳しいを持つことを前提とします。 PD が Windows システムに役立つ、新しいデータの高速パスは、従来のハードウェアで実施された高 pps ワークロードを置換するものではインフラストラクチャ コストのデータ センターの所有者数百万人を保存します。

## <a name="packetdirect-concepts"></a>PacketDirect 概念


PD は、ネットワーク アダプター (NIC) からのネットワーク トラフィックを明示的に管理する PD クライアントを許可することで機能します。 PD PD クライアントの高パフォーマンス送信制御し、PackageDirect クライアント インターフェイス (PDCI) からの NIC の機能を受信します。 内部的には、PDCI 送信/受信関数は、おに直接マップされます。 PD 送信/受信関数は、PD に対応した Nic の PD クライアントによって作成された PD キューで動作します。 PD は、特定の種類のトラフィックまたは PD クライアントのニーズに基づいて、非常に一般的なトラフィック用にカスタム フィルターを設定する機能を PD クライアントを提供します。 PD キューに特定の受信パケットを転送する PD クライアントことができます。 パケット PD モデルで常に処理は、PD クライアントによって所有されている実行コンテキスト内の場所 (または制御調整) を受け取る。 PD 対応 NIC ドライバーが完全にパッシブ、アクティブに転送しません受信パケットや送信パケット数の入力候補がない PD でクライアントには、DPC、ワーカー スレッドなどのドライバーが所有している実行コンテキストを意味します。

PD クライアント パケットを処理する方法を理解しないまたは ARP、LLDP、またはその他のプロトコル パケットなど、そのキューのいずれかのコントロールのパケットを受信する場合、PD クライアントにパケットを処理するため、現在の I/O パスできます再ルーティングします。 PD のコンテキストを持つパケットを処理を続行するには、このトラフィックの制御にサイクルが無駄になりません。

**重要な**  PD プロバイダーを 1 つとネット アダプターごとに 1 つの PD クライアントがあることができます。 したがって、存在するは複数の PD クライアントと 1 つのシステム上の PD プロバイダー。

 

PD クライアントでは、システムで PD に割り当てられているリソースをコントロールがあります。 大量のネットワーク トラフィックの場合は、PD クライアントは、OS が他のワークロードに対応できるようにするために、作業負荷を最小限に抑えることを担当します。

Windows によって実装される PacketDirect プラットフォームは、クライアント インターフェイスをプロバイダー インターフェイスにマップします。 バッファー管理のプラットフォーム コントロールと現在 NDIS に PD 経由で受信したパケットを再挿入する機能は、パスを受信します。 相互作用も処理 PD で NDIS を満たすためのクライアント低電力のシステムのシャット ダウンに NIC を無効にするなどのパスの要件を制御および突然の PD データ パスのパフォーマンスが妨げられるしないような方法で削除します。

**PacketDirect プロバイダー インターフェイス (お)**

おでは、高パフォーマンスの送信を公開し、受信機能、Windows OS に NIC ドライバーを許可します。 実装される関数は、完了ミニポート機能のサブセット、PD を実装するすべての Nic にジェネリック。 おのリファレンス ドキュメントについては、[PacketDirect プロバイダー インターフェイス (お) 参照](https://msdn.microsoft.com/library/windows/hardware/dn931858)を参照してください。

**PacketDirect クライアント インターフェイス (PDCI)**

PDCI、ファースト パーティの Windows サービス/アプリケーション (など、ロード バランサー、NAT、VM スイッチなど)、PD クライアントを使用して、PacketDirect I/O モデルを活用することで、自分のデータ パスを高速化できます。 このインターフェイスは、NDIS 送信/受信インターフェイスと同様のレイヤー 2 インターフェイスです。 (おアクセス) だけでなく PDCI が提供する主な機能が PD パケット バッファーの割り当てと管理、正規表現にパケットを挿入するためのバック チャネル NDIS 受信パス、NDIS 電源/PnP イベントを処理します。

## <a name="related-topics"></a>関連トピック


[PacketDirect プロバイダー インターフェイス (お) リファレンス](https://msdn.microsoft.com/library/windows/hardware/dn931858)

 

 






