---
title: システム指定の DCB コンポーネント
description: システム指定の DCB コンポーネント
ms.assetid: 64C9ADEF-5512-41E4-AE7B-DFEF1B94FC5F
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 6e93641c8fab50e335a98ec96c69261e5fd3589b
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/31/2019
ms.locfileid: "56557097"
---
# <a name="system-provided-dcb-components"></a>システム指定の DCB コンポーネント


このセクションでは、NDIS サービスの品質 (QoS) のアーキテクチャの IEEE 802.1 データ センター ブリッジング (DCB) の一部である、さまざまなコンポーネントについて説明します。 これらのコンポーネントは、次の図に表示されます。

![デバイスのインストール コンポーネント](images/dcb.png)

図で影なしのボックスは、Windows オペレーティング システムを提供するモジュールを表します。 具体的には、オペレーティング システムは、DCB をサポートする次のモジュールを提供します。

<a href="" id="network-qos-policy-wmi-provider"></a>ネットワーク QoS ポリシーの WMI プロバイダー  
このモジュールは、Windows Management Instrumentation (WMI) クライアントを照会して、オペレーティング システムのネットワーク スタック内のネットワークのベースの QoS ポリシーを設定するためのインターフェイスを提供します。 これらのポリシーが特定の種類の送信の DCB トラフィック クラスに割り当てられるネットワーク トラフィックを許可または*エグレス*管理、優先順位の高い配信します。

ネットワーク ポリシーでは、一連の条件とアクションを定義します。 TCP または UDP ポート番号などの条件に一致する送信パケットには、条件に関連するアクションが割り当てられます。 NDIS 6.30 以降では、ポリシーのアクションは、DCB トラフィック クラスが割り当てられている、802.1 p の優先度レベルを指定します。

ネットワーク QoS ポリシーとは、NDIS QoS の分類のスーパー セットです。 ネットワーク ポリシーの WMI プロバイダーを使用して定義されたポリシーが自動的に移行する NDIS QoS ポリシーの条件とアクションの NDIS QoS の分類要素の制限に一致する限り。 これらの要素の詳細については、[NDIS QoS トラフィックの分類](ndis-qos-traffic-classifications.md)を参照してください。

この WMI プロバイダーは、システム レジストリで専用のストア内のネットワーク ポリシーを保存します。

<a href="" id="dcb-wmi-provider"></a>DCB の WMI プロバイダー  
このコンポーネントは、WMI クライアントでクエリを基になるミニポート ドライバーの NDIS QoS パラメーターを設定するためのインターフェイスを提供します。 WMI ベースの PowerShell コマンドレットと WMI メソッドによって、クライアントは、DCB をサポートしているミニポート ドライバーで優先度に基づくフロー制御 (PFC) Enhanced Transmission Selection (ETS) などの DCB 機能を構成できます。

<a href="" id="dcb"></a>DCB  
DCB コンポーネント (Msdcb.sys) は、DCB パラメーター設定で、DCB 対応のミニポート ドライバーを構成します。 DCB のコンポーネントは、次のソースからこれらの設定を取得します。

-   DCB ポリシーから永続的な設定は、システム レジストリに格納されます。

-   ユーザー モードの DCB WMI プロバイダーからの動的な設定です。 これらの設定は、DCB WMI プロバイダーと DCB のモジュール間のプライベート I/O 制御 (IOCTL) インターフェイス上で配信されます。

DCB のコンポーネントでは、NDIS QoS をサポートするミニポート ドライバーに、QOS の分類設定 QIM コンポーネントからも中継します。

<a href="" id="qos-inspection-module--qim-"></a>QoS 検査モジュール (QIM)  
QIM コンポーネントは、コアの TCP/IP ネットワーク スタック (Tcpip.sys) 内のパケット検査レイヤーの一部です。 Windows Server 2012 以降では、このコンポーネントは、トラフィックの優先順位付けのベースの QoS のパケットの分類を実行します。

QIM コンポーネントは、プライベート ネットワーク プログラミング インターフェイス (NPI) を公開します。 DCB のコンポーネントは、基になるミニポート ドライバーの QoS パラメーターを設定、ときに、この NPI インターフェイス上で QIM コンポーネントにこれらの設定を中継します。 これにより、DCB DCB アプリケーションの優先順位の設定に基づく QIM で QoS ポリシーを作成できます。 NPI インターフェイスの詳細については、[ネットワーク プログラミング インターフェイス](network-programming-interface.md)を参照してください。

QIM コンポーネントは、また、レジストリのポリシー ストアからのネットワーク QoS ポリシーを処理します。 これらのポリシーは、NDIS QoS の分類の要素と互換性がある、QIM コンポーネントは、ポリシーを移行し、NPI インターフェイス経由での DCB コンポーネントに問題です。

**注**  QIM コンポーネントによって作成されたポリシーは、アクティブなストアに移動し、システムの再起動では保持されません。

 

**注**  以降 Windows Server 2012 では、DCB と DCB の WMI プロバイダーのコンポーネントが既定でインストールされません。 これらのコンポーネントがインストールされ、Microsoft の DCB サーバー機能のインストールを有効にします。 この機能は、サーバー マネージャーの役割の追加と機能のウィザードを使用してインストールされます。

 

 

 





