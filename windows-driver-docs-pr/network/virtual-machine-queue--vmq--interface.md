---
title: 仮想マシン キュー (VMQ) インターフェイス
description: 仮想マシン キュー (VMQ) インターフェイス
ms.assetid: AE0F65F0-7A5B-48FA-8635-617E71D86479
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 5caf6ae4646b3baee1bbd0b877b71e779d5d87b6
ms.sourcegitcommit: 0cc5051945559a242d941a6f2799d161d8eba2a7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/23/2019
ms.locfileid: "63378231"
---
# <a name="virtual-machine-queue-vmq-interface"></a>仮想マシン キュー (VMQ) インターフェイス


VMQ インターフェイスをサポートするネットワーク アダプターには、キューを受信するパケットをルーティングするハードウェアが含まれています。 これは、パケット ヘッダーおよびネットワーク アダプター上のキューの構成の解析が必要です。

ミニポート ドライバーが、受信を示す値を行うと、すべてのパケットは、同じ VM キューです。

オプションとして、ネットワーク アダプターで VLAN が、指定したメディア アクセス制御 (MAC) アドレスのハードウェアでのフィルター処理を提供できます。

パケットをキューにルーティングし、キュー、vm 上のパケットは、同時実行のすべてを示す複数の Vm の処理が表示されます。 すべてのキューは、別のプロセッサによって処理されます。

コピーするコピーのステップを防止するネットワーク アダプターのキューへのルーティング、ネットワーク アダプターからのデータ受信の VM のアドレス空間をバッファーします。

次の図は、VMQ インターフェイス内での合成データ パスを示します。

![vmq との統合デバイス データのパスを示す図](images/vmqdatapaths.png)

図では、物理ネットワーク アダプターのミニポート ドライバーは受信したデータを HYPER-V 拡張可能スイッチのコンポーネントを示します。 このコンポーネントは、ネットワークの仮想サービス プロバイダー (NetVSP) として機能し、HYPER-V 子パーティションでネットワーク アクセスをサポートするためにサービスを提供します。

拡張可能スイッチが提供するサービスには、ゲスト オペレーティング システムでの仮想マシン (VM) ネットワーク アダプターからルーティングのパケットが含まれています。 VM のネットワーク アダプターは、ゲスト オペレーティング システムで実行されているネットワークの仮想サービス クライアント (NetVSC) によって公開されます。

VMQ、下は、物理ネットワーク アダプターは、そのキューに直接の VMQ の受信フィルターのテストに一致するデータを転送します。 これには、ソフトウェアで拡張可能スイッチの処理ができないようにします。 フィルター テストに合格しないデータは、既定のキューに拡張可能スイッチがデータを処理する必要があります。 だけでなく、ルーティングや拡張可能スイッチでのコピーを防止するには、VM のキューの受信の割り込みは、別のプロセッサに割り当てられます。

VMQ インターフェイスの詳細については、次を参照してください。[仮想マシン キュー (VMQ)](virtual-machine-queue--vmq-.md)します。

 

 





