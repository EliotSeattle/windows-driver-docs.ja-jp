---
title: 中間ドライバー
description: 中間ドライバー
ms.assetid: 0c0516b0-1fc4-43b5-8c7c-58255c72a4e7
keywords:
- 中間ドライバー WDK ネットワーク、アーキテクチャ
- NDIS 中間ドライバー WDK、アーキテクチャ
ms.date: 11/26/2018
ms.localizationpriority: medium
ms.openlocfilehash: 7a563b1acb7f9ce635d63cd633483f4b9845c0a3
ms.sourcegitcommit: 4b7a6ac7c68e6ad6f27da5d1dc4deabd5d34b748
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/24/2019
ms.locfileid: "72843543"
---
# <a name="intermediate-drivers"></a>中間ドライバー

次の図に示すように、通常、中間ドライバーはミニポートドライバーとトランスポートプロトコルドライバーの間に階層化されています。

![ミニポートドライバーとトランスポートドライバーの間にある中間ドライバーを示す図](images/id-1.png)

> [!NOTE]
> NDIS ドライバースタックと、4つのすべての NDIS ドライバーの種類の関係を示す図の詳細については、「 [Ndis ドライバースタック](ndis-driver-stack.md)」を参照してください。

ドライバー階層内の中間の位置から、中間ドライバーは、次のように公開するために、プロトコルドライバーと基になるミニポートドライバーの両方と通信する必要があります。

-   プロトコルのエントリポイント。

    その下端では、NDIS は*Protocolxxx*関数を呼び出して、基になるミニポートドライバーから要求を伝達します。 中間ドライバーは、基になるミニポートドライバーにプロトコルドライバーのように見えます。

-   ミニポートドライバーのエントリポイント。

    その上端で、NDIS は*Miniportxxx*関数を呼び出して、1つ以上のプロトコルドライバーの要求を通信します。 中間ドライバーは、前のプロトコルドライバーに対するミニポートドライバーのように見えます。

中間ドライバーは、その上端にある*Miniportxxx*関数のサブセットをエクスポートします。 また、1つまたは複数の仮想アダプターをエクスポートして、それを超えるプロトコルドライバーがバインドできるようにします。 プロトコルドライバーに対して、中間ドライバーによってエクスポートされた仮想アダプターは物理 NIC であるように見えます。 プロトコルドライバーが仮想アダプターにパケットまたは要求を送信すると、中間ドライバーは、これらのパケットと要求を基になるミニポートドライバーに伝達します。 基になるミニポートドライバーが受信パケットを示している場合、プロトコルドライバーによる情報の要求に応答する場合、または状態を示す場合、中間ドライバーは、このようなパケット、応答、ステータスを、仮想アダプター。

中間ドライバーを使用して次のことを行うことができます。

-   異なるネットワークメディア間で変換します。

-   複数の NIC 間でのパケット伝送のバランスを取る。 負荷分散ドライバーは、1つの仮想アダプターを1つのトランスポートプロトコルに公開し、複数の NIC に送信パケットを配布します。

## <a name="related-topics"></a>関連トピック

[NDIS 中間ドライバー](ndis-intermediate-drivers2.md)

[NDIS 中間ドライバーリファレンス](https://docs.microsoft.com/windows-hardware/drivers/ddi/_netvista/)