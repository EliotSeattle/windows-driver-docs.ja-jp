---
title: MB デバイスの準備
description: MB デバイスの準備
ms.assetid: 67a67ff7-dcff-4aec-bea9-7b1be9593649
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 49820ee9dc04b868f5a6a7f338efdb73486a0bf3
ms.sourcegitcommit: fb7d95c7a5d47860918cd3602efdd33b69dcf2da
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/25/2019
ms.locfileid: "67378014"
---
# <a name="mb-device-readiness"></a>MB デバイスの準備


このトピックでは、MB、デバイスがアクセスでき、MB サービスがデータ接続のセットアップを実行する前に、ネットワーク関連のアクティビティの使用可能であることを確認する手順について説明します。 ユーザー サブスクリプションがアクティブ化されている場合に使用して、デバイスまたは Subscriber Identity Module (SIM カード) に格納されているサブスクライバーに関連する情報は、デバイス

MB サービスは、ミニポート ドライバーは、その MB デバイスのハードウェア (ラジオ スタック、SIM カードまたは同等の回路) を自動的に初期化前提としています。 サービスからの任意の命令を待つことなく、システムが読み込まれた後です。

ミニポート ドライバーに MB デバイスの初期準備完了状態を設定する**WwanReadyStateOff**します。 初期化の進行状況が、ミニポート ドライバーは MB サービスに、デバイスの準備完了状態への変更の通知のイベント通知を送信する必要があります。

エラー状態に入っている場合、ミニポート ドライバーは、初期化プロセスを停止する必要があります。 自分のデバイスに到達するまでに、ミニポート ドライバーが初期化プロセスを再開できますエラー状態がクリアされた後、 **WwanReadyStateInitialized**準備完了状態。

一部のエラー シナリオの例を次に示します。

-   デバイスに SIM カードが必要です、ミニポート ドライバーを検出する SIM カードが存在しない、ミニポート ドライバーに送信する必要があります、 **WwanReadyStateSimNotInserted**準備完了の状態のイベント通知、およびミニポート ドライバーに残す必要があります。ユーザーがデバイスに SIM カードを挿入するまでの状態。

-   かどうか、デバイスに SIM カードが必要ですし、ミニポート ドライバーが挿入されている、SIM カードを読み取ることができません (U RIM の GSM ベースのデバイスが挿入または CDMA ベースのデバイスに、USIM が挿入されたなど)、SIM カードと互換性がないデバイス (たとえば、または 3 G USIM に挿入されます USIM 形式を解釈できない 2 G デバイスを)、ミニポート ドライバーに送信する必要があります、 **WwanReadyStateBadSim**準備完了の状態のイベント通知、およびミニポート ドライバーまで、ユーザーの状態を維持する必要がありますデバイスに正しい SIM カードを挿入します。

-   ミニポート ドライバーに送信する必要があります (SIM カードを使用するデバイス) の暗証番号 (pin) によって、デバイスがロックされている、またはそれ以上のデバイスの初期化の進行状況を妨げる (SIM カードを使用していないデバイス) のパスワードで、 **WwanReadyStateDeviceLocked**準備完了の状態のイベントの通知とミニポート ドライバーが、ユーザーが、正しい PIN またはパスワードを入力するまでその状態で維持する必要があります。

-   ミニポート ドライバーを送信する必要があります、ミニポート ドライバーがサービスのアクティブ化が続行するために必要なことを検出した場合、 **WwanReadyStateNotActivated**準備完了の状態のイベントの通知がサービスになるまでその状態で維持する必要がありますアクティブ化されます。 これは、北米 CDMA ベースのデバイスの一般的な動作です。

-   ミニポート ドライバーに送信する必要があります、ミニポート ドライバーは、障害前に説明したもの以外に実行する場合、 **WwanReadyStateFailure**準備完了の状態のイベントの通知が問題になるまでその状態で維持する必要があります検出して修正しました。

MB サービスを想定していないこと、ミニポート ドライバーは、これらすべてのエラーを検出できることに注意します。 サービスは、どのミニポート ドライバーがこれらのエラー条件を検出する順序を想定しています。 ただし、前述の順序でエラーのシナリオを実装することをお勧めします。

ミニポート ドライバーを送信するまで、 **WwanReadyStateInitialized**準備完了の状態のイベントの通知サービスまで行われず、ネットワーク関連のアクティビティをさらに、問題を検出して、修正しました。 ただし、サービスはミニポート ドライバーに Oid を送信することがありますも。

ミニポート ドライバーは、報告する前に準備ができる SMS サブシステムを待機する必要はありません、 **WwanReadyStateInitialized**準備完了状態。 ミニポート ドライバーが、個別に送信する代わりに、 [OID\_WWAN\_SMS\_構成](https://docs.microsoft.com/windows-hardware/drivers/network/oid-wwan-sms-configuration)SMS サブシステムが SMS メッセージを送受信する準備ができたときに通知します。

### <a name="emergency-mode-support"></a>緊急モードのサポート

ミニポート ドライバーでは、処理中に緊急呼び出しサービスをサポートしていることを示す場合[OID\_WWAN\_準備\_情報](https://docs.microsoft.com/windows-hardware/drivers/network/oid-wwan-ready-info)ミニポート ドライバーを設定する必要があります、 **EmergencyMode**のメンバー、 [ **WWAN\_準備\_情報**](https://docs.microsoft.com/windows-hardware/drivers/ddi/content/wwan/ns-wwan-_wwan_ready_info)構造体を**WwanEmergencyModeOn**します。 この場合、ミニポート ドライバーは、MB サービスに登録通知を送信する続行する必要がありますが、サービスは、自動を呼び出しません関連機能を構成します。

SIM が不要になった有効である、おそらく、サブスクリプションが有料、またはサービスが、デバイスが盗難にあった報告されているために、非アクティブ化されているため、検出場所のシナリオであっても緊急呼び出しサービスをサポートするミニポート ドライバーを指定できます。

デバイスの準備の詳細については、次を参照してください。 [OID\_WWAN\_準備\_情報](https://docs.microsoft.com/windows-hardware/drivers/network/oid-wwan-ready-info)します。

 

 





