---
title: リモート NDIS の概念と定義
description: リモート NDIS の概念と定義
ms.assetid: caf01e69-9368-4b9b-a343-ef17a2154bb8
keywords:
- リモートの NDIS WDK のネットワークの概念
- リモートの NDIS WDK のネットワークの定義
- リモートの NDIS WDK のネットワー キング、コントロール チャネル
- リモートの NDIS WDK のネットワーク接続、データ チャネル
- リモートの NDIS WDK のネットワーク接続、停止
- コントロール チャネルの WDK ネットワーク
- コントロール チャネルの WDK ネットワーク, 初期化
- コントロール チャネルの WDK ネットワーク、破棄
- データ チャネルの WDK ネットワーク
- データ チャネルの WDK ネットワーク, 初期化
- データ チャネルの WDK ネットワーク、破棄
- リモートの NDIS WDK ネットワーク、デバイスの状態
- デバイス状態の WDK ネットワーク
- リモートの NDIS WDK のネットワーク接続、フロー制御
- リモートの NDIS WDK ネットワーク、通信チャネルをリセットします。
- 通信チャネルの WDK ネットワーク
- リモートの NDIS WDK のネットワーク接続、メッセージのカプセル化
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 10377ce25890a86721f9f3e52e8af631c991c8a8
ms.sourcegitcommit: 0cc5051945559a242d941a6f2799d161d8eba2a7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/23/2019
ms.locfileid: "63373796"
---
# <a name="remote-ndis-concepts-and-definitions"></a>リモート NDIS の概念と定義





このセクションでは、通信チャネルと、ホストとリモートの NDIS デバイス間の通信に使われる下位レイヤー ドライバー リモート NDIS 要件の概要を示します。 デバイスの状態遷移と初期化、停止、およびリセットなどの主要な操作も、このセクションで説明します。

-   **コントロール チャネル**

    コントロール チャネルは、信頼できるし、シーケンス番号付きの配信を確認する必要があります。 ネットワークのデータ パケットの転送を除くすべての通信に使用されます。 除く、コントロール メッセージが必要なすべて[リモート\_NDIS\_HALT\_MSG](https://msdn.microsoft.com/library/windows/hardware/ff570613)と[リモート\_NDIS\_を示す\_の状態\_MSG](https://msdn.microsoft.com/library/windows/hardware/ff570617)は、ホストによって開始された要求と応答の交換します。 デバイスは、各バスの指定されたタイムアウト期間内に応答する必要があります。

-   **データ チャネル**

    データ チャネルは、専用ネットワーク データ パケットの送信に使用します。 適切なバスに対して定義されている (たとえば、サービスの品質の変動) の複数のサブチャンネル、成る可能性があります。

-   **初期化と破棄**

    コントロールとデータ チャネルが初期化され、設定する適切なバスに対して指定されました。 ホストの送信、[リモート\_NDIS\_初期化\_MSG](https://msdn.microsoft.com/library/windows/hardware/ff570624) NDIS リモート デバイスへのメッセージ。 コネクションレス (接続指向)、その型に関する情報がサポートされているメディア、および応答メッセージのバージョンを提供するリモート NDIS デバイス[リモート\_NDIS\_初期化\_CMPLT](https://msdn.microsoft.com/library/windows/hardware/ff570621).

    ホストまたはリモートの NDIS デバイスのいずれかが経由する通信チャネルの破棄できます、[リモート\_NDIS\_HALT\_MSG](https://msdn.microsoft.com/library/windows/hardware/ff570613)メッセージ。 このメッセージの受信時に、すべての未処理の要求およびパケットが破棄されます。

-   **デバイスの状態の定義**

    Bus レベルの初期化後に、デバイスは RNDIS 初期化されていない状態であると言います。 受信すると、[リモート\_NDIS\_初期化\_MSG](https://msdn.microsoft.com/library/windows/hardware/ff570624)と対応するリモート\_NDIS\_初期化\_CMPLT RNDISの状態\_ステータス\_成功すると、デバイスは RNDIS 初期化状態になります。

    リモートを受け取ると\_NDIS\_設定\_OID の 0 以外のフィルター値を指定する MSG\_GEN\_現在\_パケット\_フィルター、デバイスが、RNDIS データ初期化状態です。

    リモートの状態の RNDIS-データの初期化、受信の場合に\_NDIS\_設定\_MSG、0 を指定する OID の値をフィルター処理\_GEN\_現在\_パケット\_フィルターRNDIS 初期化状態に戻す、デバイスを強制します。

    リモートの受信\_NDIS\_HALT\_MSG またはハード リセット任意に強制的に RNDIS 初期化されていない状態にデバイスの切断またはバスのレベル。

-   **停止**

    RNDIS 初期化または RNDIS データ初期化状態で、デバイスは、いつでも、ホスト コンピューターは、リモートで送信することによって、デバイスのリモートの NDIS 機能を終了可能性があります\_NDIS\_HALT\_デバイスへのメッセージ。

-   **通信チャネルをリセットします。**

    メッセージのタイムアウトなどのエラーが発生したときに、通信チャネルがリセットされます。 ホストは、メッセージを送信して RNDIS 初期化状態で、デバイスがときにいつでもリセットを開始できます[リモート\_NDIS\_リセット\_MSG](https://msdn.microsoft.com/library/windows/hardware/ff570648)デバイスと、デバイスには、応答を送信する必要がありますメッセージのリセットが完了したことです。 たとえば、ホストはメッセージのタイムアウトなど、エラーが発生したときにリセットを開始できます。

    ソフト リセット リセット後に有効であるすべてのハンドル (たとえば、デバイスの接続指向の VCs) を続けることの意味であるに注意してください。 NDIS リモート デバイスでは、リセット プロセスの一部としてすべての未処理の要求やパケットを破棄します。 リモート デバイスのハードウェア コンポーネントの一部をリセットする場合がありますが、通信チャネルの状態は保持します。

    NDIS リモート デバイスでは、再起動を実行する場合、このイベントはその後に"Add"プラグ アンド プレイのイベントを「削除」と同じです。 ホストの NDIS ミニポート ドライバーが停止し、削除、新しいインスタンスが追加され、開始します。 すべてのバス レベルおよびリモートの NDIS 初期化は再実行されます。 リモートの NDIS デバイスが再起動自体不可欠なデバイスの障害が発生した場合。

-   **フロー制御**

    リモートの NDIS デバイスは、ホスト パケットでは、そのデータ バッファーのオーバーフローを防ぐためにフローを制御する必要があります。 フロー制御のプロビジョニングや要件は、バスの特定です。

-   **数値のバイトの順序付け**

    リモート NDIS メッセージ内のすべての数値は、リトル エンディアン形式でコーディングする必要があります (最下位バイト最初)。

-   **NDIS メッセージのカプセル化**

    NDIS メッセージはネイティブのバス メッセージまたはプリミティブにカプセル化する方法については、リモートの NDIS 仕様はありません。

 

 





