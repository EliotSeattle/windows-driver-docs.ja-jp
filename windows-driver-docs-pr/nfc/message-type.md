---
title: ［メッセージの種類］
description: ［メッセージの種類］
ms.assetid: 3C64F85F-D8AE-4448-A75C-965DCCD85216
keywords:
- NFC
- 近距離無線通信
- proximity
- 近距離近接通信
- NFP
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 3597f42b9a0d13552f9e863e9a5e00255281265e
ms.sourcegitcommit: 4b7a6ac7c68e6ad6f27da5d1dc4deabd5d34b748
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/24/2019
ms.locfileid: "72832118"
---
# <a name="message-type"></a>［メッセージの種類］


メッセージ型は、メッセージの内容、意味、および想定されるコンシューマーを定義する、ドットで区切られた null で終わる文字列です。 例を次に示します。

``` syntax
    Windows.contoso.com:t
```

メッセージ型は常にプロトコルコンポーネントで開始し、その後により具体的なサブタイプ情報を指定する必要があります。 NFP プロバイダーの観点からは、プロトコルコンポーネントのみを解析し、プロバイダーによって評価される必要があります。 残りの部分は非透過にすることができ、サブスクライバーとの間でパブリッシュされたメッセージを照合する場合にのみ使用する必要があります。

## <a name="protocol-component"></a>プロトコルコンポーネント


メッセージ型のプロトコルコンポーネントは、メッセージ型の最初のドットの前にあるすべてのものとして定義されます。また、ドットが含まれていない場合は、文字列全体に定義されます。 例として、 **Windows**. contoso .com: t の強調表示された部分は、プロトコルコンポーネントを示しています。

プロトコルコンポーネントは、プロバイダーメッセージ処理の分岐のプライマリレベルを定義する、標準化された一意の文字列です。 この文字列では、大文字と小文字を区別します。 パラメーターは、メッセージの送信時に*Messagedata*の内容と使用するプロトコルを、NFP プロバイダーに示します。

NFC 経由で送受信されるメッセージでは、"NDEF" プロトコルを使用します。 *Messagedata*は、特定の NDEF 標準に従って書式設定されていることを前提としています。

"Windows" プロトコルをサポートするには、すべての NFP プロバイダーが必要です。 "Windows" を指定すると、Windows がメッセージをデコードして理解できるように*Messagedata*が書式設定されます。 ただし、 *Messagedata*は、NFP テクノロジ標準にエンコードされていません。 NFP プロバイダーは、Windows デバイスの受信者に送信できるように、メッセージパラメーターを適切なプロトコルヘッダーにラップする必要があります。

プロトコルコンポーネントは、NFP プロバイダーによって認識およびサポートされる標準化された型に対応します。 NFP プロバイダーは、ドライバーが想定していないプロトコルを呼び出し元が指定した場合にエラーを返す必要があります。 これにより、メッセージが想定されるプロトコルにエンコードされない理由について、呼び出し元の混乱を回避できます。

プロトコルコンポーネントの最大長は250文字です (ドットまたは NULL ターミネータは含まれません)。

## <a name="subtype-component"></a>サブタイプコンポーネント


*MessageType*のサブタイプコンポーネントは、最初のドットの後のすべてのものとして定義されます。 例として、Windows<strong>. contoso .com: t</strong>の強調表示された部分は、サブタイプコンポーネントを示しています。

サブタイプコンポーネントは、Windows またはアプリによって定義できます。 NFP プロバイダーは、このメソッドを使用して、指定された*messageType*のサブスクライバーにのみメッセージを配信する必要があります。

Subtype 文字列では、大文字と小文字が区別され、メッセージの内容が記述されます。

プロバイダーは、少なくとも次の文字をサポートしている必要があります。公開されている型の場合は、次の文字への使用を制限することをお勧めします。

-   英数字

    `[A-Za-z0-9]`

-   さらに、次の英数字以外の文字が含まれます。

    `- . _~ : / ? # [ ] @ ! $ & ‘ ( ) * + , ; = %`

"Windows" プロトコルの場合、サブタイプ文字列は URI 名前付けスキームに従っている必要があります。 これにより、2つの異なる実装者が型を個別に作成しながら、誤って同じ型を使用することを防ぐことができます。

サブタイプコンポーネントの最大長は250文字です (NULL 終端文字は含まれません)。 ただし、一般的な近接テクノロジには短いメッセージの性質があるため、より短い型名をお勧めします。

 

 
## <a name="related-topics"></a>関連トピック
[NFC デバイスドライバーインターフェイス (DDI) の概要](https://docs.microsoft.com/windows-hardware/drivers/ddi/index)  
[近距離無線近接 DDI リファレンス](https://docs.microsoft.com/windows-hardware/drivers/ddi/index)  

