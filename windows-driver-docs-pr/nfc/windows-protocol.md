---
title: Windows プロトコル
description: Windows プロトコル
ms.assetid: 9D28589E-FA19-43F2-BE22-438795807657
keywords:
- NFC
- 近距離無線通信
- proximity
- 近距離近接通信
- NFP
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 938bd8b8bb4f202cd4431662cb3b598af05951c7
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/31/2019
ms.locfileid: "56571057"
---
# <a name="windows-protocol"></a>Windows プロトコル


NFC 対応 NFP プロバイダーの相互運用性を確保するためには、このセクションでは、正確にどのように Windows メッセージする必要があります内にカプセル化、NDEF メッセージを定義します。 このセクションでは、NFP パブリッシュ/サブスクライブ モデルが NDEF メッセージを交換するためのパブリッシュの NFC フォーラム プロトコルにもマップされます。 これらの要件は、NFC として近接テクノロジが提供される場合にのみ適用されます。

## <a name="encapsulation"></a>カプセル化


NFC の相互運用のための Windows メッセージの適切なカプセル化して、次の要件を満たす必要があります。

### <a name="required-actions"></a>必要な操作

-   近接テクノロジが NFC としてアドバタイズされる場合、ドライバーする必要がありますにカプセル化"Windows。&lt;SomeSubType&gt;"、TNF NDEF メッセージ内のパブリケーションのフィールドの 0x03 の値。
    -   NDEF TYPE フィールドでの直接のマッピングを含める必要があります、 &lt;SomeSubType&gt;文字列のワイド文字が 1 バイトとして解釈されます。
    -   パブリケーションのメッセージ ペイロードの直接のバイナリ コンテンツを含める、NDEF ペイロード必要があります。
-   NFC として近接テクノロジが提供されると場合、は、ドライバーがサブスクリプションの"Windows する必要があります一致。&lt;SomeSubType&gt;「0x03 の TNF フィールドの値とは等しくの型フィールドを持つ NDEF メッセージのみ」&lt;SomeSubType&gt;"、ワイド文字として解釈されます、1 バイトを

    ドライバーは、この種類のサブスクライバーに一致した NDEF メッセージのペイロードのみを返す必要があります。

## <a name="windowswritetag-publications"></a>「Windows: タグ書き込み。」 パブリケーション


「Windows: タグ書き込み。」 パブリケーションは、単に、タグを Windows に型指定されたペイロードの書き込みにアプリの手段です。

### <a name="required-actions"></a>必要な操作

-   一般的な"\*: タグ書き込み"他の場所で説明されている要件を適用します。
-   "Windows。&lt;SomeSubType&gt;"にもパブリケーションの要件を適用"Windows: タグの書き込み&lt;。SomeSubType&gt;"のパブリケーション。

## <a name="launchappwritetag-publications"></a>“LaunchApp:WriteTag” Publications


"LaunchApp:WriteTag"文書は、単に、タグを"Windows.windows.com/LaunchApp"メッセージを記述するアプリの手段です。

クライアントでは、文字列の一覧をタブ区切り (または null で区切られた) をこのパブリケーション UTF 16LE でエンコードされたペイロードとして送信します。 最初の文字列では、アプリの引数の一覧を示します。 次の引数文字列と、文字列のペアになります。 次の文字列は、そのプラットフォームの起動に実際のアプリ ID、各ペアの最初の文字列がアプリ ID のプラットフォームの修飾子を定義します。 このメカニズムでは、Windows 以外のアプリ プラットフォームでの相互運用性をサポートしています。

### <a name="required-actions"></a>必要な操作

-   メッセージの種類は、型が"Windows.windows.com/LaunchApp"であるかのようにエンコードする必要があります。
-   ドライバーがステータスの IOCTL を完了する必要があります、バッファーには、3 つ未満の文字列が含まれている場合\_無効な\_パラメーター。
-   ドライバーがステータスの IOCTL を完了する必要があります、バッファーが 3,000 文字より長い場合\_無効な\_パラメーター。
-   バッファーには、1 つ以上の長さ 0 の文字列 (2 つの連続するタブ文字) が含まれている場合、ドライバーがステータスの IOCTL を完了する必要があります\_無効な\_パラメーター。
-   ドライバーがステータスの IOCTL を完了する必要があります、バッファーには、偶数の文字列が含まれている場合\_無効な\_パラメーター。
-   ドライバーは、引数文字列と、プラットフォーム/AppID タプルの一覧にバッファーを解析する必要があります。
-   ドライバーがステータスの IOCTL を完了する必要があります任意のプラットフォームまたは AppID 文字列が 255 文字より長い場合\_無効な\_パラメーター。
-   タグに書き込まれるペイロードの最初の USHORT には、ビッグ エンディアン エンコーディング プラットフォーム/AppID 組数を含める必要があります。
-   すべての文字列は、UTF 16LE から utf-8 に変換する必要があります。
-   ペイロードに書き込まれる文字列の長さはバイトでなければなりません。
-   プラットフォーム/AppID の組ごと、ドライバーはする必要があります、ペイロードに続けて後に続けて AppID 文字列自体の AppID 文字列のバイト単位で長さのバイト自体プラットフォーム文字列プラットフォーム文字列のバイト単位で長さをバイトに追加します。
-   ドライバーは、続けて自体の引数文字列の引数文字列の長さを格納している USHORT を追加する必要があります。

 

 





