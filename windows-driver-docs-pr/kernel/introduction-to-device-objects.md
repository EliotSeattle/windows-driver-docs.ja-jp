---
title: デバイス オブジェクトの概要
description: デバイス オブジェクトの概要
ms.assetid: 310a2344-f3bc-4a7a-8e1e-63232ecd4cbe
keywords:
- デバイスオブジェクト WDK カーネル、デバイスオブジェクトについて
- 複数のデバイスオブジェクト WDK カーネル
- デバイススタック WDK カーネル、デバイススタックについて
- デバイス拡張機能 (WDK カーネル)
ms.date: 06/16/2017
ms.localizationpriority: medium
ms.openlocfilehash: 614f7c1a034147e9ac5a016f3e6eb1ef31ae8dd7
ms.sourcegitcommit: 4b7a6ac7c68e6ad6f27da5d1dc4deabd5d34b748
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/24/2019
ms.locfileid: "72828258"
---
# <a name="introduction-to-device-objects"></a>デバイス オブジェクトの概要





オペレーティングシステムは、デバイス*オブジェクト*別にデバイスを表します。 1つまたは複数のデバイスオブジェクトが各デバイスに関連付けられています。 デバイスオブジェクトは、デバイス上のすべての操作のターゲットとして機能します。

カーネルモードドライバーでは、デバイスごとに少なくとも1つのデバイスオブジェクトを作成する必要があります。ただし、次の例外があります。

-   クラスまたはポートドライバーが関連付けられているミニドライバーは、独自のデバイスオブジェクトを作成する必要はありません。 クラスまたはポートドライバーは、デバイスオブジェクトを作成し、ミニドライバーに操作をディスパッチします。

-   NDIS ミニポートドライバーなど、デバイスの種類固有のサブシステムの一部であるドライバーは、サブシステムによって作成されたデバイスオブジェクトを持っています。

特定のデバイスの種類のドキュメントを参照して、ドライバーが独自のデバイスオブジェクトを作成するかどうかを判断します。

一部のデバイスオブジェクトが物理デバイスを表していません。 ソフトウェア専用ドライバー。 i/o 要求を処理しますが、これらの要求をハードウェアに渡すことはありません。それでも、操作の対象を表すデバイスオブジェクトを作成する必要があります。

ドライバーがデバイスオブジェクトを作成する方法の詳細については、「[デバイスオブジェクトの作成](creating-a-device-object.md)」を参照してください。

デバイスは、通常、デバイスの i/o 要求を処理するドライバースタック内のドライバーごとに1つずつ、複数のデバイスオブジェクトによって表されます。 デバイスのデバイスオブジェクトは、*デバイススタック*に編成されます。 デバイスで操作が実行されるたびに、システムは、デバイススタック内の最上位デバイスオブジェクトのドライバーに[**IRP**](https://docs.microsoft.com/windows-hardware/drivers/ddi/wdm/ns-wdm-_irp)データ構造体を渡します。 各ドライバーは、IRP を処理するか、デバイススタック内の次に小さいデバイスオブジェクトに関連付けられているドライバーに渡します。 デバイススタックの詳細については、「 [WDM デバイスオブジェクトとデバイススタック](wdm-device-objects-and-device-stacks.md)」を参照してください。 Irp の詳細については、「 [irp の処理](handling-irps.md)」を参照してください。

デバイスオブジェクトは、オブジェクトマネージャーによって管理される[**デバイス\_オブジェクト**](https://docs.microsoft.com/windows-hardware/drivers/ddi/wdm/ns-wdm-_device_object)構造で表されます。 オブジェクトマネージャーは、他のシステムオブジェクトに対して使用するデバイスオブジェクトに対して同じ機能を提供します。 具体的には、デバイスオブジェクトにという名前を付けて、名前付きデバイスオブジェクトにハンドルを開くことができます。 名前付きデバイスオブジェクトの詳細については、「[名前付きデバイスオブジェクト](named-device-objects.md)」を参照してください。

システムは、デバイスの拡張機能と呼ばれるデバイスオブジェクトごとに専用の記憶域を提供します。これは、ドライバーがデバイス固有の記憶域に使用できます。 デバイスの拡張機能は、デバイスオブジェクトと共にシステムによって作成および解放されます。 詳細については、「[デバイスの拡張機能](device-extensions.md)」を参照してください。

次の図は、デバイスオブジェクトと i/o マネージャーの関係を示しています。

![デバイスオブジェクトを示す図](images/3devobj.png)

図は、ドライバーライターにとって重要な**デバイス\_オブジェクト**構造のメンバーを示しています。 これらのメンバーの詳細については、「デバイス[オブジェクトの作成](creating-a-device-object.md)」、「デバイスオブジェクトの[初期化](initializing-a-device-object.md)」、および「[デバイスオブジェクトのプロパティ](properties-of-device-objects.md)」を参照してください。

 

 




