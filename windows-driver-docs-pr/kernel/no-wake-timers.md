---
title: No ウェイク アップ タイマー
description: Windows 8.1 以降、ドライバーは低電力状態からのプロセッサを不必要にウェイク アップを回避するために no ウェイク アップ タイマーを使用できます。
ms.assetid: 04CD107B-F196-4FF8-A423-C43CAA9A7EBD
keywords:
- No ウェイク アップ タイマー
- ExXxxTimer ルーチン
- EX_TIMER_NO_WAKE
- EX_TIMER_UNLIMITED_TOLERANCE
- 合体可能なタイマー
- タイマー結合
- KeSetCoalescableTimer
ms.date: 06/16/2017
ms.localizationpriority: medium
ms.openlocfilehash: 4e69f335ee69c22d6385d7a8130b64c1b745a59b
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/31/2019
ms.locfileid: "56551684"
---
# <a name="no-wake-timers"></a>No ウェイク アップ タイマー


Windows 8.1 以降、ドライバーは低電力状態からのプロセッサを不必要にウェイク アップを回避するために no ウェイク アップ タイマーを使用できます。 低電力状態で、プロセッサを保持することでいいえウェイク アップ タイマーは電力消費量を削減し、タブレットやその他のモバイル コンピューターがバッテリの充電で実行できる時間が長くなります。

タイマーは、プロセッサがアクティブな場合にのみ実行状態を切れることができます。 タイマーには、プロセッサは、低電力状態と、タイマーをすぐに期限切れにする必要があります、有効期限に達すると、タイマーは、プロセッサをスリープ解除する必要があります。 ただし、いいえウェイク アップ タイマーが期限に達するし、プロセッサが低電力状態では、このタイマーは、プロセッサ、タイマー以外の理由でスリープ状態を解除するまで期限切れを待機します。 オプションとして、ドライバーは、タイマーがプロセッサを再開する場合は、プロセッサが解除されない (その他の何らかの理由) の最大遅延時間の許容範囲内で、タイマーの期限後、ように、いいえウェイク アップ タイマーを最大遅延時間の許容範囲を指定できます。

ドライバーは、no ウェイク アップ タイマーを使用して、プロセッサがアクティブな状態のときにのみ実行する必要のある重要でない操作を開始できます。 たとえば、ドライバーはいいえウェイク アップ タイマーを使用して、ファイルをメモリ バッファーからの累積状態情報を定期的にフラッシュを可能性があります。 この状態情報には、プロセッサがアクティブな場合にのみ、ドライバーを実行する処理作業について説明します。 プロセッサが低電力状態とステータス情報は生成されません、プロセッサのスリープを解除する必要はありません。

WDM ドライバーが呼び出すいいえウェイク アップ タイマーを作成する、 [ **ExAllocateTimer** ](https://msdn.microsoft.com/library/windows/hardware/dn265179)ルーチン。 この呼び出しで、ドライバー設定 EX\_タイマー\_いいえ\_ウェイク アップのフラグのビット、*属性*パラメーター。

呼び出し、いくつかの締め切り時に、ドライバーが期限切れに no ウェイク アップ タイマーを設定するのには、 [ **ExSetTimer** ](https://msdn.microsoft.com/library/windows/hardware/dn265188)ルーチン。 この呼び出しで、ドライバーは、タイマーは、プロセッサを再開する前に、有効期限に達した後で、no ウェイク アップ タイマーを待機する時間を指定できます。 ドライバーにこの遅延の許容時間を書き込み、 **NoWakeTolerance**内のメンバー、 [ **EXT\_設定\_パラメーター** ](https://msdn.microsoft.com/library/windows/hardware/dn265196)構造体、ドライバーがへの入力パラメーターとして渡して、 **ExSetTimer**ルーチン。 ドライバーが設定されている場合、 **NoWakeTolerance** EX 特殊な値にメンバー\_タイマー\_無制限\_タイマーの許容範囲はプロセッサを再開しないと、そのため、できませんまで期限切れ、プロセッサがその他の何らかの理由。

カーネル モード ドライバー フレームワーク (KMDF) ドライバーまたはユーザー モード ドライバー フレームワーク (UMDF) ドライバーを呼び出すことができます、 [ **WdfTimerCreate** ](https://msdn.microsoft.com/library/windows/hardware/ff550050)いいえウェイク アップ タイマーを作成します。 この呼び出しでは、ドライバーはへのポインターを渡します。 を[ **WDF\_タイマー\_CONFIG** ](https://msdn.microsoft.com/library/windows/hardware/ff552519)をパラメーターとして構造体。 ドライバーを設定することはありません、プロセッサを再開するいいえウェイク アップ タイマーを作成する、 **TolerableDelay**をこの構造体のメンバー、 **TolerableDelayUnlimited**定数。 この定数は、Windows 8.1 および KMDF のバージョン 1.13 または UMDF 2.0 以降がサポートされます。

## <a name="comparison-to-coalescable-timers"></a>合体可能なタイマーの比較


[ **KeSetCoalescableTimer** ](https://msdn.microsoft.com/library/windows/hardware/ff553249)ルーチンは、Windows 7 で導入されました。 このルーチンは、タイマーの有効期限で許可する量の許容範囲を指定するためのドライバーを使用できます。 多くの場合、オペレーティング システムでは、2 つ以上のタイマーの割り込みを 1 つの割り込みに融合にこの情報を使用できます。 複数のタイマーの期限が近づいた互いに、許容範囲ウィンドウが重複する場合は、重複部分のリージョンに 1 つのタイマーの割り込みは、これらのタイマーのすべてのタイミング要件を満たすことができます。

タイマー結合の主な利点は、タイマーの有効期限の間の低電力状態に維持できるように、プロセッサ時間が拡張されているです。 そのため、ドライバーを使用して、タイマーの結合と no ウェイク アップ タイマーのような目的で。

ただし、coalesceable タイマーはいいえウェイク アップ タイマーと異なる方法で動作します。 具体的には、合体可能なタイマーの有効期限に指定された許容範囲は、プロセッサが低電力状態にするかどうかに関係なく適用されますが、no ウェイク アップ タイマーの指定された許容遅延で、プロセッサが、低電力状態が場合にのみに適用します。 、合体可能なタイマーのドライバーは、タイマーが、プロセッサが、プロセッサのときに、タイマーの精度を減少の副作用をされてトレランスを向上の可能性を低く、有効期限の許容範囲の額を増やすことができますアクティブです。 これに対し、no ウェイク アップ タイマーの指定された許容遅延には影響しません、タイマーの精度、プロセッサがアクティブなとき。 ドライバーの数、いいえウェイク アップ タイマーに電力消費を減らすに良いことがあります。

 

 




