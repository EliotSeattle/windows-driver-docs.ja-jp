---
title: パーティション単位のホット リプレース
description: パーティション単位のホット リプレース
ms.assetid: 6d50dc7d-6c3b-41e5-b6eb-aead9833dd1e
keywords:
- 動的なハードウェアの WDK、ホットな置換をパーティション分割
- ハードウェアの WDK 動的、ホットな置換をパーティション分割
- WDK の動的なハードウェア、ホットな置換をパーティション分割
- WDK の動的なハードウェア パーティショニングがホット置き換えます
ms.date: 06/16/2017
ms.localizationpriority: medium
ms.openlocfilehash: 0cac476042cecc13b09c77426a96825edcac7975
ms.sourcegitcommit: 0cc5051945559a242d941a6f2799d161d8eba2a7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/23/2019
ms.locfileid: "63364296"
---
# <a name="hot-replace-of-partition-units"></a>パーティション単位のホット リプレース


動的にパーティション分割可能サーバーの場合は、いつでもハードウェア パーティション単位のパーティションを動的に置き換えることができます。 これは、ホットな置換の操作と呼ばれます。 パーティション単位を置き換えると、オペレーティング システムにハードウェア パーティションが擬似 S4 スリープ状態に保存されます。 オペレーティング システムが、S4 を送信すると、この特別なスリープ状態になるハードウェア パーティション、*パワー セット*システム内のすべてのデバイス ドライバーへの電源管理の要求。 ただし、S4 の一般的な電源状態とは異なり、オペレーティング システムは書き込みません休止状態ファイルをシステムの状態。

デバイス ドライバーが正しく処理することによってこの擬似 S4 スリープ状態をサポートする必要があります、*クエリ power*と*パワー セット*電源管理要求。 デバイス ドライバーを拒否すべきことはありません、*クエリ power*要求。 デバイス ドライバーが、S4 を受信すると*パワー セット*D3 デバイスの電源状態にそのデバイスを移行してすべての I/O 操作を停止する必要がありますが、電源管理を要求します。 これには、現在進行中の中のダイレクト メモリ アクセス (DMA) 転送が含まれます。 低電力状態に、ドライバーのデバイスを配置すること、割り込みを無効にすると、および進行中のすべての I/O 操作を停止して、置換操作は、デバイス ドライバーの影響を与えることがなく続行できます。

デバイス ドライバーのデバイスは、D3 の電源状態では、デバイス ドライバーは、受信した新しい I/O 要求をキューする必要があります。 デバイス ドライバー、I/O 要求をその it に、I/O のタイムアウト期間を使用して処理します。 停止するか、パーティション単位の交換中にキューに置かれた場合、I/O 要求がタイムアウトしないように、このタイムアウト期間になければなりませんのに十分な長さ。 擬似 S4 スリープ状態から再開されると、オペレーティング システム、デバイス ドライバーが、停止、またはキューに登録された I/O 要求の処理を再開することができます。

デバイス ドライバーの電源管理のサポートを実装する方法の詳細については、次を参照してください。[電源管理](implementing-power-management.md)します。

デバイス ドライバーでは、システム ハードウェア、特定のプロセッサなどの一意に識別できるインスタンスにバインドする必要があります。 それ以外の場合、ハードウェア パーティションでそのハードウェアを含むパーティション単位が置き換えられている場合は、ドライバーが失敗する可能性があります。

 

 




