---
title: オブジェクトベース
description: オブジェクトベース
ms.assetid: 53024912-5e6e-4738-81b5-dacc59c22c3f
keywords:
- オブジェクトベースのドライバー WDK カーネル
- オブジェクトの不透明度 WDK カーネル
- 不透明度 WDK カーネル
ms.date: 06/16/2017
ms.localizationpriority: medium
ms.openlocfilehash: b7894fc9d41fee73b7d19b9d2059480cb5312bc2
ms.sourcegitcommit: 4b7a6ac7c68e6ad6f27da5d1dc4deabd5d34b748
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/24/2019
ms.locfileid: "72827776"
---
# <a name="object-based"></a>オブジェクトベース





Microsoft Windows NT ベースのオペレーティングシステムはオブジェクトベースです。 Executive のさまざまなコンポーネントによって、1つまたは複数のオブジェクトの種類が定義されます。 各コンポーネントは、そのオブジェクト型のインスタンスを操作するカーネルモードサポートルーチンをエクスポートします。 コンポーネントが他のコンポーネントのオブジェクトに直接アクセスすることはできません。 別のコンポーネントのオブジェクトを使用するには、コンポーネントがエクスポートされたサポートルーチンを呼び出す必要があります。

この設計では、オペレーティングシステムをポータブルで柔軟なものにすることができます。 たとえば、オペレーティングシステムの将来のリリースには、同じオブジェクトの種類を定義する記録 kernel コンポーネントが含まれている可能性がありますが、内部構造はまったく異なります。 この仮定の記録バージョンのカーネルで、既存のセットと同じ名前とパラメーターを持つ一連のサポートルーチンがエクスポートされた場合、内部的な変更は、既存のシステム内の他の executive コンポーネントとの移植性に影響しません。

同様に、ポータブルで構成可能な状態を維持するために、ドライバーは、WDK で説明されているサポートルーチンとその他のインターフェイスのみを使用して、オペレーティングシステムと相互に通信する必要があります。

オペレーティングシステムと同様に、ドライバーもオブジェクトベースです。 次に、例を示します。

-   *ファイルオブジェクト*は、デバイスへのユーザーモードアプリケーションの接続を表します。

-   *デバイスオブジェクト*は、各ドライバーの論理、仮想、または物理デバイスを表します。

-   *ドライバーオブジェクト*は、各ドライバーの読み込みイメージを表します。

I/o マネージャーは、ファイルオブジェクト、デバイスオブジェクト、およびドライバーオブジェクトの構造とインターフェイスを定義します。

他の executive コンポーネントと同様に、ドライバーは、i/o マネージャーやその他のシステムコンポーネントによってエクスポートされるカーネルモードサポートルーチンを呼び出すことによってオブジェクトを使用します。 カーネルモードサポートルーチンには、通常、各ルーチンが操作する特定のオブジェクトを識別する名前と、各ルーチンがそのオブジェクトに対して実行する操作を指定します。 これらのサポートルーチン名の形式は次のとおりです。

*PrefixOperationObject*

場所

*プレフィックス*サポートルーチンをエクスポートするカーネルモードコンポーネント、およびオブジェクトの種類を定義したコンポーネントを識別します。 ほとんどのプレフィックスには2つの文字があります。

*操作*オブジェクトに対して何が行われるかについて説明します。

*オブジェクト*オブジェクトの種類を識別します。

たとえば、i/o マネージャーの[**IoCreateDevice**](https://docs.microsoft.com/windows-hardware/drivers/ddi/wdm/nf-wdm-iocreatedevice)ルーチンは、物理デバイス、論理デバイス、または仮想デバイスを i/o 要求のターゲットとして表すデバイスオブジェクトを作成します。

あるシステムコンポーネントでは、別のコンポーネントのサポートルーチンを呼び出すルーチンをエクスポートできます。 これにより、ドライバーが行う必要がある呼び出しの回数を減らすことができます。 特に i/o マネージャーは、ドライバーの開発を容易にするために、特定のルーチンをエクスポートします。 たとえば、 **IoConnectInterruptEx**は、 *interrupt オブジェクト*のカーネルサポートルーチンを呼び出します。

### <a href="" id="ddk-object-opacity-kg"></a>オブジェクトの不透明度

システム定義のオブジェクトの中*には、* オブジェクトの内部構造を認識し、オブジェクトに格納されているすべてのデータに直接アクセスできるものがあります。 不透明なオブジェクトを定義するシステムコンポーネントは、ドライバーやその他のカーネルモードコンポーネントがを呼び出してそのオブジェクトを操作できるサポートルーチンをエクスポートします。 ドライバーは、不透明なオブジェクト構造に直接アクセスしません。

**注**   ドライバーの移植性を維持するには、システムによって定義されたオブジェクトを操作するために、ドライバーがシステム指定のサポートルーチンを使用する必要があります。 システムの定義コンポーネントは、オブジェクトの種類の内部構造をいつでも変更できます。

 

 

 




