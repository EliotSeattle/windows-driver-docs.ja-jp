---
title: サンプル デバイスとドライバー構成
description: サンプル デバイスとドライバー構成
ms.assetid: 803262b2-0882-46d0-9c4f-63e59eb4beaa
keywords:
- WDM ドライバー WDK カーネルの構成
- WDM ドライバー WDK カーネル、複数層のドライバー
- 階層型ドライバー WDK カーネル
- ドライバーは、WDK WDM をレイヤーします。
- キーボードの WDK カーネル
- マウスの WDK カーネル
- ハードウェア構成の WDK カーネル
- 中間ドライバー WDK カーネル
ms.date: 06/16/2017
ms.localizationpriority: medium
ms.openlocfilehash: c3c17c4cd31ffddec2b44aad9c177fb2268b8547
ms.sourcegitcommit: 0cc5051945559a242d941a6f2799d161d8eba2a7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/23/2019
ms.locfileid: "63342710"
---
# <a name="sample-device-and-driver-configuration"></a>サンプル デバイスとドライバー構成





このセクションでは、例として、キーボードとマウス デバイスを使用して、ハードウェアとドライバーの構成の間のリレーションシップを説明します。 構成では、その他のデバイスによって異なります。 任意のデバイスの構成については、Windows Driver Kit (WDK) でデバイス固有のドキュメントを参照してください。

### <a href="" id="keyboard-and-mouse-hardware-configurations"></a>

次の図は、キーボードとマウス デバイスの 2 つのハードウェア構成を示しています。

-   システム バスの場所に直接接続されている各

-   キーボードと補助デバイス コント ローラーで接続の両方

![図に示すキーボードとマウスのハードウェア構成](images/2kbdmuhw.png)

### <a href="" id="keyboard-and-mouse-driver-layers"></a>

次の図は、前の図に示すようにデバイスの I/O 操作に対応する階層型のドライバーを示します。

![キーボードとマウスのドライバー レイヤー](images/2samplyr.png)

キーボードとマウス デバイス、どのようなハードウェア構成のドライバーがハードウェアに依存しない操作を処理するシステムのキーボードのクラスとマウス クラスのドライバーを使用できることに注意してください。 これらと呼ばれます*クラス ドライバー*各デバイスの特定のクラスのシステム必要ですが、ハードウェアに依存しないのサポートを提供しているためです。

対応する*ポート ドライバー*は各物理デバイスで必要な I/O 操作を実行するデバイスに固有のサポートを実装します。 システムの (i8042) キーボードおよび補助 x86 ベースのプラットフォームのデバイスのポートのドライバーは、マウスとキーボードの両方のデバイスに固有の操作を管理します。 各デバイスが接続されているとは別にハードウェア構成で、キーボードとマウスのハードウェア構成を示す図のように各システム クラス ドライバー階層化できます経由で別のデバイスに固有のポートのドライバー、またはの 1 つのドライバー各デバイスは、個別のモノリシック (最下位レベル) ドライバーとして実装できます。

PnP フィルター ドライバーなどの新しい中間ドライバーは、キーボードとマウスのドライバーのレイヤーを示す図では、構成に追加でした。 たとえば、キーボード クラス ドライバーの上に追加するフィルター ドライバー可能性がありますフィルター処理キーボード入力プラットフォームに固有の方法で I/O サービスに渡す、サブシステムを要求する前にします。 このようなフィルター ドライバーは、同じ Irp と Ioctl をキーボード クラス ドライバーとして認識する必要があります。

 

 




