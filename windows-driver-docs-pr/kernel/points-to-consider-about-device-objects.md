---
title: デバイス オブジェクトについて考慮すべき点
description: デバイス オブジェクトについて考慮すべき点
ms.assetid: 4c54340b-3b4c-4c67-b28d-fac769e4feb7
keywords:
- デバイスオブジェクト WDK カーネル、設計に関する考慮事項
ms.date: 06/16/2017
ms.localizationpriority: medium
ms.openlocfilehash: bb92f7acf5f5f8d6488c1afcf7774dd657c293c6
ms.sourcegitcommit: 4b7a6ac7c68e6ad6f27da5d1dc4deabd5d34b748
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/24/2019
ms.locfileid: "72827672"
---
# <a name="points-to-consider-about-device-objects"></a>デバイス オブジェクトについて考慮すべき点





カーネルモードドライバーを設計するときは、次の点に注意してください。

-   特定のファイルシステムドライバーを除き、すべての i/o 操作は常にデバイススタックの最上位デバイスオブジェクトに送信されます。

-   デバイススタックは、スタック内の名前付きデバイスオブジェクトの名前を使用するか、その名前のエイリアス (シンボリックリンクやデバイスインターフェイスなど) を使用して識別されます。 WDM 関数ドライバーの場合、名前付きデバイスオブジェクトは、デバイスのバスドライバーによって作成されます。 WDM 以外のドライバーは、独自の名前付きデバイスオブジェクトを作成する必要があります。

-   PnP ハードウェアバスドライバーなどの下位レベルのドライバーは、制御するデバイスごとに、物理デバイスオブジェクト (PDO) を作成します。 PnP 関数ドライバーなどの中間ドライバーは、機能しているデバイスオブジェクト (FDO) を作成します。

    WDM ドライバーは、デバイスの列挙後に PnP マネージャーによって呼び出される[*AddDevice*](https://docs.microsoft.com/windows-hardware/drivers/ddi/wdm/nc-wdm-driver_add_device)ルーチンにデバイスオブジェクトを作成します。

-   最下位レベルおよび中間ドライバーの場合、各デバイスオブジェクトのデバイス拡張機能は、各ドライバーのプライマリ (および頻繁にのみ) のグローバルデータストレージ領域です。 多くのドライバーは、ドライバーによって作成された各デバイスオブジェクトのドライバー定義デバイス拡張機能で、デバイスの状態と、ドライバーが必要とするその他すべてのデバイス固有のデータとリソースを管理します。

    (さらに、IRP に関連付けられているドライバー固有の[i/o スタックの場所](i-o-stack-locations.md)は、何らかの種類のデータについて、操作固有のローカルストレージ領域と見なすことができます)。

特定のドライバーで作成する必要があるデバイスオブジェクトの詳細については、Windows Driver Kit (WDK) のデバイスタイプ固有のドキュメントを参照してください。

 

 




