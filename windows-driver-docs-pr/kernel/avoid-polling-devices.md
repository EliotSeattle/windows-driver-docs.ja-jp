---
title: デバイスのポーリングの回避
description: デバイスのポーリングの回避
ms.assetid: c50c9c6f-c8eb-4e52-854a-3ebc4fdc874c
keywords:
- I/O WDK カーネル、デバイスのポーリング
- デバイスの I/O の WDK のポーリング
- ポーリング デバイス WDK I/O
- ループ カウンターの WDK I/O
- WDK の I/O のカウンター
ms.date: 06/16/2017
ms.localizationpriority: medium
ms.openlocfilehash: eacadeb33d891735c29b35ec5d596a067b119daa
ms.sourcegitcommit: 0cc5051945559a242d941a6f2799d161d8eba2a7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/23/2019
ms.locfileid: "63338630"
---
# <a name="avoid-polling-devices"></a>デバイスのポーリングの回避





デバイス ドライバーがない限り、デバイスのポーリングを避ける必要があります絶対に必要なおよび全体のタイム スライスのポーリングを使用しないでください。 デバイスのポーリングは、計算主体ポーリング ドライバー内で任意のオペレーティング システムは、高価な操作です。 デバイス ドライバは多くのポーリングは、その他のデバイスでの I/O 操作に干渉し、低速で応答していないシステムをユーザーことができます。

実行、めったにありません、デバイスが I/O 操作を開始する準備ができているか、操作が完了したことを確認するか、そのデバイスをポーリングするためのドライバーを必要とする Windows が設計されていますプロセッサと高度な技術的に、デバイスを最近開発しました。

ただし、使用中で一部のデバイスは、古いプロセッサは、ナロー データ バス、低速クロック速度、および同期 I/O を実行する単一のユーザーに単一のマルチタスクのオペレーティング システムが使用する設計されました。 このようなデバイスは、ポーリングまたはその他の方法でそのレジスタを更新するを待っている必要があります。

カウンターをインクリメントする単純なループをコーディングして低速デバイスの問題を解決するために論理するかもしれませんが、それによって「無駄」最小間隔のレジスタをデバイスが更新中にこのようなドライバーが Windows プラットフォーム間で移植できる可能性があります。 ループ カウンターの最大値には、プラットフォームごとにカスタマイズが必要です。 さらに、ドライバーが適切な最適化コンパイラでコンパイルされると場合、は、コンパイラは、ドライバーのカウンター変数とループのインクリメントされる位置削除可能性があります。

**注**  場合は、デバイスのハードウェアの状態を更新中にドライバーをインストールする必要がありますにこの実装のガイドラインに従ってください。ドライバーが呼び出せる[ **KeStallExecutionProcessor** ](https://msdn.microsoft.com/library/windows/hardware/ff553295)デバイスの登録を読み取る前にします。 ドライバーには、停止し、50 マイクロ秒不要になったの停止の間隔を指定する必要があります、一般に、間隔が最小限に抑える必要があります。

粒度、 **KeStallExecutionProcessor**間隔は 1 つのマイクロ秒。

デバイスの状態を更新するには、50 を超える (マイクロ秒) が頻繁に必要な場合は、セットアップを検討して、[デバイス専用のスレッド](device-dedicated-threads.md)ドライバー。

 

 

 




