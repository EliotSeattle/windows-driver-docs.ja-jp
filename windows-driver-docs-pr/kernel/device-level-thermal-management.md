---
title: デバイスレベルの温度管理
description: Windows 8 以降では、カーネルモードデバイスドライバーのデバイスレベルの温度管理がサポートされています。
ms.assetid: C66E0050-04E8-4DCD-B989-94A97558C4CE
ms.localizationpriority: medium
ms.date: 10/17/2018
ms.openlocfilehash: 3bcff98aa98a07689a67688573f90b958bc1501c
ms.sourcegitcommit: 4b7a6ac7c68e6ad6f27da5d1dc4deabd5d34b748
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/24/2019
ms.locfileid: "72838747"
---
# <a name="device-level-thermal-management"></a>デバイスレベルの温度管理


Windows 8 以降では、カーネルモードデバイスドライバーのデバイスレベルの温度管理がサポートされています。 Windows の温度管理には、次のような目標があります。

-   ハードウェアプラットフォームのデバイスがオーバーヒートされないようにします。これにより、デバイスが正しく動作しなくなったり、信頼性が低下したりする可能性があります。
-   コンピューターにユーザーがアクセスできるようにしても、快適にタッチしたり保持したりすることは避けてください。

電源管理と同様に、温度管理は、グローバルな温度条件のコンテキストでデバイスローカルの温度制約を調整することによって、プラットフォーム全体に実装する必要があります。 グローバルな連携を実現することにより、オペレーティングシステムは、ユーザーが実行しているタスクとの干渉を最小限に抑えるように、複数のデバイスに冷却要件を分散させることができます。 熱の要件は、電源管理やユーザーアクションへの応答など、他のシステム要件とインテリジェントにバランスを取ることができます。

これに対して、デバイスの温度レベルをプラットフォーム内の他のデバイスから切り離してローカルに管理しようとしているデバイスドライバーでは、電力の使用状況が悪くなり、ユーザーインターフェイス (UI) が応答しなくなる可能性が高くなります。

グローバルな温度管理に参加するために、デバイスドライバーは、 [\_の\_冷却\_インターフェイス](https://msdn.microsoft.com/library/windows/hardware/hh698265)ドライバーインターフェイスの GUID を実装します。 システムによって提供されるドライバーである Acpi は、システムの起動時に、システム内のデバイスドライバーに対してクエリを実行し、どのインターフェイスがこのインターフェイスをサポートしているかを判断します。 ドライバーは、ドライバーのデバイスの[*AddDevice*](https://docs.microsoft.com/windows-hardware/drivers/ddi/wdm/nc-wdm-driver_add_device)ルーチンが呼び出された後であればいつでも、このインターフェイスに対して、 [**IRP\_\_クエリ\_インターフェイス**](https://docs.microsoft.com/windows-hardware/drivers/kernel/irp-mn-query-interface)要求を受け取ることができます。 この要求に対する応答として、温度管理機能を持つデバイスのドライバーは、[**熱\_冷却\_インターフェイス**](https://msdn.microsoft.com/library/windows/hardware/hh698275)構造へのポインターを提供できます。 この構造体には、ドライバーによって実装されるコールバックルーチンのセットへのポインターが含まれています。 デバイスの温度レベルを管理するために、オペレーティングシステムはこれらのルーチンを直接呼び出します。

このインターフェイスの2つの主要なルーチンは、 [*ActiveCooling*](https://msdn.microsoft.com/library/windows/hardware/hh698235)と[*PassiveCooling*](https://msdn.microsoft.com/library/windows/hardware/hh698270)です。 ドライバーの*ActiveCooling*ルーチンは、デバイスでのアクティブな冷却に関与または disengages します。 たとえば、このルーチンでは、ファンの電源をオンまたはオフにすることができます。 ドライバーの*PassiveCooling*ルーチンは、許容される温度レベルを維持するために、デバイスのパフォーマンスを調整する必要がある程度を制御します。 たとえば、このルーチンは、デバイスを30倍速で実行してオーバーヒートを防ぐために呼び出される場合があります。

既定では、 *ActiveCooling*ルーチンへの最初の呼び出しの前に、アクティブな冷却が解放されます (たとえば、ファンがオフになっています)。 *PassiveCooling*ルーチンへの最初の呼び出しの前に、ドライバーは、冷却制限なしで、完全なパフォーマンスで実行するようにデバイスを構成します。

ドライバーは、デバイスハードウェアの機能に応じて、これらのルーチンの一方または両方を実装できます。 詳細については、「[パッシブおよびアクティブな冷却モード](passive-and-active-cooling-modes.md)」を参照してください。

 

 




