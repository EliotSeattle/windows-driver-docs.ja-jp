---
title: WDM ドライバーの種類
description: WDM ドライバーには、バス ドライバー、関数ドライバー、およびフィルター ドライバーの 3 種類があります。
ms.assetid: 86acc77e-816e-46c8-b63c-2bb10920acd6
keywords:
- WDM ドライバー WDK カーネル, 種類
- WDM ドライバー WDK カーネル, レイヤード ドライバー
- レイヤード ドライバー WDK カーネル
- ドライバー レイヤー WDK WDM
- バス ドライバー WDK WDM
- 関数ドライバー WDK WDM
- フィルター ドライバー WDK WDM
- WDM バス ドライバー WDK
- WDM 関数ドライバー WDK
- WDM フィルター ドライバー WDK
ms.date: 06/16/2017
ms.localizationpriority: High
ms.openlocfilehash: 0bb3c681298fad8ccecdc35842e512058c350a70
ms.sourcegitcommit: b316c97bafade8b76d5d3c30d48496915709a9df
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/13/2020
ms.locfileid: "79437063"
---
# <a name="types-of-wdm-drivers"></a>WDM ドライバーの種類


WDM ドライバーには、バス ドライバー、関数ドライバー、およびフィルター ドライバーの 3 種類があります。




-   [バス ドライバー](bus-drivers.md)では、個々の I/O バス デバイスが駆動され、デバイスに依存しないスロット単位の機能が提供されます。 また、バス ドライバーでは、バスに接続されている子デバイスも検出されて報告されます。
-   [関数ドライバー](function-drivers.md)では、個々のデバイスが駆動されます。
-   [フィルター ドライバー](filter-drivers.md)では、デバイス、デバイスのクラス、またはバスの I/O 要求がフィルター処理されます。

このコンテキストでは、*バス*は、他の物理デバイス、論理デバイス、または仮想デバイスがアタッチされている任意のデバイスです。バスには、SCSI や PCI などの従来のバスに加えて、パラレル ポート、シリアル ポート、および i8042 ポートが含まれます。

ドライバー開発者は、さまざまな種類の WDM ドライバーを理解し、どの種類のドライバーを作成しているかを把握することが重要です。 たとえば、ドライバーで各[プラグ アンド プレイ](implementing-plug-and-play.md) IRP を処理するかどうか、およびこのような IRP をどのように処理するかは、作成するドライバーの種類 (バス ドライバー、関数ドライバー、またはフィルター ドライバー) によって異なります。

### <a href="" id="possible-driver-layers"></a>

次の図は、デバイスのバス ドライバー、関数ドライバー、およびフィルター ドライバーの関係を示しています。

![考えられるドライバー レイヤーを示す図](images/drvlyr.png)

通常、各デバイスには、親 I/O バス用のバス ドライバー、デバイス用の関数ドライバー、およびデバイス用の 0 または 1 つ以上のフィルター ドライバーがあります。 多くのフィルター ドライバーを必要とするドライバーの設計では、最適なパフォーマンスが得られません。

前の図のドライバーは次のとおりです。

1.  "*バス ドライバー*" では、バス コントローラー、アダプター、またはブリッジにサービスが提供されます。 バス ドライバーは必須のドライバーであり、マシン上のバスの種類ごとに 1 つのバス ドライバーがあります。 Microsoft では、ほとんどの一般的なバスに対してバス ドライバーを提供しています。 IHV と OEM では、その他のバス ドライバーを提供できます。

2.  "*バス フィルター ドライバー*" は、通常はバスに価値を付加するもので、Microsoft またはシステム OEM によって提供されます。 バスには、任意の数のバス フィルター ドライバーを含めることができます。

3.  "*下位レベルのフィルター ドライバー*" では、通常はデバイス ハードウェアの動作が変更されます。 これらはオプションであり、通常は IHV によって提供されます。 デバイスには、任意の数の下位レベルのフィルター ドライバーを含めることができます。

4.  "*関数ドライバー*" は、デバイスのメイン ドライバーです。 関数ドライバーは、通常はデバイス ベンダーによって作成され、必須です (デバイスが *RAW モード*で使用されていない場合)。

5.  "*上位レベルのフィルター ドライバー*" は、通常はデバイスに付加価値機能を提供します。 これらはオプションであり、通常は IHV によって提供されます。

次のトピックでは、3 つの一般的な種類の WDM ドライバー (バス ドライバー、関数ドライバー、フィルター ドライバー) について詳しく説明します。 また、サンプルの USB ドライバーを使用する WDM ドライバー レイヤーの例も含まれています。

## <a name="in-this-section"></a>このセクションの内容


-   [バス ドライバー](bus-drivers.md)
-   [関数ドライバー](function-drivers.md)
-   [フィルター ドライバー](filter-drivers.md)
-   [WDM ドライバー レイヤー: 例](wdm-driver-layers---an-example.md)

 

 




