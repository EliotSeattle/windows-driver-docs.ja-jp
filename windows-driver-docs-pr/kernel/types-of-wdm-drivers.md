---
title: WDM ドライバーの種類
description: WDM ドライバーバスドライバー、関数ドライバー、およびフィルタードライバーには、3種類あります。
ms.assetid: 86acc77e-816e-46c8-b63c-2bb10920acd6
keywords:
- WDM ドライバー WDK カーネル、種類
- WDM ドライバー WDK カーネル、レイヤードドライバー
- レイヤードドライバー WDK カーネル
- ドライバーレイヤー WDK WDM
- バスドライバー WDK WDM
- 関数ドライバー WDK WDM
- ドライバーのフィルター (WDK)
- WDM バスドライバー WDK
- WDM 関数ドライバー WDK
- WDM フィルタードライバー WDK
ms.date: 06/16/2017
ms.localizationpriority: High
ms.openlocfilehash: 0bb3c681298fad8ccecdc35842e512058c350a70
ms.sourcegitcommit: c73954a5909ec8c7e189f77fd5813f2eb749687c
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/07/2019
ms.locfileid: "72007653"
---
# <a name="types-of-wdm-drivers"></a>WDM ドライバーの種類


WDM ドライバーには、バスドライバー、関数ドライバー、およびフィルタードライバーの3種類があります。




-   [バスドライバー](bus-drivers.md)は、個々の i/o バスデバイスを駆動し、デバイスに依存しないスロット単位の機能を提供します。 バスドライバーは、バスに接続されている子デバイスも検出して報告します。
-   [関数ドライバー](function-drivers.md)は、個々のデバイスをドライブにします。
-   [フィルタードライバー](filter-drivers.md)は、デバイス、デバイスのクラス、またはバスの i/o 要求をフィルター処理します。

このコンテキストでは、*バス*は、他の物理、論理、または仮想デバイスが接続されている任意のデバイスです。バスには、SCSI や PCI などの従来のバスに加えて、パラレルポート、シリアルポート、および i8042 ポートが含まれています。

ドライバー開発者は、さまざまな種類の WDM ドライバーを理解し、どの種類のドライバーが記述されているかを把握することが重要です。 たとえば、ドライバーが各[プラグアンドプレイ](implementing-plug-and-play.md)irp を処理するかどうか、およびその irp を処理する方法は、書き込まれるドライバーの種類 (バスドライバー、関数ドライバー、またはフィルタードライバー) によって異なります。

### <a href="" id="possible-driver-layers"></a>

次の図は、デバイスのバスドライバー、関数ドライバー、およびフィルタードライバーの関係を示しています。

![使用可能なドライバーレイヤーを示す図](images/drvlyr.png)

通常、各デバイスには、親 i/o バス用のバスドライバー、デバイス用の関数ドライバー、およびデバイス用の0個以上のフィルタードライバーがあります。 多くのフィルタードライバーを必要とするドライバーのデザインでは、最適なパフォーマンスが得られません。

前の図のドライバーは次のとおりです。

1.  *バスドライバー*は、バスコントローラー、アダプター、またはブリッジをサービスします。 バスドライバーは必要なドライバーです。コンピューターのバスの種類ごとに1つのバスドライバーがあります。 Microsoft では、最も一般的なバスのバスドライバーを提供しています。 Ihv および Oem は、他のバスドライバーを提供できます。

2.  *バスフィルタードライバー*は通常、バスに値を追加し、Microsoft またはシステム OEM によって提供されます。 バスには、任意の数のバスフィルタードライバーを含めることができます。

3.  *下位レベルのフィルタードライバー*は、通常、デバイスハードウェアの動作を変更します。 これらはオプションであり、通常は Ihv によって提供されます。 デバイスには、任意の数の下位レベルのフィルタードライバーを含めることができます。

4.  *関数ドライバー*は、デバイスのメインドライバーです。 関数ドライバーは通常、デバイスベンダーによって作成され、デバイスが*raw モード*で使用されている場合を除き、必須です。

5.  一般に、*上位レベルのフィルタードライバー*は、デバイスに付加価値機能を提供します。 これらはオプションであり、通常は Ihv によって提供されます。

次のトピックでは、3つの一般的な種類の WDM ドライバー (バスドライバー、関数ドライバー、フィルタードライバー) について詳しく説明します。 また、サンプルの USB ドライバーを使用する WDM ドライバーレイヤーの例も含まれています。

## <a name="in-this-section"></a>このセクションの内容


-   [バスドライバー](bus-drivers.md)
-   [関数ドライバー](function-drivers.md)
-   [フィルター ドライバー](filter-drivers.md)
-   [WDM ドライバーレイヤー: 例](wdm-driver-layers---an-example.md)

 

 




