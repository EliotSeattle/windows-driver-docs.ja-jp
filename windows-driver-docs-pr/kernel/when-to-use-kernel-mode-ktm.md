---
title: カーネル モード KTM を使用する場合
description: カーネル モード KTM を使用する場合
ms.assetid: deb3372d-19c4-4a17-b499-1da485e89276
keywords:
- カーネル トランザクション マネージャの WDK を使用する場合
- KTM の WDK を使用する場合
ms.date: 06/16/2017
ms.localizationpriority: medium
ms.openlocfilehash: a04e09626fd8034e7738ba9274af7ee7f905f510
ms.sourcegitcommit: 0cc5051945559a242d941a6f2799d161d8eba2a7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/23/2019
ms.locfileid: "63366748"
---
# <a name="when-to-use-kernel-mode-ktm"></a>カーネル モード KTM を使用する場合


カーネル モード コンポーネントとカーネル モードの KTM を使用するには、カーネル モードでのトランザクション操作をサポートするために、またはカーネル モードの KTM を使用するカーネル モード コンポーネントとユーザー モードの KTM を使用するユーザー モード コンポーネント間のトランザクションの操作を調整します。

たとえば、次の状況で KTM を使用する可能性があります。

-   ファイルを開く、ファイルの内容を変更および変更のファイルを保存する必要があります、カーネル モード ドライバーと書き込み操作が失敗した場合はファイルに被害がようにする必要があります。 ドライバーは、トランザクション内でこれらの操作を実行する場合、ドライバーがコピーし、古いファイルの名前を変更、新しいコピーを変更、古いファイルを削除および新しいコピーの名前を変更する必要はありません。

-   1 つまたは複数のデータベースに情報を格納する新しいデータ ストレージ システムを設計します。 システムのコンポーネントは、カーネル モードの場合、または場合によってはユーザー モードとカーネル モードの両方でデータベースにアクセスされます。 すべてのデータベースに対するすべての変更は成功または失敗の単位としてように、システムのトランザクションのクライアントはトランザクション内で、データベース操作をカプセル化します。

 

 




