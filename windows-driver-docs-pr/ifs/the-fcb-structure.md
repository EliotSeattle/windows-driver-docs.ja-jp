---
title: FCB 構造
description: FCB 構造
ms.assetid: feb38b24-c028-4c8d-be45-11d9a4659f8d
keywords:
- ファイル制御ブロック構造 WDK RDBSS
- FCB WDK RDBSS
- データ構造体の WDK ファイル システム
- RDBSS WDK ファイル システム、接続およびファイル構造
- リダイレクトされたサブシステムの WDK のバッファリングをドライブのファイル システム、接続およびファイル構造
- 接続が WDK RDBSS 構造体します。
- ファイル構造 WDK RDBSS
- WDK RDBSS 構造体
- WDK RDBSS の接続情報
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 3680969457f0a74aecf5a0c35fbad29858043361
ms.sourcegitcommit: 0cc5051945559a242d941a6f2799d161d8eba2a7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/23/2019
ms.locfileid: "63344352"
---
# <a name="the-fcb-structure"></a>FCB 構造


## <span id="ddk_the_fcb_structure_if"></span><span id="DDK_THE_FCB_STRUCTURE_IF"></span>


ファイル制御ブロック (FCB) 構造が指す、 *FsContext*フィールドに、ファイル オブジェクト。 すべての FCB を共有する操作は、同じファイルを参照してください。 残念ながら、2 つの異なる名前には、同じファイルが可能性がありますように、名前は、エイリアスであることに SMB サーバーは今すぐ実装されます。 FCB は、ファイル操作の中心点です。 同じ FCB での操作は、同じファイルを実際には、ために、同期は、上位レベルのオブジェクトではなく、FCB に基づいています。

作成されるたびに、FCB 構造は、対応する SRV\_もオープンと FOBX 構造が作成されます。 1 つ以上の SRV\_オープン構造体は、指定 FCB 構造体を関連付けることにより、FOBX 構造体の 1 つ以上の特定の SRV に関連付けられて\_オープン構造体。 ほとんどの場合、1 つの SRV\_オープン構造体は、FCB と関連付けられ、FOBX 構造体の数が指定された SRV に関連付けられている\_オープン構造は 1 です。 空間的局所性と、このような場合、ページング動作を向上させるのに FCB の構造体の割り当ても含まれます割り当て SRV 関連付けられている 1 つの\_開き FOBX 構造体。

RDBSS が関連付けられている FCB、SRV の割り当てを試みます\_オープン、およびページング動作を向上させるためにメモリ内でまとめて FOBX 構造体。 FCB と NET RDBSS は割り当てられません\_ルートのため、構造化、NET\_ルート構造体はページングされないが FCB の構造体は、通常がページング (ある場合を除いてページング ファイル)。

FCB 構造体は、すべての開いているファイルとディレクトリに対応します。 FCB の構造は次の 2 つの部分に分割します。

-   非ページ プールに割り当てられた非ページの一部

-   ページの一部

前者は、非\_ページ\_FCB および、それ以降と呼びます FCB します。

FCB には、対応する非へのポインターが含まれています。\_ページ\_FCB の一部です。 戻りポインターは、非管理\_ページ\_デバッグのための FCB を FCB チェック ビルドします。

非\_ページ\_FCB にはセクション オブジェクトを操作するメモリ マネージャーとキャッシュ マネージャーで使用される特殊なポインターの構造体が含まれています。 これらのポインターの値が、ファイル システムの外部で通常設定することに注意してください。

FCB の構造体には、次のものが含まれています。

-   FSRTL\_共通\_ヘッダー構造

-   署名と参照カウント

-   テーブルの名前と関連付けられている情報

-   関連付けられている NET 戻りポインター\_ルート構造体

-   一連の関連付けられている SRV\_オープン構造体

-   デバイス オブジェクト

-   ネットワークのミニ リダイレクターまたは FCB 構造体の作成者によって要求された追加のストレージ

 

 




