---
title: サービス拒否
description: サービス拒否
ms.assetid: b8b28d42-b680-482a-a7a1-6b2f5614ebfb
keywords:
- 脅威モデルの WDK ファイル システム、サービス拒否が起こる
- セキュリティの脅威モデルの WDK ファイル システム、サービス拒否が起こる
- サービス拒否攻撃の WDK ファイル システム
- WDK のバッファーはファイル システム
- 帯域幅の WDK ファイル システム
- ディスク領域は、WDK のファイル システムを攻撃します。
- 悪意のあるアプリケーション WDK ファイル システム
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 5b9b0dfde7a1429e3282f370876c7b891e19de5e
ms.sourcegitcommit: 0cc5051945559a242d941a6f2799d161d8eba2a7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/23/2019
ms.locfileid: "63359321"
---
# <a name="denial-of-service"></a>サービス拒否


## <span id="ddk_denial_of_service_if"></span><span id="DDK_DENIAL_OF_SERVICE_IF"></span>


サービス拒否には、特定のサービスにアクセスする必要がありますが与えられましたが、実際は拒否されました不適切な場合に発生します。 たとえば、により、システムが使用できなく特権のないアプリケーションを実行できる操作は、サービス拒否では効果的にします。 任意の操作または一連の操作は、これです。

-   システムがクラッシュします。

-   エラーの原因のスレッドやプロセスの途中で終了します。

-   デッドロック状態を作成します。 ステイルメイトでの永続的な状態で待機している 2 つまたは複数のスレッドが停止したときに、デッドロックが発生します。 各スレッドは、いずれかの他のスレッドによって保持されているリソースを待機しています。

-   ライブのロックの条件を作成します。 ライブのロックは、リソース (通常、キューのロック) の取得を待機しているし、そのリソースを所有するスレッドは、同様の進行していない状態であるために、2 つ以上のプロセッサは進行できないときに発生します。

このような問題は多くの場合に、通常のアプリケーションによって悪用されることがある潜在的なバグが含まれているために、ドライバー内で発生します。 この種類の攻撃は、単純なことができから保護するが困難なします。 ドライバーでは、このような問題の一般的な原因は次のとおりです。

-   ユーザーの不適切なバッファーの検証。

-   バッファー オーバーフローやアンダー フロー。

ファイル システムとファイル システム フィルター ドライバーは、このような問題の多くの場合があります。 たとえば、最大\_パスの値は、Win32 サブシステムの歴史的な理由から 260 として定義されます。 多くのドライバー コンポーネントでは、最大パス サイズに対して示すものとします。 残念ながら、これは、NTFS ファイル システム パスの最大が 32,767 の Unicode 文字 (65,534 バイト)。 フィルター ドライバーが、最大値をエンコードする場合\_パスの長さが、そのコード ベースに想定して、フィルター ドライバーによって管理されるパス内でこれを超えるパスを作成するアプリケーションから単純なサービス拒否攻撃が発生します。

もう 1 つの一般的な問題は、アプリケーションは、プライベート FSCTL 要求にユーザー モードのポインターを多くの場合、埋め込みです。 ファイル システムはサービス拒否攻撃の 3 つのカテゴリです。

-   すべての使用可能なディスク領域を消費します。

-   すべての使用可能なディスク帯域幅を使用します。

-   ユーザーにアクセスが必要ファイルへのアクセスをブロックします。

通常、ことはほとんどありませんファイル システムの開発者は、この種の攻撃を防ぐために実行できます。 ただし、管理者がこれらの種類のサービス拒否攻撃の制限を許可するために開発者が使用できる手順があります。

ファイル システムに関連する最も簡単なサービス拒否攻撃では、すべてのディスクの空き領域を使用します。 これを行うアプリケーションを作成することは簡単、結果が広範囲に及ぶ. ディスクに書き込みが長いことができるない場合多くのアプリケーションとサービス、システムでは機能しません。 問題を緩和するテクノロジは、ディスク クォータは、ディスク領域の量は管理者によって適切に使用するユーザーが所有するファイルの使用を制限することができます。 そのため、理にかなってファイル システムを開発するときにディスク クォータのサポートが含まれます。

すべてのディスク帯域幅を消費する悪意のある、または正しく記述アプリケーションもよい。 この種の攻撃の対象の通常のユーザーの結果は、動作が遅くなったりシステムです。 現時点では、オペレーティング システムでは、アプリケーションによって消費される帯域幅を調整するためのメカニズムがありません。 ファイル システムでは、各ファイルを開くオブジェクトとファイル ハンドル用のカーネル メモリも消費されます。 悪意のあるアプリケーションは、継続的に多数のファイルを開くし、メモリがなくなるまで開いたままにしてお試しくださいでした。 これらの問題の主要な問題を緩和する技法は監査と、管理者は、大量の I/O を実行または大量の他のリソースを使用するアプリケーションには、コンピューターを監視できるようにログ記録します。 ここでも、ファイル システムを監査すると、この種類のサービス拒否攻撃を最小限にできるようにサポート対象のファイル システム フィルター ドライバー賢くなります。

悪意のあるアプリケーションは、他のユーザーが通常使用のために必要なファイルにアクセスすることを防ぐしようとすることができます。 これらの問題を最小限に抑える、重要な戦略では、ファイル システムを開発するときに、ファイル オブジェクトに関連付けられているセキュリティ情報が正しく実装されていることを確認します。

最後に、すべてのドライバーでは、使用可能なメモリまたは悪意のあるまたは異常なアプリケーションからの要求に応答には、その他のリソース消費について心配する必要があります。

 

 




