---
title: 情報の漏洩
description: 情報の漏洩
ms.assetid: e5794acb-44f7-4775-854b-69884f60658a
keywords:
- 脅威モデルの WDK ファイル システム、情報漏えいが起こる
- セキュリティの脅威モデルの WDK ファイル システム、情報漏えいが起こる
- 情報漏えい WDK ファイル システム
- ファイル システムの I/O の WDK
- WDK のバッファーはファイル システム
- 漏えい WDK ファイル システム
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 48bc4f32857404df5762707fb097da443d42edc1
ms.sourcegitcommit: fb7d95c7a5d47860918cd3602efdd33b69dcf2da
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/25/2019
ms.locfileid: "67381736"
---
# <a name="information-disclosure"></a>情報の漏洩


## <span id="ddk_information_disclosure_if"></span><span id="DDK_INFORMATION_DISCLOSURE_IF"></span>


ドライバーの情報の漏えいは通常低下バッファー処理によってアプリケーションに情報を公開するのに関連します。 たとえば、バッファー内の I/O 要求で、ドライバー、通常設定によって返されるデータの量を示します、**情報**のメンバー、 *IOStatus*構造体をブロックします。 I/O マネージャーは、その情報を使用して、結果をアプリケーションのバッファーにコピーします。

I/O マネージャーがから追加のデータをコピーする場合は、ドライバーより多くのデータが返されていることを示します、 *SystemBuffer*します。 ただし、負荷のバランスに、ドライバーは入力しなかったかどうか、 *SystemBuffer*、いたしその機微なデータをアプリケーションを公開する可能性のある、アプリケーションにメモリが返されます。 追加情報可能性があります他のシステムに送信されるために使用するデータ バッファーがクリアされなかったため、ネットワーク ドライバーの問題を監視します。 たとえば、ICMP ping 応答には、追加情報があります。 データを誤って公開するには、この問題が非常に現実的と、さまざまなシステムで行われます。

ファイル システムまたはファイル システム フィルター ドライバーは、データにアクセスしないことを許可する必要がありますユーザーにファイル情報の開示の追加のリスクがあります。 これは、さまざまな方法で実行できます。

-   使用するフィルター ドライバー [ **ZwCreateFile** ](https://docs.microsoft.com/windows-hardware/drivers/ddi/content/ntifs/nf-ntifs-ntcreatefile)にファイルを開いて、その中間のハンドルを使用してデータへのアクセスを提供します。 **ZwCreateFile**関数は、既定では、ファイルを開き、要求がカーネル モードから送信されるため、バイパスのセキュリティを確認します。 そのため、このハンドルを使用してアクセスでは、通常、アプリケーションで使用できるはできない情報を開示できます。

    フィルター ドライバーは、アクセス チェックを公開する必要がない、データがない公開することを確認する必要があるかどうかは、フィルター ドライバーは、OBJ を指定する必要があります\_FORCE\_アクセス\_チェックイン、 *ObjectAttributes*のパラメーター、 [ **ZwCreateFile** ](https://docs.microsoft.com/windows-hardware/drivers/ddi/content/ntifs/nf-ntifs-ntcreatefile)関数。

-   (アクセス チェックをバイパスする)、カーネル モードでのハンドルを開いて、OBJ で指定されていないフィルター ドライバー\_カーネル\_を処理します。 このため、作成されたハンドルは、現在のプロセスのハンドル テーブルに格納されます。 データへのフル アクセスを使用してこのハンドルはユーザー モードで表示されます。 悪意のあるアプリケーションは、このような処理を監視とデータへのアクセスで使用することができます。

-   ファイル システムまたはファイル システム フィルター ドライバーは IRP を投稿する\_MJ\_依頼を作成し、システムのワーカー スレッドのコンテキストで処理します。 IRP がシステムのワーカー スレッドによって処理されるときに、作成操作が正常完了システムのスレッドの特権を使用しています。 そのため、これらのシステム特権を使用してアクセスは、通常、アプリケーションで使用できるはできないいる情報を開示することができます。

-   ファイル システムまたは呼び出し元のプロセス、指定されたデータのアクセスを許可することを確認せずにオブジェクト ベースのファイル I/O を実行するファイル システム フィルター ドライバー。

ファイル システムとファイル システム フィルター ドライバーが、一意のロール管理、および情報を保護するためは、情報の保護を保証するために特に注意する必要があります。

 

 




