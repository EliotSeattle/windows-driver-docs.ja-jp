---
title: フィルター マネージャー モデルの利点
description: フィルター マネージャー モデルの利点
ms.assetid: 8e3449dc-7c78-4f78-97c4-89b20001e91b
keywords:
- フィルター マネージャー WDK ファイル システム ミニフィルター、利点があります。
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 787226dc241ee8208c6208f2c3f71e3980d98400
ms.sourcegitcommit: 0cc5051945559a242d941a6f2799d161d8eba2a7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/23/2019
ms.locfileid: "63323421"
---
# <a name="advantages-of-the-filter-manager-model"></a>フィルター マネージャー モデルの利点


## <span id="ddk_returning_status_from_a_minifilter_driverentry_routine_if"></span><span id="DDK_RETURNING_STATUS_FROM_A_MINIFILTER_DRIVERENTRY_ROUTINE_IF"></span>


フィルター マネージャー モデルには、既存のレガシ フィルター ドライバー モデルに対して次のメリットが提供しています。

-   **フィルターの読み込み順序に対する制御の向上。** レガシ フィルター ドライバーとは異なりミニフィルター ドライバーをロード、いつでも、その高度によって決定される適切な場所に接続します。

-   **システムの実行中にアンロードする権限です。** レガシ フィルター ドライバーとは異なりをアンロードできませんミニフィルター ドライバーをアンロードできる、いつでも、必要な場合にアンロードされない自体できなくなること、システムが実行されています。 すべてミニフィルター ドライバーの添付ファイルの安全な取り外しを同期するフィルター マネージャーとミニフィルター ドライバーが読み込まれるを完了する操作を処理します。

-   **必要な操作のみを処理する権限です。** フィルター マネージャーは、コールバック モデル ミニフィルター ドライバーが I/O 操作 (IRP に基づく、高速な I/O、または FSFilter) をフィルター処理の種類を選択できます。 ミニフィルター ドライバーでは、コールバック ルーチンを登録することが I/O 要求のみを受信します。 ミニフィルター ドライバーは、一意の preoperation または postoperation コールバック ルーチン、またはその両方を登録でき、特定種類の I/O のページングなどの操作を無視することができ、I/O をキャッシュします。

-   **カーネル スタックのより効率的に使用します。** フィルター マネージャーは、使用してカーネル スタックの量を削減する最適化され、コールバック モデル ミニフィルター ドライバー スタック上の影響を大幅に軽減できます。 フィルター マネージャーは、再帰的なスタックの下位のドライバーのみが表示されるサポートのフィルターが開始した i/o の I/O の影響を軽減します。

-   **冗長なコードです。** フィルター マネージャーは、さまざまな名前の生成のインフラストラクチャを提供して、1 つ以上のミニフィルター ドライバーで使用するためのファイル名のキャッシュなどの方法でミニフィルター ドライバーに必要なコードの量を減らします。 フィルター マネージャーは、ボリュームにアタッチされ、ボリュームが使用可能なときにミニフィルター ドライバーに通知します。 フィルター マネージャーにすると、ロックもより効率的なエラーが発生しにくく、マルチプロセッサ システムをサポートするために最適化されます。

-   **複雑さが軽減されます。** フィルター マネージャーは、名前付けコンテキストの管理、ユーザー モードとカーネル モードでは、ファイル システムの違いをマスクとの通信などの一般的な機能のサポート ルーチンを提供することで I/O 要求のフィルタ リングを簡略化します。 フィルター マネージャーは、保留中の Irp が列挙し、およびファイル システム スタックへのアタッチなど、ミニフィルター ドライバーに代わって特定のタスクを処理します。

-   **新しい操作の簡単に追加します。** ミニフィルター ドライバーは、対応が I/O 操作にのみ登録するための新しい操作は、既存のミニフィルター ドライバーを損なうことがなくフィルター マネージャーに追加できるをサポートします。

-   **複数のプラットフォームのサポートが向上します。** ミニフィルター ドライバーは、フィルター マネージャーをサポートする Windows の任意のバージョンで実行できます。 ミニフィルター ドライバーは、実行時に使用可能でない I/O 操作の登録する場合、フィルター マネージャーだけ呼び出さないミニフィルター ドライバー操作のためです。 ミニフィルター ドライバーでは、関数は、使用、およびフィルター マネージャー構造が拡張できるように設計されて かどうかをプログラムで判断できます。

-   **ユーザー モード アプリケーションのサポート強化。** フィルター マネージャーでは、ユーザー モードのサービスとミニフィルター ドライバーで動作するコントロールのプログラムの一般的な機能を提供します。 フィルター マネージャー ユーザー モードのライブラリ、Filterlib.dll は、ユーザー モードのサービスまたはコントロールのプログラムとミニフィルター ドライバー間の通信を使用できます。 Filterlib.dll には、管理ツールのインターフェイスも提供します。

 

 




