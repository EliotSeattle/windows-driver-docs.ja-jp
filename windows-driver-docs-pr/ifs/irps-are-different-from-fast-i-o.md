---
title: Irp が高速な I/O によって異なる
description: Irp が高速な I/O によって異なる
ms.assetid: 22b08da2-043e-4724-b8f1-90b337fa222c
keywords:
- Irp WDK ファイル システム
- 高速の I/O とします。Irp WDK ファイル システム
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: fdadd91334ed4dd2f75a1e1aa90c978b85787bf2
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/31/2019
ms.locfileid: "56557986"
---
# <a name="irps-are-different-from-fast-io"></a>Irp が高速な I/O によって異なる


## <span id="ddk_irps_are_different_from_fast_io_if"></span><span id="DDK_IRPS_ARE_DIFFERENT_FROM_FAST_IO_IF"></span>


Irp は、I/O 操作を要求するための既定のメカニズムです。 同期または非同期の I/O、およびキャッシュまたはキャッシュされていない I/O、Irp を使用できます。 Irp が I/O のページングも使用されます。 ファイル システムに適切な Irp を送信することによってページ フォールトを Memory Manager プロセス。

高速の I/O は、具体的には、キャッシュされたファイルでの迅速な同期 I/O は適しています。 高速の I/O 操作で、ファイル システムと記憶域ドライバー スタックをバイパス ユーザー バッファーとシステムのキャッシュ間で直接データが転送されます。 (記憶装置ドライバーは、高速な I/O を使用しないされません)。すべてのファイルから読み取られるデータは、高速の I/O の読み取りまたは書き込み要求を受信したときにシステム キャッシュに常駐場合、要求がすぐに満たされます。 それ以外の場合、生成される 1 つまたは複数の Irp の原因と、ページ フォールトに発生します。 この場合、高速の I/O ルーチンがいずれかを返します**FALSE**、またはページ フォールトが処理されるまでに待機状態に、呼び出し元を格納します。 高速の I/O ルーチンを返す場合**FALSE**、要求された操作に失敗しました、および呼び出し元は IRP を作成する必要があります。

Irp をサポートするために必要なファイル システムとファイル システム フィルターが、高速な I/O をサポートする必要がなくなります。 ただし、ファイル システムとファイル システム フィルターは、高速の入出力ルーチンを実装する必要があります。 返すための高速な I/O ルーチンを定義する必要がありますファイル システムとファイル システム フィルターが高速な I/O をサポートしていない場合でも**FALSE** (つまり、高速の I/O ルーチンが機能を実装しません任意)。 I/O マネージャーは、(ページング I/O) 以外の同期のファイル I/O 要求を受信したときに最初に高速の I/O ルーチンを呼び出します。 高速の I/O ルーチンを返す場合**TRUE**操作が高速の I/O ルーチンによってサービスを提供します。 高速の I/O ルーチンを返す場合**FALSE**、I/O マネージャーが作成し、IRP を代わりに送信します。

ファイル システム フィルター ドライバーは、デバイス オブジェクトをコントロールで I/O をサポートする必要はありません。 ただし、ファイル システムにアタッチされているデバイス オブジェクトをフィルター処理またはドライバー スタックで、次の下位ドライバーにすべての認識できない、または望ましくない Irp を渡すボリュームが必要です。 さらに、ボリュームに関連付けられているデバイス オブジェクトをフィルターでは、FastIoDetachDevice を実装する必要があります。

 

 




