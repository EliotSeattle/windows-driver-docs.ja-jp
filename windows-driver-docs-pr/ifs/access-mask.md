---
title: アクセスマスク
description: アクセスマスク
ms.assetid: eb379196-7a10-4d52-8b81-825550ebbbb0
keywords:
- セキュリティ記述子 WDK ファイルシステム、アクセスマスク
- 記述子 WDK ファイルシステム、アクセスマスク
- WDK ファイルシステムへのアクセスマスク
- 汎用権限 WDK ファイルシステム
- 標準権限 WDK ファイルシステム
- 特定の権限 WDK ファイルシステム
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: ad10a22df1b8e32481b8837247ab7fb7f72191f9
ms.sourcegitcommit: 4b7a6ac7c68e6ad6f27da5d1dc4deabd5d34b748
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/24/2019
ms.locfileid: "72841508"
---
# <a name="access-mask"></a>アクセスマスク


## <span id="ddk_sec_access_mask_if"></span><span id="DDK_SEC_ACCESS_MASK_IF"></span>


アクセスマスクの機能は、アクセス権をコンパクトな形式で記述することです。 アクセスの管理を簡略化するために、アクセスマスクには4つのビットのセットが含まれています。*汎用的な権限*は、関数[**Rtlmapgenericmask**](https://docs.microsoft.com/windows-hardware/drivers/ddi/ntddk/nf-ntddk-rtlmapgenericmask)を使用してより詳細な権限のセットに変換されます。

次の図は、アクセスマスクを示しています。

![アクセスマスクを示す図](images/fssecurity-03.png)

一般権限は、次のいずれかになります。

-   汎用\_読み取り: オブジェクトによって保持されている情報を読み取る権限。

-   汎用\_書き込み—オブジェクトによって保持されている情報を書き込む権限。

-   汎用\_EXECUTE: オブジェクトを実行する権限、またはオブジェクトを検索する権限です。

-   GENERIC\_ALL: オブジェクトの読み取り、書き込み、および実行の権限。

これらの権限を組み合わせることができることに注意してください (汎用\_読み取りと汎用\_書き込みの両方を要求することができます)。結果のマッピングでは、各汎用権限に必要な権限の和集合が要求されます。 このパラダイムは、unix のリソースへのアクセスを制御するために使用される UNIX の "rwx" アクセスビットを模倣します。 アクセスマスクの汎用的な権限により、Windows でのアプリケーション開発が簡略化されます。これらの権限は、さまざまな種類のオブジェクトに対して異なるセキュリティ権限をマスクするためです。

次の一連の*標準権限*は、すべてのオブジェクトの種類に適用できます。

-   DELETE —特定のオブジェクトを削除する権限。

-   読み取り\_コントロール-オブジェクトのコントロール (セキュリティ) 情報を読み取る権限。

-   書き込み\_DAC: オブジェクトのコントロール (セキュリティ) 情報を変更する権限。

-   書き込み\_所有者—オブジェクトの所有者 SID を変更する権限。 所有者は常にオブジェクトを変更する権限を持っていることを思い出してください。

-   SYNCHRONIZE: 指定されたオブジェクトを待機する権限です (オブジェクトの有効な概念であることを前提としています)。

アクセスマスクの下位16ビットは、特定の権限を表します。 これらの特定の権限の意味は、対象のオブジェクトに固有のものです。 ファイルシステムの場合は、ファイルオブジェクトに対する特定の権限が主な対象となります。 ファイルオブジェクトの場合、通常、特定の権限は、ファイルオブジェクトがファイルまたはディレクトリを表しているかどうかによって異なる方法で解釈されます。 ファイルの場合、通常の解釈は次のようになります。

-   **ファイル\_読み取り\_データ**-指定したファイルからデータを読み取る権限。

-   **ファイル\_** は、指定されたファイル (ファイルの既存の範囲内) にデータを書き込む権限である\_データを書き込みます。

-   **ファイル\_** は、指定されたファイルを拡張する権限\_データを追加します。

-   **ファイル\_読み取り\_EA**-ファイルの拡張属性を読み取る権限。

-   **ファイル\_\_EA**-ファイルの拡張属性を変更する権限。

-   **ファイル\_実行**-指定されたファイルをローカルで実行する権限。 リモート共有に格納されているファイルを実行するには、読み取りアクセス許可が必要です。これは、ファイルがサーバーから読み取られ、クライアントで実行されるためです。

-   **ファイル\_読み取り\_属性**-ファイルの属性情報を読み取る権限。

-   **ファイル\_** は、ファイルの属性情報を変更する権限を持つ、\_の属性を書き込みます。

ディレクトリの場合、同じビット値が使用されますが、その解釈は次のような場合に異なります。

-   [**ファイル\_一覧\_ディレクトリ]** -ディレクトリの内容を一覧表示する権限です。

-   **ファイル\_\_ファイルを追加**します。これは、ディレクトリ内に新しいファイルを作成する権限です。

-   **ファイル\_\_サブ**ディレクトリ (ディレクトリ内に新しいディレクトリ (サブディレクトリ) を作成する権限) を追加します。

-   **ファイル\_読み取り\_EA**-指定されたディレクトリの拡張属性を読み取る権限。

-   ファイル\_は、指定されたディレクトリの拡張属性を書き込む権利である**EA\_書き込み**ます。

-   **ファイル\_走査**-ディレクトリ内のオブジェクトにアクセスする権限。 ファイル\_走査アクセス権は、ファイル\_リスト\_ディレクトリアクセス権限とは異なります。 ファイル\_一覧\_ディレクトリアクセス権を保持すると、エンティティはディレクトリの内容の一覧を取得できます。一方、ファイル\_走査アクセス権限では、オブジェクトにアクセスする権限がエンティティに与えられます。 ファイル\_リスト\_ディレクトリアクセス権のない呼び出し元は、既に存在していたファイルを開くことができますが、ディレクトリの内容の一覧を取得することはできません。

-   **ファイル\_\_子を削除**する: 現在のディレクトリ内のファイルまたはディレクトリを削除する権限です。

-   **ファイル\_読み取り\_属性**: ディレクトリの属性情報を読み取る権限。

-   **ファイル\_** は、ディレクトリの属性情報を変更する権限である、\_の属性を書き込みます。

一般権限とファイルオブジェクトの特定の権限の実際のマッピングは、i/o マネージャによって定義されます。 このマッピングは、ファイルシステムによって[**IoGetFileObjectGenericMapping**](https://docs.microsoft.com/windows-hardware/drivers/ddi/ntddk/nf-ntddk-iogetfileobjectgenericmapping)を使用して取得できます。 通常、このマッピングは、ファイルシステムを呼び出す前に i/o マネージャーによる処理を作成\_IRP\_MJ 中に行われます。 ただし、これは特定の操作 (特化された FSCTL 操作など) のセキュリティをチェックするファイルシステムによって行われる可能性があります。

 

 




