---
title: DMA スタイル AGP の処理
description: DMA スタイル AGP の処理
ms.assetid: f43f662f-0036-4725-ad6b-5b836b23a734
keywords:
- DMA スタイル AGP WDK DirectDraw
- 表示メモリ WDK DirectDraw、DMA スタイル AGP
- 非ローカルの表示メモリ WDK DirectDraw、DMA スタイル AGP
- AGP WDK DirectDraw、DMA スタイル AGP
- 描画の AGP サポート WDK DirectDraw、DMA スタイル AGP
- DirectDraw AGP サポート DMA スタイル AGP、WDK の Windows 2000 の表示
- メモリ WDK DirectDraw AGP、DMA スタイル AGP
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: ce2829665656167a0fcd2cd84f32eeb7e7ad67d9
ms.sourcegitcommit: 0cc5051945559a242d941a6f2799d161d8eba2a7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/23/2019
ms.locfileid: "63323726"
---
# <a name="handling-dma-style-agp"></a>DMA スタイル AGP の処理


## <span id="ddk_handling_dma_style_agp_gg"></span><span id="DDK_HANDLING_DMA_STYLE_AGP_GG"></span>


AGP 互換のディスプレイ カードが 2 つの方法のいずれかで AGP メモリを使用できます: 実行モデルまたはダイレクト メモリ アクセス (DMA) モデルを使用します。

-   モデルでは、execute、非ローカルのビデオ メモリにテクスチャがある場合、カード AGP メモリに直接アクセスします。 つまり、AGP メモリからテクスチャは、カードの場合、データを読み取りますテクセル バッキング画面 (サーフェスのシステム メモリのコピー) から直接。

-   モデルでは、DMA、サーフェスの内容移動する必要が明示的に表示のローカル メモリにカードのテクスチャの操作を実行する前にします。

モデルを指すディスプレイ カードのクライアントが転送に表示されることに注意してください。 たとえば、ディスプレイ カード可能性があります自動的にテクセルからデータを移動バッキング画面小さなローカル表示メモリ キャッシュにテクスチャと。 これは、DMA モデルのように思えるかもしれません。 ただし、クライアント アプリケーションに行われて、この転送に関する情報があるないためディスプレイ カードは、実際には、モデルを公開する、実行します。 クライアント アプリケーションがローカルの表示メモリへのバックアップの画面の内容を移動する明示的なアクションを実行するがある場合のみ、ディスプレイ カードと見なされます DMA モデルを公開します。

AGP メモリ処理前のセクションでは、ドライバーを有効にし、AGP 使用状況の実行モデルを公開する方法について説明します。 このセクションでは、ドライバー、アプリケーションには、DMA モデル AGP の使用を公開するために必要、追加の手順について説明します。 ドライバー開発者が、ドライバーを記述するときに execute モデルまたは DMA モデルを公開するかどうかを決定する必要があることに注意してください。 *ドライバーは、モデルの 1 つまたは両方ではなく、その他に公開する必要があります。*

ドライバーから DMA モデルを公開する前に、アプリケーションの作成者に DMA モデルの影響を考慮する重要なは。 ドライバーが公開している場合は、実行モデル AGP サポート、DirectDraw AGP (メモリの非表示) と表示のローカル メモリ内のサーフェスが機能的には同じことを想定しています。 したがってディスプレイ カードできますテクスチャの追加の操作なしの非ローカルまたはローカルの表示メモリからアプリケーションで。 レンダリング状態を設定するには、アプリケーションは、サーフェスが非ローカルまたはローカルの表示メモリ内にいるかどうかに関係なくに直接、テクスチャ サーフェスを識別するハンドルを指定できます。

ただし、ドライバーは、DMA モデルを公開する場合表示の非ローカル メモリ内のサーフェスはローカルの表示メモリからさまざまな機能があります。 そのため、非ローカル メモリ画面からテクスチャを試みる前に、アプリケーションは、ハードウェアが非表示のメモリからのテクスチャの対応かどうかを確認する必要があります。 これは、ドライバーによって公開されている機能を調べることで実現されます。 中にも同様です。

アプリケーションでは、DDSCAPS を指定することによって、AGP メモリを明示的に要求\_DDSCAPS と論理和グラフィックスアクセラレータ\_NONLOCALVIDMEM します。 アプリケーションがメモリの種類を指定しないか、のみ DDSCAPS を指定しますか\_グラフィックスアクセラレータ、ディスプレイの非ローカル メモリとは見なされません。 また、呼び出しがローカルまたは非表示のメモリを指定しない場合、画面は、テクスチャと、デバイスの設定、D3DDEVCAPS\_TEXTURENONLOCALVIDEOMEMORY フラグ、画面を AGP メモリに割り当てられることができます。

これは、ドライバーは、DMA モデルを公開する場合のサーフェスが割り当てられないように AGP メモリからことを意味します。 これは、ドライバーとは対照的公開がモデルでは、どの AGP でメモリが割り当てられる場合でも、アプリケーションに明示的に要求しないことを実行します。 実行モデルを公開するドライバーを使用するアプリケーションをはるかに簡単です。 さらに、execute の model ドライバーことができます、AGP の利点を活用するレガシ アプリケーション DMA モデルのドライバーのみ AGP 明示的に作成された新しいアプリケーションを迅速化します。 かどうかを実行または DMA を公開するモデルを決定するときは、これを考慮する必要があります。

 

 





