---
title: デバイス ページング キュー
description: ビデオ メモリ マネージャーによって公開されるさまざまなサービス完了までに時間の重要な時間がかかることができます。
ms.assetid: AF79ED24-1CE5-4F12-A345-8554AD29057F
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 9a3fc3a20257122d067b9a727d0f4c798fbef565
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/31/2019
ms.locfileid: "56571972"
---
# <a name="device-paging-queues"></a>デバイス ページング キュー


ビデオ メモリ マネージャーによって公開されるさまざまなサービス完了までに時間の重要な時間がかかることができます。 たとえば、常駐割り当てを行うことができます可能性がありますが含まれます、ページング ファイルから長期間使用されていない、割り当ての内容を元に戻す方法します。 予約のグラフィックス プロセッシング ユニット (GPU) ページング エンジンにキューに配置する必要がある現在のページ テーブルの更新が含まれる仮想アドレスや、マッピング、割り当てが既に存在する仮想アドレスできない非常に高価なとしても、しばらくかかる場合があります。完了します。

ビデオ メモリ マネージャーは、完了まで待機するこれらのサービスを要求しているスレッドではなく、非同期のキューを使用してこれらのサービスを実装します。 この非同期キューには、デバイスのページングのキューが呼び出されます。

各グラフィックス デバイスには、さまざまなビデオ メモリ マネージャーの要求がキュー サービスのビデオ メモリ マネージャーのスレッド プールに登録専用のページング キューがあります。 デバイスのページング フェンス オブジェクトは、キューに関連付けられてとすべての操作には、ビデオ メモリ マネージャーは、操作を完了したときに通知を取得する一意のフェンス値が割り当てられているを取得します。 ビデオ メモリ マネージャーによってすぐに実行できる操作は、ページングのフェンス値が 0 のデバイスを返します。

デバイスのページング フェンスは定期的な監視対象のフェンス オブジェクトであり、CPU または GPU 上でこれらのビデオ メモリ マネージャー サービスでは、ユーザー モード ドライバーが待機できます。

一般に、ユーザー モード ドライバーに同期を可能な限りプッシュされ、キュー GPU 待機をコンテキストにそのコンテキストと依存関係が、要求されたビデオ メモリ マネージャーの操作の前に必要があります。 たとえばの仮想アドレスを予約した後、*リソースのタイル*、ユーザー モード ドライバーが GPU エンジンは、タイルのリソースの仮想アドレスの範囲へのアクセスを開始する前に、予約操作が完了するまで待機することを確認する必要があります。

デバイスのページング フェンスへの参照が新しいオブジェクトを取得する**GetDevicePagingFenceObjectCb**デバイス ドライバー インターフェイス (DDI) は、ユーザー モード ドライバーに追加されます。 これは、次に示します。

![デバイスのページングのキュー](images/device-paging-queues.1.png)

 

 





