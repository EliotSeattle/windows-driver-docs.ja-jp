---
title: W バッファリング
description: W バッファリング
ms.assetid: 0f06a709-11dc-4407-a230-85a689fb46a2
keywords:
- Direct3D WDK Windows 2000 の表示、w バッファリング
- WDK Direct3D の w バッファリング
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 0b07bc74ff476fe67d0e02bf009d754b1dbe13a5
ms.sourcegitcommit: 0cc5051945559a242d941a6f2799d161d8eba2a7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/23/2019
ms.locfileid: "63391204"
---
# <a name="w-buffering"></a>W バッファリング


## <span id="ddk_w_buffering_gg"></span><span id="DDK_W_BUFFERING_GG"></span>


通常、z バッファーを使用してパースペクティブに正しい*z*深さの比較と z バッファー内のストレージは、これとは、 *z*ラスタライザー反復子は、平面の多角形を維持するために生成する必要があります。 一部の実装は、z バッファーを表した深度の情報を格納してサーフェスの非表示の消去を実行できる*w*、または*z*目を基準とします。 これは、w バッファーとして参照されています。 これは、クラシックの変換と点灯した頂点の構造体 (TLVERTEX) で指定された頂点 1/w 期間を線形補間で実現できる、ピクセルあたりの逆数を計算し、これを使用して*w*の深さを比較の値と条件付きで、深度バッファーに格納します。 TLVERTEX の詳細については、Direct3D SDK のドキュメントを参照してください。

通常、ハードウェアは、バッファーの浮動小数点値を格納します。 次の有効桁数の形式は、共通です。

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">サイズ</th>
<th align="left">表記</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><p>16 ビット</p></td>
<td align="left"><p>12.4</p></td>
</tr>
<tr class="even">
<td align="left"><p>24 ビット</p></td>
<td align="left"><p>仮数部のない下位バイト IEEE 単精度 float です。</p></td>
</tr>
<tr class="odd">
<td align="left"><p>32 ビット</p></td>
<td align="left"><p>標準的な IEEE 単精度浮動小数点数。</p></td>
</tr>
</tbody>
</table>

 

従来の z バッファーは、CAD または表示のボリューム/ワークスペースが限定的既知のエクステントの作成のツールを使用する技術の市場向けに開発されました。 格納されている深さの値の範囲はそのため、約 2 ~ 10 の相手側/近くの比率 (一番とクリップ面の近くの距離) を許可する、限られた範囲のします。

このようなアプリケーション用に設計された、一般的なハードウェアでは、パースペクティブ修正 z を反復処理し、z バッファーに直接格納されます。 関連する算術演算、によりこのパースペクティブに正しい z いない均等に分散されます z バッファーの範囲内で。 シーンの深さの範囲の最初の 10% で使用されている深度バッファーの範囲の 90% では、100 件の結果の相手側/近く比率を使用します。 これは、ツールのための十分な可能性があります、エンターテイメントまたは外部のシーンのビジュアル シミュレーションの一般的なアプリケーション 1000 ~ 1 または 10000 ~ 1 の相手側/近く比率が必要です。 1000 ~ 1 の比率で 98% の範囲は、深さの最初の 2% で使用されます。 16 ビット深度バッファーを使用する場合に特にサーフェスの成果物を非表示、離れた場所にあるオブジェクトができます。

これに対し、 *w* (または視点からの相対*z*) を使用するビットを近距離と相手側のクリップの間でより均等に割り当てることができる、バッファーがワールド空間の平面します。 キーがあるの比率にまで、アプリケーションは、マイルの最大範囲をサポートしてまだかなり正確な深さの視点のインチ内でバッファリングします。 それでも問題が不要になった近い。

 

 





