---
title: Windows Update を使用してドライバーをインストールする
description: このトピックでは、Windows Update でドライバーが配布されるタイミングを制御する方法について説明します。
ms.date: 06/15/2018
ms.topic: article
ms.localizationpriority: medium
ms.openlocfilehash: 1759b2c34639c6a8798b1bf8d5a0534590be4d3f
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/31/2019
ms.locfileid: "56518835"
---
# <a name="understanding-windows-update-automatic-and-optional-rules-for-driver-distribution"></a>ドライバーの配布に関する Windows Update の自動規則とオプション規則について

> [!NOTE]
> 以下の動作は、Windows 10 Version 1709 以上に適用されます。

この記事では、Windows Update でドライバーが配布されるタイミングを制御する方法について説明します。

[ドライバーを Windows Update に申請する](publish-a-driver-to-windows-update.md)際、**[ドライバーのプロモーション]** セクションには **[Windows のアップグレード中にこのドライバーを自動的に配信しインストールする]** チェック ボックスと **[適用可能なすべてのシステムに対してこのドライバーを自動的に配信しインストールする]** チェック ボックスがあります。

![ドライバーの自動プロモーションのチェック ボックス](images/automatic-driver-promotion-options.png)

最初のチェック ボックスを選択した場合、そのドライバーは、**[動的更新]** (*アップグレード* シナリオに適用) として分類されます。 この場合、OS のアップグレード時に Windows によってこのドライバーが自動的にプリロードされます。

2 つ目のチェック ボックスを選択した場合、ドライバーは **[自動]** (以前の **[重要な更新プログラム]**) として分類されます。選択しなかった場合、このドライバーは **[オプション]** として分類されます。  ドライバーを **[自動]** として Windows Update に公開するには、まず[ドライバーのフライティング](driver-flighting.md)を通じて Microsoft による評価を受ける必要があります。

## <a name="automatic-updates"></a>自動更新

スケジュールされた更新時や、ユーザーが [設定] の **[更新とセキュリティ]** メニューで **[更新プログラムの確認]** をクリックしたときには、システムのデバイスに適用される最上位ランクの **[自動]** ドライバーのみが Windows Update で配布されます。  このようなシナリオで、Windows Update が **[オプション]** ドライバーを配布するのは、デバイスに対応するドライバーがドライバー ストアにない ("ドライバーが見つかりません") 場合や、ローカルで見つかったドライバーが*汎用*ドライバー (基本的なデバイス機能のみに対応する、システム提供のドライバー) のみである場合に限られます。

## <a name="device-plug-in-plug-and-play"></a>デバイス プラグイン (プラグ アンド プレイ)

デバイスを Windows システムに接続すると、[プラグ アンド プレイ (PnP)](../kernel/introduction-to-plug-and-play.md)によって、ローカル システム上に既に存在する、互換性のあるドライバーの検索が行われます。 このようなドライバーが見つかると、Windows によってデバイスにインストールされます。 それ以外の場合、Windows は Windows Update で互換性のあるドライバーを探します。このとき、Windows Update 内で最上位ランクの **[自動]** ドライバーから照合が行われます。 デバイスに対応する **[自動]** ドライバーがなければ、Windows による検索先は最上位ランクの **[オプション]** ドライバーに移ります。

デバイスに対応するドライバーがドライバー ストアにない ("ドライバーが見つかりません") 場合や、ローカルで見つかったドライバーが*汎用*ドライバーのみの場合は、同じロジックが適用されます。

## <a name="device-manager"></a>デバイス マネージャー

ユーザーがデバイス マネージャーで更新されたドライバーを検索すると、Windows は分類 (**[自動]** または **[オプション]**) を問わず Windows Update にある最高ランクのドライバーのインストールを試行します。

## <a name="summary"></a>概要

上記の情報を下の表にまとめました。

最初の列は、**[ドライバーのプロモーション]** セクションにある 2 つのチェック ボックスのうち、どちらがオンになっているかを示します。 1 つ目のチェック ボックス (**[Windows のアップグレード中にこのドライバーを自動的に配信しインストールする]**) は "動的更新"、2 つ目のチェック ボックス (**[適用可能なすべてのシステムに対してこのドライバーを自動的に配信しインストールする]**) は "自動" と示してあります。 Windows Update は省略して WU と記載します。

|[ドライバーのプロモーション] でオンになっているチェック ボックス|Windows Update (スケジュールされた更新時または [更新プログラムとセキュリティ] 経由)|OS アップグレード|新しいデバイスの接続時|デバイス マネージャー|
|-|-|-|-|-|
|自動のみ|〇|X|ローカル ドライバーが見つからないか汎用ドライバーである場合のみ。|〇|
|動的更新のみ|ローカル ドライバーが見つからないか汎用ドライバーであり、WU に適用可能な **[自動]** ドライバーがない場合のみ|〇|ローカル ドライバーが見つからないか汎用ドライバーであり、WU に適用可能な **[自動]** ドライバーがない場合のみ|〇|
|どちらもオン|〇|〇|ローカル ドライバーが見つからないか汎用ドライバーである場合のみ。|〇|
|どちらもオフ|ローカル ドライバーが見つからないか汎用ドライバーであり、WU に適用可能な **[自動]** ドライバーがない場合のみ|X|ローカル ドライバーが見つからないか汎用ドライバーであり、WU に適用可能な **[自動]** ドライバーがない場合のみ|〇|

<!--use word generic? or just condense descriptive text?-->
