---
title: コンテナー Id の実装のトラブルシューティング
description: コンテナー Id の実装のトラブルシューティング
ms.assetid: 9c992f5a-73b6-4567-977f-1cd92862bf60
keywords:
- コンテナー Id の WDK のトラブルシューティング
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 165189d318d5065d594cf721a9b0c958e536bdf6
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/31/2019
ms.locfileid: "56553999"
---
# <a name="troubleshooting-the-implementation-of-container-ids"></a>コンテナー Id の実装のトラブルシューティング


1 つだけを行うには、デバイスとプリンターのユーザー インターフェイス (UI) 内のデバイスの 1 つ以上のインスタンスが表示されている場合、デバイスは、コンテナーの ID 要件を正しく実装しません。 この不適切な実装により、プラグ アンド プレイ (PnP) manager を 1 つまたは複数のデバイス ノードをグループ化 (*devnode*) デバイスの追加のデバイスのコンテナーにします。

このような場合は、次を調べる必要があります。

-   デバイスの列挙は各 devnode は、リムーバブル デバイスの機能を正しく設定しますか。

    これは、デバイスとプリンターの UI 内の複数のデバイス インスタンスの最も一般的な原因です。 デバイスの各 devnode が適切に設定するリムーバブル デバイスの機能であることを確認します。 最上位または*親*として、リムーバブル デバイスの devnode を報告する必要がある、そのすべての子を削除不可として報告する必要があります。 カスタム バス ドライバーの実装は、リムーバブルにそれらを列挙する devnode リレーションシップを正しく割り当てる必要があります。

    デバイス マネージャーは、これらの問題の診断に役に立つツールです。 次の手順に従って、完全な devnode 階層を調べることができます。

    1.  右クリックし、**マイ コンピューター**アイコン、およびクリック**管理**します。 選択と**デバイス マネージャー**システム ツールから、結果の表示で表示します。
    2.  クリックして**接続別**ドロップダウン メニューから。
    3.  デバイスを構成する devnode を見つけます。 各 devnode、ノードを右クリックし、 をクリックし、**プロパティ。**
    4.  **詳細** タブで、**プロパティ**ドロップダウン リストでは、をクリックして**機能**。

    Devnode の機能の値の一覧に CM_DEVCAP_REMOVABLE フラグが含まれている場合、devnode はリムーバブルとマークされます。 プラグ アンド プレイ (PnP) manager devnode と削除できない子用に新しいデバイス コンテナーが作成されます。

    リムーバブル デバイスの機能の詳細については、[コンテナー Id は、リムーバブル デバイスの機能から生成された](container-ids-generated-from-the-removable-device-capability.md)を参照してください。

    デバイス マネージャーの詳細については、[デバイス マネージャーを使用して](using-device-manager.md)を参照してください。

-   デバイスには、コンテナー ID またはハードウェアの他の一意識別子が含まれてでしょうか。

    コンテナー ID またはハードウェアの一意の識別子の形式が指定したバスの形式の要件に準拠していることを確認します。 詳細については、[コンテナー Id は、バスに固有の一意の ID から生成された](container-ids-generated-from-a-bus-specific-unique-id.md)を参照してください。

    デバイスの devnode は、カスタム バス ドライバーによって列挙されますが場合、は、バス ドライバーに正しく応答することを確認、 [ **IRP_MN_QUERY_ID** ](https://msdn.microsoft.com/library/windows/hardware/ff551679)要求**BusQueryContainerID**.

-   デバイス同時にコンピューターに接続されて、1 つ以上のバスによってでしょうか。

    2 つ以上のバスによってデバイスが接続をコンピューターに同時に場合、デバイスの 2 つ以上のインスタンスは、デバイスとプリンターの UI に表示できます。 これらのインスタンスには、デバイスが接続されている各バスの 1 つまたは複数のデバイス インスタンスを配置できます。 この問題を解決するには、デバイスはコンテナー ID またはデバイスに固有の一意の識別子を報告し、各バスに関するレポートを同じ値を確認します。

 

 





