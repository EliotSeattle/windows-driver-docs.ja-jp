---
title: インストールの完了のアクション
description: インストールの完了のアクション
ms.assetid: 52c7f166-ee74-46b6-815b-5d360d829b4c
keywords:
- 完了-インストール アクション WDK デバイスのインストール
- インストーラー - インストールが完了アクション WDK デバイスのインストール
- 完了-インストール ウィザード ページの WDK デバイスのインストール
- クラスのインストーラー WDK デバイス インストールの完了インストール アクション
- 共同インストーラー WDK
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: e0e36609faad21bb34165f91c64eb58822506c4b
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/31/2019
ms.locfileid: "56582632"
---
# <a name="finish-install-actions"></a>インストールの完了のアクション


**注**  ユニバーサルまたはモバイルのドライバー パッケージでは、このセクションで説明する機能はサポートされていません。 参照してください[ユニバーサル INF ファイルを使用して](using-a-universal-inf-file.md)します。

 

*完了-インストール アクション*インストーラーがインストール操作を実行できるようにします。

インストーラーでは、クラスのインストーラー、クラスの共同インストーラーまたは Windows Vista およびそれ以降のバージョン以降では、デバイスの共同インストーラーで発生する完了インストール アクションを指定できます。 完了-インストール操作が管理者のコンテキストで実行*後*完了インストール ウィザードのページを含む、他のすべてのインストール操作が完了します。

Windows 7 で、既定の 完了-インストール アクションが、システムが提供によって提供される[ **SetupDiFinishInstallAction** ](https://msdn.microsoft.com/library/windows/hardware/ff551022)関数。 管理者は、の対話型のコンテキストでは、この関数の処理、 [RunOnce レジストリ エントリ](runonce-registry-key.md)デバイス用に設定されています。 デバイスには、クラスのインストーラーはありませんまたは、クラスのインストーラーがへの応答で ERROR_DI_DO_DEFAULT を返す場合、 [ **DIF_FINISHINSTALL_ACTION** ](https://msdn.microsoft.com/library/windows/hardware/ff543684)要求と、Windows の呼び出し **。SetupDiFinishInstallAction**デバイスのすべてのインストーラーが、完了-インストール操作を完了後します。

Windows 8 およびそれ以降のバージョンでは、完了-インストール アクションは自動的に実行されませんデバイスのインストールの一部として、 [ **SetupDiFinishInstallAction** ](https://msdn.microsoft.com/library/windows/hardware/ff551022)関数は削除されました。 代わりに、管理者 (または、UAC プロンプトを管理者の資格情報を提供できる制限付きユーザー) する必要がありますアクション センターに移動するアイテムに対処して「デバイスのソフトウェアのインストールを完了する」メンテナンス終了インストール動作をするためにします。 それまでは、完了-インストール アクションは実行されません。 たとえば、完了-インストール操作を含むドライバーをインストールするデバイスをユーザーが接続される場合完了インストール アクションは自動的に実行されませんその時点で。 代わりに、完了-インストール アクションは、ユーザーが手動で開始したときに、後で実行されます。 その後、Windows は、完了-インストール アクションを実行すると、操作は、1 つを実行する機会が。 アクションが失敗した場合をもう一度お試しし、後でユーザーを許可するための適切な手順を実行する必要があります。 同様に、ドライバーに付随する必要があるサポート対象のソフトウェアのインストールも実現できます - インストールが完了アクションが、これもインストールされません自動的にします。

または、Windows 8 およびそれ以降のバージョンで、シナリオに応じてことができますを新しいデバイスのアプリ モデルを使用します。 デバイス アプリの詳細についてで見つかります[優れたハードウェア エクスペリエンスをデザイン](https://go.microsoft.com/fwlink/p/?linkid=227833)します。

完了-インストール操作は、次の状況で役に立ちます。

-   完了-インストール ウィザードのページの一部として実行するには設計されていないデバイスに固有のアプリケーションのインストール プログラムを実行します。 このようなインストール プログラムに独自のユーザー インターフェイスがある場合は、完了インストール アクションを使用してアプリケーションをインストールする優れたユーザー エクスペリエンスを提供します。

    たとえば、デバイスの製造元がデバイスに固有のアプリケーションだけでなく、デバイスのドライバーをインストールすることを想定し、デバイスに固有のアプリケーションが独自のユーザー インターフェイスで、独自のインストール プログラム。 最適なユーザー エクスペリエンスを提供するには、デバイスの製造元は、完了インストール アクションとしてインストール プログラムを実行すると。 この方法で Windows デバイスを検出して、ドライバーを検出すると、Windows が、ドライバーをインストールする最初され、アプリケーションのインストール プログラムが実行されます。

-   対話型ユーザー コンテキスト (クライアント側のインストール) でのみ実行可能なインストール プログラムを実行します。 使用して、このようなインストール プログラムの開始など、 **InteractiveInstall**ディレクティブで、 [ **INF ControlFlags セクション**](inf-controlflags-section.md)の[ドライバーパッケージの](driver-packages.md)INF ファイル。

    **注**  以降 Windows Vista では、このようなインストール プログラムでは実行できませんと同様に、Windows の以前のバージョン。 これは、Windows Vista 以降のバージョンの Windows では、クライアント側のインストール内のデバイスのインストールをサポートしていないためにです。 ただし、ドライバー パッケージには、クラスのインストーラー、クラスの共同インストーラーまたはインストール プログラムを起動するデバイスの共同インストーラーが含まれている場合は、このようなインストール プログラムを終了インストール アクションとして実行できます。

     

このセクションでは、さらに詳しく完了-インストール アクションについて説明し、次のトピックが含まれています。

[完了-インストール アクションの概要](overview-of-finish-install-actions.md)

[完了-インストール アクションを実装します。](implementing-finish-install-actions.md)

[完了-インストール アクションを処理する方法](how-finish-install-actions-are-processed.md)

 

 





