---
title: Co-installer をデバイス インストール アプリケーションの起動
description: 共同インストーラーを介したデバイスのインストール アプリケーションの起動のガイドライン
ms.assetid: 94b21eef-5660-4d05-8eb5-da6589c85e65
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: c5bc455a9c54ef9811c6b35ebff8f396b12f5575
ms.sourcegitcommit: 0cc5051945559a242d941a6f2799d161d8eba2a7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/23/2019
ms.locfileid: "63374590"
---
# <a name="guidelines-for-starting-device-installation-applications-through-co-installers"></a>共同インストーラーを介したデバイスのインストール アプリケーションの起動のガイドライン


完了-インストール アクションを提供する共同インストーラーを次のガイドラインに従ってください。

-   デバイスのインストール アプリケーションが終了するまで共同インストーラーは、インストールが 完了 ページまたは 完了-インストール アクションから終了をする必要があります。 共同インストーラーが早期に終了し、別のドライバーの再起動が必要する場合、Windows は、アプリケーションが完了する前にコンピューターを再起動可能性があります。

-   共同インストーラーする必要があります最初の配布中にデバイスのインストール アプリケーションをアプリケーションが存在する場合、サイレント モードでインストール プロセスを開始します。

    共同インストーラー配布メディアが存在しない場合は、ユーザーが、メディアを挿入またはインターネットからデバイスのインストール アプリケーションのダウンロードのいずれかの選択肢に提供する必要があります。 場合は、ユーザーのメディアを挿入することを選択共同インストーラーを新しいメディアの通知を検出しを自動的に終了されて、中の自動実行プロセスでデバイスのインストール アプリケーションを起動できるように。

    共同インストーラーは、dbch_devicetype DBT_DEVTYP_VOLUME と dbcv_flags DBTF_MEDIA に設定する設定と WM_DEVICECHANGED/DBT_DEVICEARRIVAL メッセージをリッスンして、新しいメディアを検出できます。

    詳細については、次を参照してください。[を検出するメディアが挿入または削除](https://go.microsoft.com/fwlink/p/?linkid=161958)します。

-   インストール中に、配布メディアがある共同インストーラーは想定しません。 たとえば、共同インストーラーは共同インストーラー内からメディアを検索するのに %1% DirId を使用する必要がありますしないでください。

    Windows Vista および Windows の以降のバージョンでは、共同インストーラーは、ドライバー ストアにコピーされる後に呼び出されます。 この時点で、配布メディア可能性がありますが削除され、これが理由、中程度のユーザー入力を求めないようにすることが重要です。 たとえば、ユーザーが実行する、[ソフトウェア最初インストール](software-first-installation.md)配布メディアを削除し、デバイスに接続します。 ユーザーがデバイスを初めてプラグインの場合にのみ共同インストーラーが呼び出されます。

-   共同インストーラーは、デバイスのインストール アプリケーションをダウンロードする Windows Internet Explorer を起動する場合は、悪意のあるコードに対してユーザーを保護するための機能を持つ保護モードで起動にする必要があります。

    保護モードで Internet Explorer を起動する方法の詳細については、次を参照してください。[を理解すると、保護モードの Internet Explorer での作業](https://go.microsoft.com/fwlink/p/?linkid=133163)します。

共同インストーラーの詳細については、次を参照してください。[共同インストーラーの作成](writing-a-co-installer.md)です。

 

 





