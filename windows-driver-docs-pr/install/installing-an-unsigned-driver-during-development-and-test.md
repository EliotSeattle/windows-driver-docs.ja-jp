---
title: 開発およびテスト中に、署名されていないドライバーをインストールします。
description: 開発およびテスト中に、署名されていないドライバーをインストールします。
ms.assetid: b7b08d5a-40cf-498f-8645-6b02d803f62f
keywords:
- ドライバー WDK、署名されていないドライバーの署名
- ドライバー WDK、署名されていないドライバーの署名
- デジタル署名 WDK、署名されていないドライバー
- WDK、署名されていないドライバーの署名
- テスト署名ドライバー WDK、署名されていないドライバー
- 署名されていないドライバーのインストールの WDK ドライバーの署名
- カーネル デバッガー WDK ドライバーの署名
- カーネル モード ドライバーの WDK の署名
- WDK ドライバー署名のキー F8
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 03d34534f308fc97938ac456eb8948f95ab250e8
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/31/2019
ms.locfileid: "56557490"
---
# <a name="installing-an-unsigned-driver-during-development-and-test"></a>開発およびテスト中に、署名されていないドライバーをインストールします。


既定では、64 ビット バージョンの Windows Vista と Windows の以降のバージョンがカーネル モードのドライバーの読み込み、カーネルがドライバーの署名を検証できる場合にのみ。 ただし、初期のドライバーの開発中、およびテスト自動化されていないにこの既定の動作を無効にできます。 開発者は、一時的に有効なドライバーの署名の読み込み時の強制を無効にするのに、次のメカニズムのいずれかを使用できます。 ただし、プラグ アンド プレイ (PnP) がインストールされているドライバーのテストを完全に自動化、[カタログ ファイル](catalog-files.md)のドライバーを署名する必要があります。 Windows Vista および Windows の以降のバージョンの表示、ドライバーの署名されていないドライバーをドライバーのインストールを承認するためにシステム管理者を必要とする ダイアログ ボックスの署名、せず、すべてのユーザーができない可能性があるため、ドライバーの署名が必要です、ドライバーをインストールして、デバイスを使用してから必要な権限。 Windows Vista および Windows の以降のバージョンでは、この PnP ドライバー インストールの動作を無効にできません。

### <a name="use-the-f8-advanced-boot-option"></a>**F8 の 詳細ブート オプションを使用して、**

Windows Vista および以降のバージョンの Windows F8 高度なブート オプション サポート--「を無効にするドライバー署名の強制」--をカーネル モード ドライバー用のシステムの現在のセッションでのみの読み込み時の署名の強制を無効にします。 この設定は、システムの再起動後は保持されません。

### <a href="" id="attach-a-kernel-debugger-to-disable-signature-verification"></a> 署名の検証を無効にするカーネル デバッガーをアタッチします。

開発またはテスト コンピューターに、アクティブなカーネル デバッガーをアタッチすると、カーネル モード ドライバーの読み込み時の署名の強制が無効にします。 このデバッグ構成を使用するには、開発、デバッグのコンピューターを接続またはコンピューターのテストしカーネルの開発でのデバッグを有効にすることもコンピューターをテストするには、次のコマンドを実行します。

```cpp
bcdedit -debug on
```

BCDEdit を使用して、ユーザーは、システムの Administrators グループのメンバーであるし、管理者特権のコマンド プロンプトからコマンドを実行する必要があります。 管理者特権のコマンド プロンプト ウィンドウを開くには、デスクトップ ショートカットを作成*Cmd.exe*、ショートカットを右クリックし、選択、**管理者として実行**します。

### <a href="" id="enforcing-kernel-mode-signature-verification-in-kernel-debugging-mode"></a> カーネル デバッグ モードでカーネル モードの署名の検証を適用します。

ただし、カーネル デバッガーをアタッチするには、まだ読み込み時の署名の強制を維持する必要もある必要があります、開発者の場合があります。 たとえば、ドライバー スタックに読み込みに失敗した、(フィルター ドライバーの場合) など、署名されていないドライバーがインストールされているときスタック全体を無効にする可能性があります。 デバッガーをアタッチでは、未署名のドライバーを読み込む、ため、デバッガーがアタッチされていると、すぐに消える問題が表示されます。 この種の問題のデバッグは、困難な場合があります。

このような問題のデバッグを容易にするには、[カーネル モード コードの署名ポリシー](kernel-mode-code-signing-policy--windows-vista-and-later-.md)次のレジストリ値をサポートしています。

```cpp
HKLM\SYSTEM\CurrentControlSet\Control\CI\DebugFlags
```

このレジストリ値の型は[REG_DWORD](https://docs.microsoft.com/windows/desktop/SysInfo/registry-value-types)、次のフラグの 1 つ以上のビットごとの OR に基づいて値を割り当てることができます。

<a href="" id="0x00000001"></a>**0x00000001**  
このフラグの値は、ドライバーが署名されていない場合に、デバッガーを中断するカーネルを構成します。 開発者またはテスターを入力して、未署名のドライバーをロードを選択できます**g**デバッガー プロンプトでします。

<a href="" id="0x00000010"></a>**0x00000010**  
このフラグの値は、カーネル デバッガーの存在を無視して、常に符号なしのドライバーの読み込みをブロックするを構成します。

このレジストリ値では、レジストリが存在しないか、前に説明したフラグに基づいていない値を持つ場合、カーネルは、カーネル モード ドライバーが署名されているかどうかに関係なくデバッグでのドライバーを常に読み込みます。

**注**  このレジストリ値は既定では、レジストリに存在しません。 カーネル モードの署名の検証をデバッグするには、値を作成する必要があります。

 

 

 





