---
title: UMDF ドライバーを作成する利点
description: このトピックでは、カーネル モード ドライバーではなくユーザー モード ドライバー フレームワーク (UMDF) ドライバーを作成する利点について説明します。
ms.assetid: 28db2121-a5d4-4375-8081-52709416efb0
keywords:
- ユーザー モード ドライバー フレームワーク WDK の利点があります。
- UMDF WDK、利点があります。
- ユーザー モード ドライバー WDK UMDF、利点があります。
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 355d215fb633b51e6e629833ab7fb8699963b0bb
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/31/2019
ms.locfileid: "56577786"
---
# <a name="advantages-of-writing-umdf-drivers"></a>UMDF ドライバーを作成する利点


このトピックでは、カーネル モード ドライバーではなくユーザー モード ドライバー フレームワーク (UMDF) ドライバーを作成する利点について説明します。

UMDF ドライバーを記述するときに、次の中から活用できます。

-   UMDF ドライバーは、実行されるプロセスのアドレス空間のみにアクセスしているために、オペレーティング システムの安定性に貢献します。
-   UMDF ドライバーが実行されるため、 **LocalService**アカウント、ユーザーのデータまたはシステム ファイルへのアクセスが限定されています。
-   ユーザー モード ドライバーは、カーネル モード ドライバーよりもはるかに単純な環境で動作します。 たとえば、カーネル モード ドライバーは、IRQL のアカウント、ページ フォールト、およびスレッド コンテキストを考慮する必要があります。 ユーザー モードで、ただし、これらの問題はありません。 ユーザー モード ドライバーは常に要求しているプロセスから別のスレッドで実行され、ページ フォールトを常に実行できます。

-   UMDF バージョン 2 では、ほとんどの部分で KMDF と同等の機能を提供します。 完全な比較についてを参照してください。 [KMDF に UMDF 2 機能を比較する](comparing-umdf-2-0-functionality-to-kmdf.md)します。
-   UMDF バージョン 2 では、KMDF と UMDF 間の変換が容易になります。 参照してください[KMDF ドライバーを 2 の UMDF ドライバー (およびその逆) に変換する方法について](how-to-generate-a-umdf-driver-from-a-kmdf-driver.md)します。
-   UMDF ドライバーは、ユーザー モード デバッガーを使用すると、以降 UMDF バージョン 2 では、カーネル モード デバッガーによってデバッグできます。

-   KMDF UMDF バージョン 2 以降と Wdfkd.dll デバッガー拡張機能のコマンドを使用できます。 詳細については、次を参照してください。[デバッガー拡張機能](debugger-extensions-for-kmdf-drivers.md)します。

WDF モデル全体の基本的な目的は、デバイスのハードウェアに注目して、ほとんどのドライバーに共通のタスクを実行するコードの記述を回避できるように、インテリジェントな既定値を指定します。

この目標を達成するために「オプトイン」ごとにドライバーを使用するために、フレームワークが設計されています。 UMDF ドライバーを記述するときに、デバイスに影響するイベントのみのコールバック ルーチンを提供します。 たとえば、一部のデバイスでは、電源を入れて後すぐとオフにする直前に介入が必要です。 このようなデバイスのドライバーでは、フレームワークからこれらのタイミングで呼び出されるコールバック関数を実装できます。

ドライバーには、そのデバイスがデバイスに固有のサポートが必要ですイベントのみを処理するコードが含まれています。 Framework の既定では、その他のすべてのイベントを処理できます。

さらに、フレームワークは、デバイスが省電力状態にあるし、デバイスが動作状態に戻った後のディスパッチが再開されるときに要求のディスパッチを停止するように、ドライバーは、I/O 要求のキューを構成できます。 同様に、I/O 要求では、デバイスが省電力状態が受信されると、そのフレームワークで、デバイスをオンに自動的にできます。

 

 





