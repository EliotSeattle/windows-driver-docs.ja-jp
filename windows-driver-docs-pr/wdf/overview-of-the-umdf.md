---
title: UMDF の概要
description: このトピックでは、UMDF コンポーネントの概要を示し、ドライバーがシステム提供のコンポーネントと対話する方法について説明します。
ms.assetid: b36c9fad-1963-4d29-a1e7-890de77fed50
keywords:
- ユーザー モード ドライバー フレームワーク WDK、UMDF について
- UMDF WDK、UMDF について
- ユーザー モード ドライバー WDK UMDF、UMDF について
- ホストの WDK UMDF ドライバー プロセス
- リフレクター WDK UMDF
- ドライバー マネージャーの WDK UMDF
- WDK UMDF のスタック
- デバイスは、WDK UMDF をスタックします。
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 92d7edbe76a1a8bd8a77d4e1ca0a685583e79656
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/31/2019
ms.locfileid: "56582266"
---
# <a name="overview-of-umdf"></a>UMDF の概要


このトピックでは、ユーザー モード ドライバー フレームワーク (UMDF) コンポーネントの概要を示し、ドライバーがシステム提供のコンポーネントと対話する方法について説明します。 両方の UMDF バージョン 1 と 2 に適用されます。

UMDF ドライバーがハードウェアの機能を抽象化、ユーザー モード環境で実行して、さまざまなサービスにアクセスできます。 UMDF ドライバーは、デバイスを管理するドライバーのスタックの一部として動作します。 ファイル システム ドライバー、ディスプレイ デバイスのドライバー (完全な表示しない表示専用のディスプレイ デバイス)、および印刷ドライバーには、UMDF ドライバーをすることはできません。

UMDF ドライバーは、次のシステム提供のコンポーネントと対話します。

-   ドライバーのホスト プロセス

    ドライバーのホスト プロセスは、ベンダーから提供された UMDF ドライバーとフレームワークの Dll を読み込み、ユーザー モード ドライバーでは、実行環境を提供し、ユーザー モードのスタックのドライバーの間でメッセージをルーティングします。 詳細については、[UMDF ドライバーのホスト プロセス](umdf-driver-host-process.md)を参照してください。

-   ドライバー マネージャー

    ドライバー マネージャーは、Wudfhost ドライバーのホスト プロセスのすべてのインスタンスを管理する Windows サービスです。 ドライバー マネージャーを起動し、各ドライバーのホスト プロセスに関する情報を追跡します。 各ホストは、ドライバー マネージャーの子プロセスです。 システムごとに 1 つだけのドライバー マネージャーが存在します。 ドライバー マネージャーは、UMDF の最初のデバイスのインストール時に開始し、その後、システムで実行されます。

-   リフレクター

    Reflector は、プロセス (およびユーザー モード デバイス スタック) の通信には、アプリケーションとドライバーのホストを許可するカーネル モード ドライバーです。 Reflector は、デバイスのインスタンスとハンドルのプラグ アンド プレイ (PnP) および各デバイス インスタンスに関連付けられた power I/O 要求ごとに別のデバイス オブジェクトを作成します。 リフレクターを通じて、アプリケーションとドライバーのホスト プロセスの間のすべての通信が行われます。 詳細については、[アーキテクチャの UMDF](detailed-view-of-the-umdf-architecture.md)を参照してください。

特定のデバイスのすべての関数とフィルター ドライバーは、同じドライバーのホスト プロセスで実行する必要がありますが、複数のホスト プロセスを同時に実行されることができます。

次の図は、ホスト プロセスのドライバー、ドライバー マネージャー、および reflector がユーザー モードまたはカーネル モードの境界を越えて通信する方法を示します。

![reflector でデバイス オブジェクトと下矢印を含む umdf コンポーネント](images/umdfarch3.gif)

 

 





