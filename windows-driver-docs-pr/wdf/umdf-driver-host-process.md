---
title: UMDF ドライバーのホスト プロセス
description: このトピックでは、ユーザー モード ドライバー フレームワーク (UMDF) ドライバーのホスト プロセスとその他の UMDF コンポーネントと連動するしくみについて説明します。 両方の UMDF バージョン 1 と 2 に適用されます。
ms.assetid: 8b469c91-d33d-4fb0-8c7d-e90f86a1e339
keywords:
- ホストの WDK UMDF ドライバー プロセス
- ユーザー モード ドライバー フレームワーク WDK のアーキテクチャ
- UMDF WDK、アーキテクチャ
- ユーザー モード ドライバー WDK UMDF、アーキテクチャ
- WDK UMDF のアーキテクチャ
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: c32486dfe75292f29c2e34fb807574f8ecc0fff4
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/31/2019
ms.locfileid: "56531781"
---
# <a name="umdf-driver-host-process"></a>UMDF ドライバーのホスト プロセス


このトピックでは、ユーザー モード ドライバー フレームワーク (UMDF) ドライバーのホスト プロセスとその他の UMDF コンポーネントと連動するしくみについて説明します。 両方の UMDF バージョン 1 と 2 に適用されます。

ドライバーのホスト プロセス (Wudfhost.exe) は、ドライバー マネージャーのサービスの子プロセスです。 Wudfhost.exe が通常実行、 *LocalService*をローカル コンピューター上の最小限の特権を持つアカウント。 Wudfhost.exe のインスタンスは、1 つまたは複数 UMDF ドライバー Dll だけでなく、framework Dll を読み込みます。 ドライバーのホスト プロセスは、ドライバー マネージャー、reflector だけでなく I/O ディスパッチ、ドライバーの読み込み、ドライバーのレイヤーとスレッド プールの管理、プロセス間通信 (IPC) を処理するランタイム環境を提供します。

ドライバー マネージャーは、次のように、Wudfhost.exe の複数の同時実行インスタンスを作成できます。

-   UMDF ドライバーが version 1.11 付きでビルドされた、Windows 8 で実行している場合は、既定では、ドライバー マネージャーを作成します Wudfhost 複数デバイス スタックをホストできるは 1 つのインスタンス。 この手法と呼ばれる*デバイス プール*します。

    場合は、UMDF ドライバーでは、バージョン 2 で作成されたが、Windows 8.1 または Windows 10 で実行されると、プールがも既定でオンです。

-   ドライバーが UMDF 1.9 またはそれ以前のバージョンでビルドされている場合、フレームワークは各デバイス スタックのホスト プロセス (Wudfhost) の個別のインスタンスを作成します。

デバイスのプールに関する詳細は、[デバイスの UMDF ドライバーでプールを使用して](using-device-pooling-in-umdf-drivers.md)を参照してください。

Wudfhost.exe、内では、それぞれ UMDF ドライバーは、独自のアドレス空間で実行され、アプリケーションのプロセスとドライバーのホストの他のインスタンスから分離されたため。

UMDF バージョン 1 と 2 同時に、同じホスト プロセスまたは別のホスト プロセスでビルドされたドライバーを読み込むことができます。 たとえば、既定では、ドライバー マネージャーは読み込む UMDF 1.11 ドライバーとまたはそれ以降、Windows 8.1 を実行するコンピューターで同じホスト プロセス内で 2 の UMDF ドライバー。

ただし、同じデバイス スタックの UMDF バージョン 1 と 2 のドライバーを読み込むことができません。 たとえば、バージョン 2 関数の UMDF ドライバー上 UMDF バージョンの 1 つのフィルター ドライバーを読み込むことができません。

ドライバー ホスト UMDF の他のコンポーネントに関連付ける方法を示す図を参照してください[概要の UMDF](overview-of-the-umdf.md)します。

 

 





