---
title: パラレル ポートの作成と開始
description: パラレル ポートの作成と開始
ms.assetid: 75c82353-6490-47e9-9278-ec0981af9ae9
keywords:
- パラレルポート WDK、作成
- パラレルポート WDK、開始
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 3414e9b7c71b109062c8c7d6d1078f76a92c6291
ms.sourcegitcommit: 4b7a6ac7c68e6ad6f27da5d1dc4deabd5d34b748
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/24/2019
ms.locfileid: "72831511"
---
# <a name="creating-and-starting-a-parallel-port"></a>パラレル ポートの作成と開始





プラグアンドプレイマネージャーは、並列ポートに対してシステムが提供する関数ドライバーのプラグアンドプレイサポートを使用して、パラレルポートを表す関数デバイスオブジェクト (*FDO*) を作成および開始します。

パラレルポート関数ドライバーは、次の処理を実行します。

-   FDO という名前のを作成します。

    パラレルポートのデバイス名の形式は "\\Device\\ParallelPortx" です。ここで、x はポート番号を表す整数値です。 パラレルポート関数ドライバーは、パラレルポートのプラグアンドプレイレジストリキーの下にある PortName エントリ値 (REG\_SZ) を使用して、ポート番号を決定します。 PortName の形式が "LPTn" の場合、"ParallePortx" の x は (n-1) の値に設定されていることに注意してください。 たとえば、"ParallelPort0" は "LPT1" に関連付けられています。 PortName の形式が正しくない場合、デバイスオブジェクトは作成されません。

    "ParallelPortx" デバイス名は保証されないことに注意してください。 Microsoft では、 [**IoRegisterPlugPlayNotification**](https://docs.microsoft.com/windows-hardware/drivers/ddi/wdm/nf-wdm-ioregisterplugplaynotification)を使用して、デバイスデバイスインターフェイスの\_並列\_GUID の到着を通知することをお勧めします。

-   \_パラレルポートに対して\_デバイスインターフェイスの GUID を登録して有効にします。

-   プラグアンドプレイマネージャーによって送信されたリソースを検証します

-   パラレルポートに接続されている1284.3 デバイスを初期化します

    パラレルポート関数ドライバーは、デイジーチェーンデバイスの数をカウントし、各デバイスにデイジーチェーン ID を割り当てます。 Microsoft Windows 2000 では、ドライバーは 0 ~ 3 の Id を割り当てます。 Windows XP では、ドライバーは ID として0または1を割り当てます。 デバイス Id は、パラレルポートに物理的に近いデバイスから順に、デバイスに割り当てられます。

-   FDO とそれに関連付けられた WMI データブロックおよびコールバックを WDM プロバイダーに登録します。

    パラレルポート関数ドライバーは、パラレルポートが割り当てられ解放された回数をログに記録します。

-   パラレルポートハードウェアによってサポートされる通信モードを決定します。

    ハードウェアは、少なくとも IEEE 1284 互換である必要があります。 パラレルポート関数ドライバーは、ハードウェアがバイト、EPP、および ECP モードをサポートしているかどうかを確認します。 EPP は、少数のコンピューターのサブセットでのみサポートされていることに注意してください。

-   パラレルポートの作業キュー (FIFO) を作成します。

    各パラレルポートには、独自の作業キューがあります。 パラレルポート関数のドライバーキューは、デバイス要求を割り当てて選択するだけです。 パラレルポート関数ドライバーが新しい割り当て要求または選択要求を受信したときにポートが既に割り当てられている場合は、要求をキューに配置します。

 

 




