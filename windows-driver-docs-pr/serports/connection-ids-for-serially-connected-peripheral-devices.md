---
title: 接続 Id を逐次的に周辺機器を接続
description: SerCx2 によって管理されているシリアル ポートに接続されている周辺機器のデバイスのドライバーを記述する場合、ドライバーを受信するハードウェア リソースの一覧には、プラットフォーム ファームウェアからデバイスの接続情報をカプセル化する接続 ID が含まれます。
ms.assetid: 9A688552-DFAF-48A1-935D-70C3B13F30EC
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 9a7e22bef2608daf2719213a74a4ec4b37502876
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/31/2019
ms.locfileid: "56527790"
---
# <a name="connection-ids-for-serially-connected-peripheral-devices"></a>接続 Id を逐次的に周辺機器を接続


SerCx2 周辺機器を完全に接続するシリアル ポートを管理します。 これらの物理接続が固定であるためには、ハードウェア プラットフォームの ACPI ファームウェアで記述できます。 SerCx2 によって管理されているシリアル ポートに接続されている周辺機器のデバイスのドライバーを記述する場合、ドライバーを受信するハードウェア リソースの一覧が含まれています、*接続 ID*デバイスの接続情報をカプセル化します。プラットフォーム ファームウェア。

システムの起動時には、プラグ アンド プレイ (PnP) マネージャーは、PnP デバイスと非 PnP デバイスの両方を列挙します。 非 PnP 周辺機器デバイスのシリアル ポートに固定接続がある場合は、PnP マネージャーは、デバイスにアクセスする方法を説明する接続パラメーターのセットを取得する、ハードウェア プラットフォームの ACPI のファームウェアを照会します。 これらの接続パラメーターは、デバイスが接続されているポートのシリアル コント ローラーの識別し、ボー レートやフロー制御の設定、デバイスと通信するシリアル コント ローラーを必要とするなどの他の情報が含まれます。

PnP マネージャーでは、この周辺機器のデバイスの接続パラメーターを表すための接続 ID を割り当てます。 PnP マネージャーは、この ID と呼ばれるシステム データ ストア内での接続パラメーターを格納、*リソース ハブ*します。 (リソース ハブは PnP manager で逐次的に接続されている周辺機器に関する構成情報を格納する内部のデータストアです)。接続 ID は、周辺機器のドライバーがそれらを不透明なとして扱うように、これらのパラメーターをカプセル化します。

周辺機器のドライバーは、ハードウェア リソースを割り当て、ドライバーの一環として、逐次的に接続されている周辺機器の接続 ID を受信します。 周辺機器のドライバーを周辺機器のデバイスへの接続を開くシステム関数を呼び出すと、ドライバーはシステム関数を使用してリソース ハブからデバイスの接続パラメーターを取得する接続 ID を提供します。

接続 Id を使用して、逐次的に接続されている周辺機器への論理接続を開く UMDF および KMDF ドライバーのコード例については、次のトピックを参照してください。

[周辺機器の UMDF ドライバーをシリアル ポートに接続する](connecting-a-umdf-peripheral-device-driver-to-a-serial-port.md)
[周辺 KMDF ドライバーをシリアル ポートに接続する](connecting-a-kmdf-peripheral-device-driver-to-a-serial-port.md)シリアル ポート周辺機器のデバイスへの接続を開くクライアントへの排他アクセスを持つ接続が閉じられるまでのポート。 同じポートを 2 つ目の接続を開くには、別のクライアントによって試行は失敗します。

クライアントは、シリアル ポートを開いた直後に、未知または不定状態で、ポートが想定してください。 クライアントは、使用できる状態にあるように、ポートを構成する責任を負います。

操作のシリアル ポートを構成するには、クライアント要求を送信 I/O コントロール (IOCTL) シリアル コント ローラーにします。 クライアントは通常、送信、 [ **IOCTL\_シリアル\_適用\_既定\_構成**](https://msdn.microsoft.com/library/windows/hardware/hh406621)ポートを設定する、コント ローラーへの要求の既定の構成。 必要に応じて、クライアントは、1 つまたは複数の既定の構成設定をオーバーライドする追加のシリアル Ioctl を送信できます。 たとえば、Windows では、ボー レート、フロー制御パラメーター、行コントロールの設定、およびタイムアウト値を変更の読み取りおよび書き込み要求をシリアル Ioctl を定義します。 SerCx2 でサポートされているシリアル Ioctl の一覧は、次を参照してください。[シリアル I/O 要求インターフェイス](serial-i-o-request-interface.md)します。

 

 




