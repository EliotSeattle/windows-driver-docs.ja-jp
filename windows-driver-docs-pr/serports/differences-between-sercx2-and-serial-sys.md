---
title: SerCx2.sys と Serial.sys の違い
description: 受信トレイ Sercx2 とシリアルドライバーコンポーネントの両方でシリアル i/o 要求インターフェイスが実装されていますが、これらのコンポーネントは交換できません。 これらは、さまざまな要件のセットを満たすように設計されています。
ms.assetid: 62FA69BB-FE04-4B5E-96CC-13764ED83AE6
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: cc6b0bb443d078725ec68b08998b476bcff08471
ms.sourcegitcommit: 4b7a6ac7c68e6ad6f27da5d1dc4deabd5d34b748
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/24/2019
ms.locfileid: "72845311"
---
# <a name="differences-between-sercx2sys-and-serialsys"></a>SerCx2.sys と Serial.sys の違い


受信トレイ Sercx2 とシリアルドライバーコンポーネントの両方で[シリアル i/o 要求インターフェイス](serial-i-o-request-interface.md)が実装されていますが、これらのコンポーネントは交換できません。 これらは、さまざまな要件のセットを満たすように設計されています。

**注**  Sercx2 は、Windows 8 で導入された以前のバージョンのシリアルフレームワーク拡張機能である sercx を置き換えます。 詳細については、「[シリアルコントローラードライバーの概要](serial-drivers-overview.md)」を参照してください。

 

## <a name="serialsys-dynamic-serial-connections-to-external-devices"></a>Serial .sys: 外部デバイスへの動的シリアル接続


Serial .sys は、16550A または同様の Uart によって駆動される名前付き COM ポートを制御するように設計されています。 外部周辺機器を動的に接続し、これらのポートから削除することができます。 シリアル .sys は、サポートされているすべてのバージョンの Windows に存在します。また、COM ポートを使用する既存のアプリケーションやドライバーの多くは、シリアル .sys の既知の動作によって異なります。 クライアントは、名前 (たとえば、"COM1") で COM ポートを開き、不要になったときにポートを解放します。

シリアルポートを介してデータを送受信する場合は、DMA ではなく、プログラミングされた i/o (PIO) を使用します。 PIO を使用する主な理由は、PC に適切なシステム DMA コントローラーがないことです。 Serial .sys は PCI アダプターまたは PCIe シリアルアダプターカードのシリアルポートを制御するために使用できますが、主に PC のマザーボード上の Uart を制御するように設計されています。 これらの Uart は、マスター DMA コントローラーが組み込まれていない下位デバイスです。 原則として、Serial .sys はシステム DMA コントローラーを使用できますが、PC では、このコントローラーは機能が制限された8237デバイスです。 複数のシリアルポートを実装するマルチポートボードにはマスタ DMA コントローラーが搭載されている場合がありますが、ボードのハードウェアベンダーは、これらの DMA 機能を利用するためにカスタムシリアルドライバーを作成する必要があります。

PC の COM ポートを介したデータ転送は比較的低速で、PIO によって適切に処理できます。 Serial .sys によって管理される COM ポートの駆動速度は、これらのポートに接続されているコネクタと外部ケーブルのインピーダンスおよびその他の電気プロパティによって制限されます。

## <a name="sercx2sys-dedicated-serial-connections-between-integrated-circuits"></a>Sercx2: 統合回線間の専用のシリアル接続


シリアルインターフェイスが広く使用されているので、印刷回路ボード上の統合回路間での pin の低い通信が提供されるようになりました。 これらのインターフェイスを介したデータ転送率は、小さなインピーダンスと短いパスの長さによって比較的高くなる可能性があります。 PIO を使用して、これらの高データレートでシリアルポートとの間でデータを移動すると、プロセッサの負荷が大きくなります。 代わりに、DMA はプロセッサからこの作業をオフロードするために必要です。

Sercx2 は、周辺機器に完全に接続され、高いデータ速度をサポートする専用のシリアルポートで動作するように設計されています。 Sercx2 とは異なり、は SoC ベースのハードウェアプラットフォームで DMA コントローラーの高度な機能を利用できます。 これらの DMA コントローラーは、プロセッサの介入をほとんどまたはまったく行わずに、複雑なデータ転送を行うことができます。

Sercx2 は、Windows 8.1 以降のすべてのバージョンの Windows で使用できますが、チップ (SoC) の統合回線上のシステムを含み、Windows RT を実行しているハードウェアプラットフォームで広く使用されています。 これらのプラットフォームでは、SoC チップには、シリアルポートがオフチップ周辺機器に接続する16550D または同様の Uart が含まれています。 これらの周辺機器は、スマートフォンやタブレットコンピューターなどのモバイルデバイスの場合に存在します。また、SoC チップと同じボードにはんだを付けている可能性があります。 周辺機器に永続的に接続されているシリアルポートは、このデバイスのドライバーに専用のハードウェアリソースとして割り当てられます。 通常、Sercx2 と関連付けられているシリアルコントローラードライバーによって管理されているシリアルコントローラーに i/o 要求を直接送信するのは、アプリケーションではなくドライバーのみです。

Sercx2 は DMA のサポートにおいて柔軟性があります。 システム DMA を使用する複雑なデータ転送は完全にサポートされています。 また、Sercx2 には、バスマスタ DMA 機能が組み込まれているシリアルコントローラーなどをサポートするためのオプションのカスタム転送モードが用意されています。 最後に、DMA のサポートは省略可能であり、PIO に十分な量のデータ速度を処理するシリアルコントローラーによって実装する必要はありません。

## <a name="other-differences"></a>その他の相違点

Serial によって制御される COM ポートには、デバイス名が割り当てられます。 ユーザーモードアプリケーションでは、このポートを名前で開いて、そのポートに直接 i/o 要求を送信できます。

これに対し、SerCx2 で制御されるシリアルポートとシリアルコントローラードライバーには名前が付いていません。 ポートに永続的に接続されている周辺機器を所有するドライバーは、ドライバーがポートを開くために使用する特別な識別子 ([*接続 ID*](connection-ids-for-serially-connected-peripheral-devices.md)と呼ばれます) を受け取ります。 通常、この周辺機器ドライバーのみが、ポートに i/o 要求を直接送信できます。 ポートを構成する必要があるアプリケーション、またはポートを介してデータを転送する必要があるアプリケーションでは、周辺ドライバーに i/o 要求を送信します。 次に、仲介者として機能するこのドライバーは、対応する i/o 要求をポートに送信します。

Sercx2 とそれに関連付けられているシリアルコントローラードライバーを使用すると、ランタイム[電源管理フレームワーク](https://docs.microsoft.com/windows-hardware/drivers/kernel/overview-of-the-power-management-framework)(pofx) を有効にして、これらのコントローラーに接続されているシリアルコントローラーと周辺機器の電源を管理できます。 Windows 8 以降で利用できる PoFx は、モバイルデバイスをバッテリ充電時に長時間にわたって実行できるように、微調整された電源管理機能を提供します。

これに対して、シリアル .sys は PoFx によって管理されておらず、以前のバージョンの Windows でサポートされているデバイスの電源管理機能に依存しています。

もう1つの違いは、Serial .sys はソフトウェアフロー制御を実装していますが、Sercx2 にはありません。 Serial .sys と Sercx2 は、両方ともハードウェアフロー制御をサポートしています。これは、送信*要求*(RTS) と*クリアメッセージ送信*(CTS) 信号を使用します。 フロー制御の詳細については、「 [**SERIAL\_のフローフロー**](https://docs.microsoft.com/windows-hardware/drivers/ddi/ntddser/ns-ntddser-_serial_handflow)」を参照してください。

最後の違いは、シリアル .sys は Serenum.sys と共に使用できますが、Sercx2 は使用できないということです。 Serenum.sys は、シリアルポートに接続されているデバイスを列挙するフィルタードライバーです。 詳細については、「 [Serenum.sys デバイスの列挙](enumerating-serenum-devices.md)」を参照してください。
