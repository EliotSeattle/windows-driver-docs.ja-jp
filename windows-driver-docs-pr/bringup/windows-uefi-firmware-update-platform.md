---
title: Windows UEFI ファームウェア更新プラットフォーム
description: Windows では、処理が UpdateCapsule 関数を使用してドライバー パッケージを使用してインストールのシステムとデバイス ファームウェアの更新をサポートします。
ms.assetid: 9F0D22FB-3C83-4F90-8E24-2205EEF9D5F7
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 82190d7efe9a28700310df7a188f391618ba6c20
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/31/2019
ms.locfileid: "56580353"
---
# <a name="windows-uefi-firmware-update-platform"></a>Windows UEFI ファームウェア更新プラットフォーム


Windows では、インストールを実行するシステムとドライバー パッケージは、UEFI UpdateCapsule 関数を使用して処理を使用してデバイス ファームウェアの更新プログラム、プラットフォームをサポートしています。 このプラットフォームにより、一貫性、信頼性の高いファームウェアの更新プログラムのエクスペリエンスとエンドユーザー向けの重要なシステム ファームウェアの更新プログラムの見つけやすさが向上します。

UEFI ファームウェアの更新プログラムのプラットフォームのガイダンスは、SoC ベンダや Oem Windows を実行しているハードウェア プラットフォームを構築する対象としています。 UEFI ファームウェアの更新プログラムのプラットフォームは、次のオペレーティング システム バージョンでサポートされています。

-   Windows 8
-   Windows 8.1
-   Windows 10 デスクトップ エディション (Home、Pro、Enterprise、Education)
-   Windows 10 Mobile

## <a name="uefi-firmware-update-support-in-windows-10"></a>Windows 10 での UEFI ファームウェア更新プログラムのサポート


デスクトップ エディションの Windows 10 を実行するすべてのシステムでは、ドキュメントのこのセクションで説明されている UpdateCapsule ベースの更新プロセスに従って UEFI ファームウェアの更新プログラムを実装する必要があります。

Windows 10 Mobile を実行しているデバイスは、Windows 10 デスクトップの使用 UpdateCapsule ベースのプロセスに従うことができます。 これらのデバイスには、UEFI ファームウェアを含む記憶域のパーティションへのバイナリの更新プログラムを実行するバイナリの更新プロセスに従ってこともできます。

Windows 10 Mobile を実行しているデバイスが、バイナリの更新プロセスを使用して、UEFI ファームウェアを更新する必要がありますを強くお勧めします。 Windows 10 Mobile を実行するデバイス UpdateCapsule ベースのプロセスでのみ使用できますのシナリオ、バイナリの更新プロセスを使用することはできません。 たとえば、次のように、デバイスのパーティション レイアウトが原因で、UEFI ファームウェアがバイナリの更新プログラム パッケージを使用して更新される場合です。

Windows 10 Mobile の .spkg パッケージの詳細については、次を参照してください。[パッケージを作成する](https://msdn.microsoft.com/library/dn756642)と[Update](https://msdn.microsoft.com/library/dn757518)します。

## <a name="overview-of-the-uefi-firmware-update-platform"></a>UEFI ファームウェアの更新プログラムのプラットフォームの概要


Windows を使用して処理されるファームウェアの 2 種類があります。 システム ファームウェアとデバイスのファームウェア。 システム ファームウェアは重要なブートおよびシステム全体としてのランタイム サービスの提供を担当し、デバイスのファームウェアがシステムに統合されて、特定のデバイスに関連付けられています。 このようなデバイスのファームウェアは、通常、OS、デバイスの OS レベルのサービスとアプリケーションを公開することができます、デバイス ドライバーと共に動作します。

### <a name="system-firmware-updates"></a>システム ファームウェアの更新プログラム

UEFI ベースのシステム、システム ファームウェアの更新プログラムは、デバイス ドライバー パッケージ (Inf) としてデプロイされます。 Windows では、プラットフォームによって提供される情報を使用して、更新プログラム パッケージが適切なシステムにのみ適用されることを確認します。 ファームウェアの更新プログラム パッケージには、システム ファームウェア イメージを含むバイナリ ファイルが含まれています。 ファームウェアの更新プログラム パッケージは、エンドユーザーのシステムが、Windows はハンドオフ ファームウェア ペイロードを処理するため、プラットフォーム ファームウェアに UEFI UpdateCapsule 関数を使用します。

ドライバー パッケージと更新の展開を使用するファームウェア更新プロセスは、多くの既存のデプロイやツール、サービスと連携し、により、ハードウェア ベンダーの単純な更新プログラム パッケージの作成します。

**注**  ドライバー パッケージは、更新プログラムが実際のドライバーとして記述されているありません、ファームウェアの更新プログラムが配信されるという事実です。 ドライバー パッケージには、INF ファイルと、システムまたはデバイスのファームウェア イメージを含むバイナリ ファイルが含まれます。

 

### <a name="device-firmware-updates"></a>デバイス ファームウェアの更新プログラム

デバイスのファームウェアの更新のために、これら 2 つのカテゴリのいずれかにデバイスのファームウェアを割り当てることができます。

-   UEFI 更新可能なデバイスのファームウェア。

    システム ファームウェアと同じメカニズムを利用するデバイス ドライバー パッケージを使用して、このデバイスのファームウェアを更新できます。 デバイス ファームウェアの更新は、ファームウェアの更新プログラム パッケージとして配布されます。 ファームウェアの更新プログラム パッケージは、エンドユーザーのシステムが、Windows はハンドオフ デバイス ファームウェアのペイロードを処理するため、プラットフォーム ファームウェアに UEFI UpdateCapsule 関数を使用します。 このプロセスは、Windows システム ファームウェアの更新プログラムのペイロードを渡しますかほぼ同じですが、下記に示します。

    そのデバイスのファームウェアはお勧め不連続のファームウェア更新のドライバー パッケージを使用して更新しますが、1 つのファームウェア更新プログラムのドライバー パッケージの一部としてシステム ファームウェアとデバイスのファームウェアが更新も可能性があります。

    **注**  周辺機器を更新する UEFI を使用しない必要があります。 UEFI では、デバイスを (外部、リムーバブル) の周辺機器は保証できませんが、ファームウェアの更新を適用するには再起動の間に存在する必要があります。

     

-   デバイス ドライバーを更新できないファームウェア。

    このデバイスのファームウェアは、通常の Windows OS の実行時にデバイス ドライバーによって更新できます。 このホワイト ペーパーでは、通常の Windows OS ドライバーを使用してデバイス ファームウェアの更新は対象外です。

### <a name="system-requirements-for-windows-firmware-updates"></a>ファームウェアの更新プログラムを Windows のシステム要件

Windows のファームウェア更新メカニズムと互換性があるシステムで、次の要件満たす必要があります。

-   システムが UpdateCapsule を実装する必要があり、QueryCapsuleCapabilities で定義されているセクションの 7.5.3、 [UEFI 仕様](https://go.microsoft.com/fwlink/p/?LinkId=218221)します。

    UpdateCapsule を使用して、Windows と、プラットフォーム ファームウェアのファームウェア更新プログラムのペイロードを渡します。

-   プラットフォームのファームウェアは、Windows によるファームウェアの更新プログラムをサポートする必要があります。

    システム ファームウェア、およびデバイスのファームウェアのいくつかのクラスは、このプロセスを使用して更新可能である必要があります。 ファームウェアのコードでは、UpdateCapsule に渡されるファームウェアの更新プログラムのペイロードを認識し、更新プロセスを開始します。 実装は、パートナーが所有します。

-   EFI システム リソース テーブル (ESRT) ファームウェアのリソースを指定する必要があります。

    ファームウェアのリソースでは、適切なシステムおよびデバイスへのシステムまたはデバイスのファームウェア更新をターゲットに使用するハードウェア ID を使用してインスタンスをデバイスに Windows を使用します。 また、現在のファームウェア バージョンをについて説明し、以前の更新プログラムの状態が表示されます。

    システム ファームウェアの更新プログラムの 1 つのエントリが存在します。 システム ファームウェアの更新プログラムの一部としてデバイスのファームウェアが更新されない限り、ファームウェアの更新可能なすべてのデバイスでは、ESRT で指定されたリソースが必要です。

    詳細については、次を参照してください。 [ESRT テーブル定義](esrt-table-definition.md)します。

## <a name="in-this-section"></a>このセクションの内容


-   [ファームウェアのドライバー パッケージを使用してシステムとデバイスのファームウェア更新プログラム](system-and-device-firmware-updates-via-a-firmware-driver-package.md)
-   [UEFI ファームウェアの更新プログラムのサポートを実装します。](implementing-support-for-uefi-firmware-updates.md)
-   [ユーザーは、UEFI ファームウェアの更新プログラムをエクスペリエンスします。](user-experience-for-uefi-firmware-updates.md)

 

 




