---
title: ブートおよび UEFI
description: ブート プロセスと Windows 10 を実行するデバイスの UEFI の実装要件に関するガイダンスを提供します。
ms.assetid: eff3f381-85fe-4bb3-a57f-3889ca8929f5
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 86b318e8d4ab86ed177faa6299a0bae263429c4d
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/31/2019
ms.locfileid: "56528742"
---
# <a name="boot-and-uefi"></a>ブートおよび UEFI


**注**  このセクションの一部の情報は、Windows 10 Mobile と特定のプロセッサ アーキテクチャにのみ適用可能性があります。

 

Windows 10 を実行しているデバイスには、OS を起動するいくつかの要件があります。 デバイスのファームウェアは、すべてのハードウェアを初期化した後、デバイスを起動するには、十分な能力があることを確認する必要があります。 その後、デバイスは、ユーザーがデバイスで、更新プログラムや復元を実行する場合、または、ユーザーがメインの OS に、デバイスを起動する場合に、に応じて適切な OS にデバイスを起動することを確認する必要があります。

これらの各シナリオに合わせては、Windows 10 のブート プロセスは、次のコンポーネントを使用します。

-   ファームウェア ブート ローダーが SoC ベンダーによって提供されます。

-   SoC ベンダーによって提供される UEFI (Unified Extensible Firmware Interface) 環境。

-   Windows ブート マネージャーが Microsoft によって提供されます。

このトピックでは、ブート プロセスの概要と、SoC ファームウェア ブート ローダー、UEFI、および Windows ブート マネージャーについて詳しく説明します。

## <a name="overview-of-the-boot-process"></a>ブート プロセスの概要


Windows 10 デバイスをオンにするとは、次の高度なプロセスをたどります。

1.  デバイスは、電源がオンにし、デバイスのハードウェアを初期化し、点滅している緊急の機能を提供する SoC 固有のファームウェア ブート ローダーを実行します。

2.  ファームウェア ブート ローダーは、SoC 仕入先、Microsoft、Oem によって記述された UEFI アプリケーションにコントロールの上、UEFI 環境と手を起動します。 これらのアプリケーションには、UEFI ドライバーとサービスを利用できます。

3.  UEFI 環境が点滅 FFU を起動するかどうかを決定する、Windows ブート マネージャーを起動または OS を更新したり、メインの OS、デバイスがモードをリセットします。

次の図は、高レベルでこのプロセスを示します。

![windows phone 用のブート プロセスの概要](images/oem-boot-flow-overview.png)

詳細については、この図では、コンポーネントの一部を次に示します。

-   OS 更新プログラムは、Microsoft によって提供される最小限の OS 環境です。 この OS は、具体的には、更新プログラムのインストールに使用されます。

-   FFU 点滅モードは、デバイスの記憶域に OS イメージが点滅している UEFI アプリケーションを指します。 Microsoft では、製造以外のシナリオで使用できるアプリケーションの点滅する UEFI を提供します。 Oem は、独自の UEFI アプリケーションを点滅を実装することもできます。

## <a name="soc-firmware-boot-loaders"></a>SoC のファームウェア ブート ローダー


SoC のファームウェア ブート ローダーは、実行するデバイスに必要なハードウェアの最小セットを初期化します。 SoC のファームウェア ブート ローダーは、できるだけ高速に完了するように設計し、実行中に画面に描画は何もします。 SoC のファームウェア ブート ローダーが完了すると、デバイスが UEFI 環境を起動します。

SoC のファームウェア ブート ローダーには、ブート環境が安定しないと、Microsoft 提供の点滅しているツールを使用して FFU ベースの点滅は点滅させるデバイスを許可する緊急の点滅機能も含まれています。 緊急の点滅、SoC. に特化したツールが必要です。 詳細については、SoC ベンダーにお問い合わせください。

## <a name="uefi"></a>UEFI


Windows 10、Unified Extensible Firmware インターフェイス (UEFI) システムの制御、SoC ファームウェア ブート ローダーから OS のハンドオフをサポートするために使用します。 UEFI 環境は、ブートの最小限の OS となるデバイスを起動し、Windows 10 の OS で実行されます。 詳細については、[Windows での UEFI](uefi-in-windows.md)を参照してください。

## <a name="understanding-the-windows-boot-manager"></a>Windows ブート マネージャー


Windows ブート マネージャー、Microsoft 提供の UEFI アプリケーションを設定するは、*ブート環境*します。 ブート環境では、個々 の内部*ブート アプリケーション*ブート マネージャーによって起動デバイスを起動する前に、すべての顧客向けシナリオの機能を提供します。

**重要な**  ブート環境内のすべてのコンポーネントは Microsoft によって提供および変更、置換、またはできません Oem では省略します。

 

ブート アプリケーションでは、次のシナリオで機能を実装します。

-   起動する前に、デバイスのバッテリを充電中です。

-   キャプチャとオフラインの保存はクラッシュ ダンプが (開発者ビルドのみ) です。

-   新しいイメージを使用してデバイスが点滅します。

-   デバイスをリセットしています。

-   デバイスを更新しています。

-   メインの OS にデバイスを起動します。

次の図は、UEFI 環境でその後に、ブート マネージャーがフォローを起動するプロセスの主要な部分の一部を示しています。

![windows phone 用のブート マネージャーのプロセス](images/oem-boot-flow-detail.png)

次の手順では、このプロセスの詳細について説明します。

1.  UEFI 環境では、ブート マネージャーを起動した後、ブート マネージャーを初期化します*ライブラリを起動*、判断するために、ブート構成データベースの読み取りを実行するアプリケーションを起動し、それらを実行するには、その順序。 ブート マネージャーが起動されますが、順番にアプリケーションを起動し、各アプリケーションは、完了後にブート マネージャーに戻るを終了します。

    ブートのライブラリは、既存の UEFI 機能に拡張し、ブート環境で使用するのには、関数のライブラリです。 ブート ライブラリにアクセスをブート マネージャーでを起動するが、ブート アプリケーションだけです。

2.  ブート マネージャーは、まず、ユーザーによって押されている予約済みのハードウェア ボタンの組み合わせをキャプチャします。

3.  (リテール) 以外の OS イメージ、ブート マネージャーは次により、デバイス OS の以前のセッションからの物理メモリのスナップショットをキャプチャするオフラインのクラッシュ ダンプ boot アプリケーションを実行します。 デバイスが異常にリセットされたとき、リセット前の OS セッションのメモリが保持されます。 この場合、オフラインのクラッシュ ダンプのアプリケーションはそのメモリを節約し、デバイスの電源を転送および分析できますが、オフラインのクラッシュ ダンプ ファイルにします。 前の OS のセッションでは、デバイスが異常にリセットしませんでした、オフラインのクラッシュ ダンプのアプリケーションはすぐに終了します。

4.  すべての OS イメージでブート マネージャーでは、mobilestartup.efi が次に実行されます。 このアプリケーションには、(たとえば、プロビジョニング、セキュリティで保護された boot ポリシー) に最初の起動時またはの製品版でないイメージのみが、(たとえば、USB 大容量記憶装置のモードに切り替わる) でのみ実行うちいくつかは、いくつかのブート ライブラリが実行されます。 次のライブラリは常に実行されます。

    1.  まず、mobilestartup.efi は UEFI バッテリの充電を実装するライブラリを実行します。 このライブラリは、ブート環境では、(または無効にすることとして認識される場合は)、デバイスには、自分のデバイスを充電することができます。 このライブラリは、デバイスが完全に起動するには、十分な能力を持つようにするため最初に実行します。 バッテリの充電アプリケーションに関連するシナリオの詳細については、[ブート環境でバッテリが充電中](battery-charging-in-the-boot-environment.md)を参照してください。

    2.  次に、mobilestartup.efi 点滅、デバイスのリセットおよび更新プログラムを実装するライブラリを実行します。 これらのライブラリが、デバイスが OS の更新プログラムまたはメイン OS を続行する場合や、デバイスは、点滅を起動する必要がありますまたはモードで、デバイスをリセットするかどうかを決定します。

5.  点滅する mobilestartup.efi が起動しない、またはデバイス モードのリセット、メインの OS または Update OS にブート マネージャーが起動します。

## <a name="related-topics"></a>関連トピック
[バッテリの充電でブート環境](battery-charging-in-the-boot-environment.md)  
[UEFI バッテリが充電アプリケーションのアーキテクチャ](architecture-of-the-uefi-battery-charging-application.md)  
[Windows での UEFI](uefi-in-windows.md)  



