---
title: スキャンのイベントの入力ソースを識別します。
description: スキャンのイベントの入力ソースを識別します。
ms.assetid: aaa0bbf4-6866-45d7-8150-c6a74d6c46c1
ms.date: 04/20/2017
ms.localizationpriority: medium
ms.openlocfilehash: 7973699746af26d45679b854ecf51d2034290454
ms.sourcegitcommit: a33b7978e22d5bb9f65ca7056f955319049a2e4c
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/31/2019
ms.locfileid: "56558513"
---
# <a name="identifying-the-input-source-for-a-scan-event"></a>スキャンのイベントの入力ソースを識別します。


A*プッシュ スキャン*操作は、ユーザーがデスクトップ コンピューターで実行されている WIA アプリケーションのユーザー インターフェイスからの代わりに、WIA スキャナー デバイスから開始するスキャン操作。 ユーザーは、デバイスのスキャンを開始 ボタンを押すと、アプリケーションは、ユーザーがスキャン操作を要求していることを通知するスキャンのイベントを受け取ります。 このイベントに応答して、アプリケーションは、次の 2 つの方法のいずれかで、プッシュ スキャン操作を実行できます。

-   デバイスがサポートしている場合[スキャンの自動構成](auto-configured-scanning.md)、アプリケーションからのデータ転送を要求できます、[自動項目](auto-item.md)現在選択されている入力ソース (ベッドを自動からイメージを取得するにはドキュメント フィーダー付きまたはアダプターのフィルム スキャン)。 応答して、デバイスを自動的に構成のスキャン設定 (で説明されていると、アプリケーションでのみ構成可能ないくつかのプロパティを除外[WIA して自動アイテムのプロパティがサポートされている](wia-properties-supported-by-an-auto-item.md)) 取得し、イメージです。

-   アプリケーションでは、直接プログラムの制御下でスキャン操作を実行できます。 最初に、アプリケーションは、現在選択されている入力ソースを表す WIA 項目 (項目のフラット ベッド、フィーダー項目、またはフィルム項目) のプロパティを構成します。 次に、アプリケーションは、この項目からのデータ転送を要求することによって、イメージを取得します。

WIA 項目に関する詳細については、次を参照してください。 [WIA 項目カテゴリ](wia-item-categories.md)します。

スキャン イベントが発生したときに、アプリケーションは、イベントの種類を指定する WIA イベント識別子 (GUID 値) を含む通知を受け取ります。 WIA ミニドライバーは、イベントにカスタム WIA イベント識別子の GUID を割り当てることができますか、ミニドライバーは、WIA のいずれかで使用できる\_イベント\_スキャン\_*XXX* のヘッダーファイルで定義されているGUID定数*Wiadef.h*します。 これらの定数の詳細については、次を参照してください。 [WIA イベント識別子](https://go.microsoft.com/fwlink/p/?linkid=127716)します。

WIA イベント識別子のスキャン イベントには、イベントに関する情報が用意されていますが、スキャン操作に使用する入力ソースは識別しません。 自動構成をスキャンするため、アプリケーションでこの情報は必要ありません。 ただし、direct プログラムの制御下のスキャンを実行する、アプリケーションはどの入力に使用するソースを知る必要があります。 アプリケーション、デバイスが 1 つ以上の入力ソースと、ユーザーの代わりに、アプリケーションのユーザー インターフェイスからのデバイスから入力ソースを選択できる場合、デバイスからこの情報を取得することが必要です。 デバイスからの入力ソースを選択するときにユーザーが選択できるソースが明示的に (デバイスの前面パネルのボタンを押す) のいずれかまたは暗黙的に (たとえば、デバイス上のフィーダーにドキュメントを挿入することで)。

Windows 7 および Windows の以降のバージョンでのスキャン イベントが発生したときにアプリケーションできますクエリを実行、WIA スキャナー デバイスの WIA\_DPS\_スキャン\_利用可能な\_場合は、選択した入力ソースを識別するために項目のプロパティ、デバイスは、このプロパティをサポートします。 WIA\_DPS\_スキャン\_利用可能な\_デバイスの WIA 項目のツリーで、ルート項目のオプションのプロパティの項目です。 このプロパティの詳細については、次を参照してください。 [ **WIA\_DPS\_スキャン\_利用可能な\_項目**](https://msdn.microsoft.com/library/windows/hardware/ff551426)します。

Windows Vista では、Devices (WSD) スキャン クラス ドライバー用の Web サービスは、WIA をサポートしている\_DPS\_スキャン\_利用可能な\_項目のプロパティ。 ドライバーは、このプロパティを定義します (名前 WIA \_WSD\_スキャン\_利用可能な\_項目) カスタム ドライバー拡張機能として。 ドライバーのみネットワーク WIA スキャナー実装しているデバイス、Windows デバイス プロトコル (WDP) 1.0 のスキャナーをサポートします。 Windows 7、WSD スキャン クラス ドライバーを使用すると、実装、WIA\_DPS\_スキャン\_利用可能な\_カスタム ドライバー拡張機能としては、代わりに、前の段落で説明したような標準のドライバーの機能として項目のプロパティ. WSD スキャン クラス ドライバーの詳細については、次を参照してください。[デバイス用の Web サービスと WIA](wia-with-web-services-for-devices.md)します。 スキャナーの WDP の詳細については、次を参照してください。[スキャン サービス スキーマのデバイス用の Web サービス](https://msdn.microsoft.com/library/windows/hardware/ff547963)します。

 

 




